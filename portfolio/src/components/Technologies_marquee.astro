---
interface Props {
	direction: string;
}

const {
	direction,
} = Astro.props;

const animation_time = "100s";


let technology_logo_1 = '';
let technology_logo_2 = '';
let technology_logo_3 = '';
let technology_logo_4 = '';
let technology_logo_5 = '';
let technology_logo_6 = '';

let technology_name_1 = '';
let technology_name_2 = '';
let technology_name_3 = '';
let technology_name_4 = '';
let technology_name_5 = '';
let technology_name_6 = '';

if (direction === 'left') {
    var start_1 = '0vw';
    var middle_1 = '-100vw';
    var end_1 = '-200vw';

    var start_2 = '100vw';
    var middle_2 = '0vw';
    var end_2 = '-100vw';

    var start_3 = '200vw';
    var middle_3 = '100vw';
    var end_3 = '0vw';

    technology_logo_1 = '/icons/python-logo-only.svg';
    technology_logo_2 = '/icons/pytorch-logo.svg';
    technology_logo_3 = '/icons/hf-logo-official.svg';
    technology_logo_4 = '/icons/langchain.svg';
    technology_logo_5 = '/icons/ollama-dark.svg';
    technology_logo_6 = '/icons/astro-icon-light-gradient.svg';

    technology_name_1 = 'Python';
    technology_name_2 = 'Pytorch';
    technology_name_3 = 'HugginFace';
    technology_name_4 = 'Langchain';
    technology_name_5 = 'Ollama';
    technology_name_6 = 'Astro';
} else if (direction === 'right') {
    var start_1 = '0vw';
    var middle_1 = '100vw';
    var end_1 = '200vw';
    
    var start_2 = '-100vw';
    var middle_2 = '0vw';
    var end_2 = '100vw';

    var start_3 = '-200vw';
    var middle_3 = '-100vw';
    var end_3 = '0vw';

    technology_logo_1 = '/icons/astro-icon-light-gradient.svg';
    technology_logo_2 = '/icons/ollama-dark.svg';
    technology_logo_3 = '/icons/langchain.svg';
    technology_logo_4 = '/icons/hf-logo-official.svg';
    technology_logo_5 = '/icons/pytorch-logo.svg';
    technology_logo_6 = '/icons/python-logo-only.svg';

    technology_name_1 = 'Astro';
    technology_name_2 = 'Ollama';
    technology_name_3 = 'Langchain';
    technology_name_4 = 'HugginFace';
    technology_name_5 = 'Pytorch';
    technology_name_6 = 'Python';
}
---

<section class="marquee-container">
    <div class="technologies-container1">
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_1} alt={technology_name_1} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_1}</p>
        </div>
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_2} alt={technology_name_2} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_2}</p>
        </div>
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_3} alt={technology_name_3} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_3}</p>
        </div>
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_4} alt={technology_name_4} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_4}</p>
        </div>
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_5} alt={technology_name_5} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_5}</p>
        </div>
        <div class="technology">
            <img class="technology_1" decoding="async" src={technology_logo_6} alt={technology_name_6} width="100" height="100" loading="lazy">
            <p class="technology_1">{technology_name_6}</p>
        </div>
    </div>

    <div class="technologies-container2">
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_1} alt={technology_name_1} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_1}</p>
        </div>
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_2} alt={technology_name_2} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_2}</p>
        </div>
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_3} alt={technology_name_3} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_3}</p>
        </div>
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_4} alt={technology_name_4} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_4}</p>
        </div>
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_5} alt={technology_name_5} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_5}</p>
        </div>
        <div class="technology">
            <img class="technology_2" decoding="async" src={technology_logo_6} alt={technology_name_6} width="100" height="100" loading="lazy">
            <p class="technology_2">{technology_name_6}</p>
        </div>
    </div>

    <div class="technologies-container3">
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_1} alt={technology_name_1} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_1}</p>
        </div>
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_2} alt={technology_name_2} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_2}</p>
        </div>
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_3} alt={technology_name_3} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_3}</p>
        </div>
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_4} alt={technology_name_4} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_4}</p>
        </div>
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_5} alt={technology_name_5} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_5}</p>
        </div>
        <div class="technology">
            <img class="technology_3" decoding="async" src={technology_logo_6} alt={technology_name_6} width="100" height="100" loading="lazy">
            <p class="technology_3">{technology_name_6}</p>
        </div>
    </div>
</section>

<style define:vars={{
    animation_time,
	start_1,
    middle_1,
    end_1,
    start_2,
    middle_2,
    end_2,
    start_3,
    middle_3,
    end_3,
}}>
    .marquee-container {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        gap: 20px;
        width: 100%;
        max-width: 1500px;
        position: relative;
    }
    .technologies-container1, .technologies-container2, .technologies-container3 {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 20px;
        overflow-x: hidden;
        width: 100%;
    }
    .technologies-container1 {
    }
    .technologies-container2 {
        position: absolute;
    }
    .technologies-container3 {
        position: absolute;
    }
    .technology {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin-right: 20px;
    }
    .technology_1 {
        animation: marquee1 var(--animation_time) linear infinite;
    }
    .technology_2 {
        animation: marquee2 var(--animation_time) linear infinite;
    }
    .technology_3 {
        animation: marquee3 var(--animation_time) linear infinite;
    }
    @media screen and (prefers-reduce-motion){
        .technology_1 {
            animation: none;
        }
        .technology_2 {
            animation: none;
        }
        .technology_3 {
            animation: none;
        }
    }
    img {
        width: 100%;
        height: auto;
        max-height: 100px;
    }
    p {
        font-weight: bold;
    }
    @media (max-width: 630px) {
        p {
            font-size: 0.6rem;
        }
    }
    @media (max-width: 500px) {
        p {
            display: none;
        }
    }
    
    @keyframes marquee1 {
        0% { transform: translateX(var(--start_1)); }
        50% { transform: translateX(var(--middle_1)); }
        100% { transform: translateX(var(--end_1)); }
    }
    @keyframes marquee2 {
        0% { transform: translateX(var(--start_2)); }
        50% { transform: translateX(var(--middle_2)); }
        100% { transform: translateX(var(--end_2)); }
    }
    @keyframes marquee3 {
        0% { transform: translateX(var(--start_3)); }
        50% { transform: translateX(var(--middle_3)); }
        100% { transform: translateX(var(--end_3)); }
    }
</style>