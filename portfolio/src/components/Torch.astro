---
import SocialLinks from '@components/SocialLinks.astro';

const { color_palette } = await import('@portfolio/consts.json');
const { colors } = await import('@portfolio/consts.json');

const torch_color = color_palette.color_500;
const torch_button_color = color_palette.color_300;
const torch_button_background_color = color_palette.color_900;
const torch_button_background_color_ = color_palette.color_950;
const torch_button_background_border_color = color_palette.color_1500;
const light_color = colors.color_white;
---

<div class="wrapper">
	<div class="outer">
        <div class="torchblock">
            <input type="radio" name="switch" value="on"/>
        	<input type="radio" name="switch" value="off" checked="checked"/>
        	<label for="switch" id="entypo-lamp"></label>
            <div class="btnouter"></div>
            <div class="torchhead"></div>
            <div class="lightblock"></div>
            <div class="backbg"></div>
            <div class="circle"></div>
            <div class="social-links"><SocialLinks /></div>
        </div>
    </div>
</div>

<style define:vars={{
	torch_color,
    torch_button_color,
    torch_button_background_color,
    torch_button_background_color_,
    torch_button_background_border_color,
    light_color,
}}>
    .wrapper 
    {
        width:100%;
        margin:0 auto;
        position:relative;
    }
    .outer 
    {
        width:100%;
        height: 100vh;
        overflow: hidden;
        padding:350px 10% 350px 10%;
        box-sizing:border-box;
        -moz-box-sizing:border-box;
        -webkit-box-sizing:border-box;
        -ms-box-sizing:border-box;
        -o-box-sizing:border-box;
    }
    .torchblock 
    {
        width:150px;
        height:50px;
        position:relative;
        z-index:0;
        background-color:var(--torch_color);
        border-top-left-radius:25px;
        -moz-border-top-left-radius:25px;
        -webkit-border-top-left-radius:25px;
        -ms-border-top-left-radius:25px;
        -o-border-top-left-radius:25px;
        border-bottom-left-radius:25px;
        -moz-border-bottom-left-radius:25px;
        -webkit-border-bottom-left-radius:25px;
        -ms-border-bottom-left-radius:25px;
        -o-border-bottom-left-radius:25px;
        -webkit-box-shadow: 0px 0px 2px 0px rgba(255,255,255,0.7);
        -moz-box-shadow: 0px 0px 2px 0px rgba(255,255,255,0.7);
        box-shadow: 0px 0px 2px 0px rgba(255,255,255,0.7);
    } 
    .torchblock:before 
    {
        content:'';
        position:absolute;
        right:-30px;
        top:-5px;
        width:40px;
        height:10px;
        background:var(--torch_color);
        transform:rotate(-30deg);
        -moz-transform:rotate(-30deg);
        -ms-transform:rotate(-30deg);
        -webkit-transform:rotate(-30deg);
        -o-transform:rotate(-30deg);
        z-index:0 
    }
    .torchblock:after 
    {
        content:'';
        position:absolute;
        right:-30px;
        bottom:-5px;
        width:40px;
        height:10px;
        background:var(--torch_color);
        transform:rotate(30deg);
        -moz-transform:rotate(30deg);
        -webkit-transform:rotate(30deg);
        -ms-transform:rotate(30deg);
        -o-transform:rotate(30deg);
        z-index:0 
    }
    .backbg 
    {
        position:absolute;
        left:145px;
        top:5px;
        width:25px;
        height:40px;
        background-color:var(--torch_button_background_color);
        z-index:-1;
    }
    .torchhead
    { 
        position:absolute;
        right:-42px;
        top:-15px;
        z-index:2;
        height:60px;
        width:10px;
        border:10px solid var(--torch_color);
        border-radius:100%;
        background:rgba(255,255,255,1);
    }
    .torchbtn 
    {
        background-color:var(--light_color);
        border:0;
        height:12px;
        width:25px;
        position:absolute;
        top:50%;
        right:20px;
        margin:-6px 0 0;
        border-radius:5px;
        outline:0;
    }
    .torchbtn:focus, .torchbtn:hover 
    {
        outline:none;
    }
    .lightblock 
    {
        position:absolute;
        top:-25px;
        left:18px;
        height:100px;
        width:555px;
        z-index:3;
    }
    input[name="switch"], input[name="switch"] + label 
    {
        position: absolute;
        top:18px;
        width:30px;
        height:15px;
        margin:0;
        padding:0;
    }
    input[name="switch"] + label 
    {
        left:100px;
        color:var(--light_color);
        background-color:var(--torch_button_background_color);
        border-radius:20px;
        -moz-border-radius:20px;
        -webkit-border-radius:20px;
        -ms-border-radius:20px;
        -o-border-radius:20px;
        z-index:1;
        transition:All 0.2s ease-in-out;
        -moz-transition:All 0.2s ease-in-out;
        -webkit-transition:All 0.2s ease-in-out;
        -o-transition:All 0.2s ease-in-out;
        -ms-transition:All 0.2s ease-in-out;
    }
    input[name="switch"] 
    {
        opacity:0;
        z-index: 9;
        cursor: pointer;
    }
    input[value="on"] 
    {
        left:100px;
    }
    input[value="off"] 
    {
        left:-500px;
            
    }
    input[value="on"]:checked 
    {
        left: -500px;
        
    }
    input[value="on"]:checked + input[value="off"] 
    {
        left:100px;
            
    }
    input[value="on"]:checked ~ .lightblock 
    {
        background:rgba(255,255,255,.95);
        transform: perspective(300px) rotateY(-45deg);
        -webkit-transform: perspective(300px) rotateY(-45deg);
        -moz-transform: perspective(300px) rotateY(-45deg);
        -o-transform: perspective(300px) rotateY(-45deg);
        -ms-background: rgba(255,255,255,1);
        box-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 30px rgba(255, 255, 255, 0.8), 0 0 70px rgba(255, 255, 255, 0.9), 0 0 10px rgba(255, 255, 255, 0.9);
    }
    input[value="on"]:checked ~ #entypo-lamp 
    {
        left:109px;
    }
    .btnouter 
    {
        border:2px solid var(--torch_button_background_border_color);
        width:45px;
        height:19px;
        position:absolute;
        left:95px;
        top:14px;
        border-radius:20px;
        -webkit-border-radius:20px;
        -moz-border-radius:20px;
        -o-border-radius:20px;
        -ms-border-radius:20px;
        background:var(--torch_button_background_color_);
        z-index:0;
    }
    .circle 
    {
        background-color:var(--light_color);
        position:absolute;
        right:-749px;
        top:-119px;
        width:70px;
        height:289px;
        border-radius:50%;
        z-index:-1;
        line-height:289px;
        text-align:center;
        opacity:0;
    }
    .social-links
    {
        opacity:0;
        position:absolute;
        right:-1120px;
        top:15px;
        width:350px;
    }
    input[value="on"]:checked ~ .circle, input[value="on"]:checked ~ .social-links
    {
        opacity:1;
    }
</style>

