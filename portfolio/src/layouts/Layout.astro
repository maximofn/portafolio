---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const { color_palette } = await import('../../consts.json');
const { colors } = await import('../../consts.json');
const { max_width } = await import('../../consts.json');

const background_color = colors.background_color;
const font_color = colors.color_white;
const color_grid_dark = colors.color_grid_dark;
const color_h1 = color_palette.color_700;
const color_h2 = color_palette.color_400;
const color_h3 = color_palette.color_300;
const color_h4 = color_palette.color_200;
const color_h5 = color_palette.color_100;
const color_h6 = color_palette.color_50;

interface Props {
	title: string;
	languaje: string;
	description: string;
	keywords: string;
	author: string;
	theme_color: string;
	url: string;
	icon: string;
}

const { 
	title,
	languaje,
	description,
	keywords,
	author,
	theme_color,
	url,
	icon,
} = Astro.props;

const debug_outline = '0px';
---

<!doctype html>
<html lang={languaje} class=page>
	<head>
		<title>{title}</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />
		<meta name="author" content={author} />
		<meta name="robots" content="index, follow" />
		<meta name="theme-color" content={theme_color} />
		<link rel="icon" type="image/svg+xml" href={icon} />

		<meta property="og:type" content="website" />
		<meta property="og:url" content={url} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={icon} />
		<meta property="og:site_name" content={title} />
		<meta property="og:locale" content={languaje} />

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:url" content={url} />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content={icon} />
	</head>
	<body>
		<Header></Header>
		<main class="layout-style">
			<slot class="layout-content"/>
		</main>
		<Footer></Footer>
		<section class="background-grid"></section>
	</body>
</html>

<style is:global define:vars={{
	debug_outline,
	max_width,
	background_color,
	font_color,
	color_grid_dark,
	color_h1,
	color_h2,
	color_h3,
	color_h4,
	color_h5,
	color_h6,
}}>
	
	html {
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		align-items: center;
		gap: 20px;
		margin: 0px;
		padding: 0px;
		font-family: 'Cascadia code', system-ui, sans-serif;
		color: var(--font_color);
		background: var(--background_color);
		color-scheme: dark light;
		width: 100%;
		height: 100%;
		z-index: -2;
	}
	.background-grid {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image: linear-gradient(to right, var(--color_grid_dark) 1px, transparent 1px),
		linear-gradient(to bottom, var(--color_grid_dark) 1px, transparent 1px);
		background-size: 14px 24px;
		-webkit-mask-image: linear-gradient(ellipse 60% 50% at 50% 0%, #000 70%, transparent 100%);
		mask-image: radial-gradient(ellipse 60% 50% at 50% 0%, #000 70%, transparent 100%);
		z-index: -1;
	}

	body{
		width: 100%;
		margin: 0;
	}

	a {
		color: var(--colors.color_white);
	}

	@font-face {
		font-family: 'Cascadia Code';
		src: url('/fonts/ttf/CascadiaCodeItalic.ttf') format('ttf');
	}

	main {
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		align-items: center;
		gap: 300px;
		margin: 0px 50px;
		max-width: var(--max_width);
		height: auto;
		width: 100%;
	}

	img {
		max-width: 1500px
	}

	h1 {
		color: var(--color_h1);
		font-size: 3.5rem;
	}
	h2 {
		color: var(--color_h2);
		font-size: 2.5rem;
		margin-top: 100px;
	}
	h3 {
		color: var(--color_h3);
		font-size: 1.5rem;
		margin-top: 50px;
		padding-left: 20px;
	}
	h4 {
		color: var(--color_h4);
		font-size: 1rem;
		margin-top: 20px;
		padding-left: 40px;
	}
	h5 {
		color: var(--color_h5);
		font-size: 1rem;
		font-style: oblique;
		margin-top: 10px;
		padding-left: 60px;
	}
	h6 {
		color: var(--color_h6);
		font-size: 1rem;
		font-style: oblique;
		padding-left: 80px;
	}
	
</style>
