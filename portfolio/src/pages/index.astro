---
import Layout from '@layouts/Layout.astro';
import ProjectCard from '@components/ProjectCard.astro';
import LastPosts_es from '@components/lastPostsComponents/LastPosts_es.astro';

const { maximofn_photo_path } = await import('@portfolio/consts.json');
const { metadata_page } = await import('@portfolio/consts.json');
const { colors } = await import('@portfolio/consts.json');
const { social_links } = await import('@portfolio/consts.json');
const { sticky_top_positions } = await import('@portfolio/consts.json');
const { about_me } = await import('@portfolio/hero_texts.json');
const { last_projects } = await import('@portfolio/last_projects.json');

const languaje = metadata_page.languaje_es;

if ( languaje === 'es' ) {
	var about_me_title = about_me.title.es;
	var about_me_description1 = about_me.description1.es;
	var about_me_description2 = about_me.description2.es;
	var about_me_description3 = about_me.description3.es;
	var about_me_description4 = about_me.description4.es;
	var about_me_description5 = about_me.description5.es;
	var about_me_call_to_action = about_me.call_to_action.es;

	var projects_title = last_projects.title.es;
	var project1_title = last_projects.project1.title.es;
	var project1_description = last_projects.project1.description.es;
	var project1_image_path = last_projects.project1.image_path.es;
	var project1_image_hover_path = last_projects.project1.image_hover_path.es;
	var project1_project_link = last_projects.project1.project_link.es;
	var project1_code_link = last_projects.project1.code_link.es;
	var project2_title = last_projects.project2.title.es;
	var project2_description = last_projects.project2.description.es;
	var project2_image_path = last_projects.project2.image_path.es;
	var project2_image_hover_path = last_projects.project2.image_hover_path.es;
	var project2_project_link = last_projects.project2.project_link.es;
	var project2_code_link = last_projects.project2.code_link.es;
	var project3_title = last_projects.project3.title.es;
	var project3_description = last_projects.project3.description.es;
	var project3_image_path = last_projects.project3.image_path.es;
	var project3_image_hover_path = last_projects.project3.image_hover_path.es;
	var project3_project_link = last_projects.project3.project_link.es;
	var project3_code_link = last_projects.project3.code_link.es;
} else if ( languaje === 'en' ) {
	var about_me_title = about_me.title.en;
	var about_me_description1 = about_me.description1.en;
	var about_me_description2 = about_me.description2.en;
	var about_me_description3 = about_me.description3.en;
	var about_me_description4 = about_me.description4.en;
	var about_me_description5 = about_me.description5.en;
	var about_me_call_to_action = about_me.call_to_action.en;

	var projects_title = last_projects.title.en;
	var project1_title = last_projects.project1.title.en;
	var project1_description = last_projects.project1.description.en;
	var project1_image_path = last_projects.project1.image_path.en;
	var project1_image_hover_path = last_projects.project1.image_hover_path.en;
	var project1_project_link = last_projects.project1.project_link.en;
	var project1_code_link = last_projects.project1.code_link.en;
	var project2_title = last_projects.project2.title.en;
	var project2_description = last_projects.project2.description.en;
	var project2_image_path = last_projects.project2.image_path.en;
	var project2_image_hover_path = last_projects.project2.image_hover_path.en;
	var project2_project_link = last_projects.project2.project_link.en;
	var project2_code_link = last_projects.project2.code_link.en;
	var project3_title = last_projects.project3.title.en;
	var project3_description = last_projects.project3.description.en;
	var project3_image_path = last_projects.project3.image_path.en;
	var project3_image_hover_path = last_projects.project3.image_hover_path.en;
	var project3_project_link = last_projects.project3.project_link.en;
	var project3_code_link = last_projects.project3.code_link.en;
} else if ( languaje === 'pt' ) {
	var about_me_title = about_me.title.pt;
	var about_me_description1 = about_me.description1.pt;
	var about_me_description2 = about_me.description2.pt;
	var about_me_description3 = about_me.description3.pt;
	var about_me_description4 = about_me.description4.pt;
	var about_me_description5 = about_me.description5.pt;
	var about_me_call_to_action = about_me.call_to_action.pt;

	var projects_title = last_projects.title.pt;
	var project1_title = last_projects.project1.title.pt;
	var project1_description = last_projects.project1.description.pt;
	var project1_image_path = last_projects.project1.image_path.pt;
	var project1_image_hover_path = last_projects.project1.image_hover_path.pt;
	var project1_project_link = last_projects.project1.project_link.pt;
	var project1_code_link = last_projects.project1.code_link.pt;
	var project2_title = last_projects.project2.title.pt;
	var project2_description = last_projects.project2.description.pt;
	var project2_image_path = last_projects.project2.image_path.pt;
	var project2_image_hover_path = last_projects.project2.image_hover_path.pt;
	var project2_project_link = last_projects.project2.project_link.pt;
	var project2_code_link = last_projects.project2.code_link.pt;
	var project3_title = last_projects.project3.title.pt;
	var project3_description = last_projects.project3.description.pt;
	var project3_image_path = last_projects.project3.image_path.pt;
	var project3_image_hover_path = last_projects.project3.image_hover_path.pt;
	var project3_project_link = last_projects.project3.project_link.pt;
	var project3_code_link = last_projects.project3.code_link.pt;
}

const sticky_top_default=sticky_top_positions.sticky_top_default;
const sticky_top_649px=sticky_top_positions.sticky_top_649px;
const sticky_top_418px=sticky_top_positions.sticky_top_418px;
const sticky_top_334px=sticky_top_positions.sticky_top_334px;
const sticky_top_315px=sticky_top_positions.sticky_top_315px;
const sticky_top_229px=sticky_top_positions.sticky_top_229px;
---

<Layout 
	title={metadata_page.title}
	languaje={languaje}
	description={metadata_page.description_es}
	keywords={metadata_page.keywords_es}
	author={metadata_page.author}
	theme_color={colors.background_color}
	url={social_links.portfolio_link_external}
	icon={metadata_page.icon}
>
	<section class="hero">
		<div class="hero_info">
			<h1>{about_me_title}<span>{metadata_page.title}</span></h1>
			<p>{about_me_description1}<span>{about_me_description2}</span>{about_me_description3}<span>{about_me_description4}</span>{about_me_description5}</p>
			<p>{about_me_call_to_action}</p>
		</div>
		<div class="avatar-container">
			<img class="avatar" src={maximofn_photo_path} alt={metadata_page.title} />
		</div>
	</section>

	<section class="projects">
		<h2>{projects_title}</h2>
		<div>
			<ProjectCard
				title={project1_title}
				description={project1_description}
				image_path={project1_image_path}
				image_hover_path={project1_image_hover_path}
				project_link={project1_project_link}
				code_link={project1_code_link}
			/>
			<ProjectCard
				title={project2_title}
				description={project2_description}
				image_path={project2_image_path}
				image_hover_path={project2_image_hover_path}
				project_link={project2_project_link}
				code_link={project2_code_link}
			/>
			<ProjectCard
				title={project3_title}
				description={project3_description}
				image_path={project3_image_path}
				image_hover_path={project3_image_hover_path}
				project_link={project3_project_link}
				code_link={project3_code_link}
			/>
		</div>
		<a href="/projects">Ver todos los proyectos -&#45;&gt;</a>
	</section>

	<LastPosts_es></LastPosts_es>
</Layout>

<style define:vars={{
	sticky_top_default,
	sticky_top_649px,
	sticky_top_418px,
	sticky_top_334px,
	sticky_top_315px,
	sticky_top_229px,
}}>
	.avatar {
		max-width: 291px;
		height: auto;
		width: 100%;
	}

	.avatar-container {
		margin-inline: auto;
	}

	.hero_info {
		margin-bottom: 10px;
		max-width: 700px;
	}

	.hero_info p {
		font-size: x-large;
	}

	.hero_info p span {
		font-weight: bold;
		font-size: xx-large;
		font-style: oblique;
		color: rgba(232, 230, 227, 0);
		-webkit-text-fill-color: transparent;
		background-image: linear-gradient(270deg, rgb(148, 127, 142), rgb(139, 103, 223));
		background-clip: text;
	}

	.hero_info h1 span {
		color: rgba(232, 230, 227, 0);
		-webkit-text-fill-color: transparent;
		background-image: linear-gradient(90deg, rgb(124, 7, 91), rgb(45, 6, 137));
		background-clip: text;
	}

	.hero {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		flex-flow: wrap-reverse;
		justify-content: space-between;;
		align-items: flex-start;
		gap: 10px;
		width: 100%;
		margin-top: 200px;
	}

	.hero img {
		display: flex;
	}

	.projects {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		gap: 50px;
		width: 100%;
	}

	.projects > div {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		gap: 10px;
		justify-content: space-around;
	}

	.posts {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		gap: 50px;
		width: 100%;
	}

	.posts > div {
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		align-items: flex-start;
		gap: 50px;
	}

	.projects > h2, .posts > h2 {
		position: sticky;
		top: var(--sticky_top_default);
	}

	@media (max-width: 649px) {
		.projects > h2, .posts > h2 {
			top: var(--sticky_top_649px);
		}
	}

	@media (max-width: 418px) {
		.projects > h2, .posts > h2 {
			top: var(--sticky_top_418px);
		}
	}

	@media (max-width: 334px) {
		.projects > h2, .posts > h2 {
			top: var(--sticky_top_334px);
		}
	}

	@media (max-width: 315px) {
		.projects > h2, .posts > h2 {
			top: var(--sticky_top_315px);
		}
	}

	@media (max-width: 229px) {
		.projects > h2, .posts > h2 {
			top: var(--sticky_top_229px);
		}
	}
</style>
