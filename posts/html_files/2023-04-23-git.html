<section class="section-block-markdown-cell">
<h1 id="Git">Git<a class="anchor-link" href="#Git">¶</a></h1>
</section>
<section class="section-block-markdown-cell">
<h2 id="Introduccion">Introducción<a class="anchor-link" href="#Introduccion">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Git es un software de control de versiones creado por Linus Torvalds, quien lo creó para poder tener un buen control de versiones cuando desarrolló el kernel de Linux.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Las areas de git">Las áreas de git<a class="anchor-link" href="#Las areas de git">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Git tiene tres áreas, aunque también se puede considerar una cuarta.</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/git-states.webp" alt="git states">
<ul>
  <li>La primera es nuestro espacio de trabajo, en él es donde tenemos todo nuestro código. Aquí cuando modificamos o creamos un archivo este pasa a estar como no trackeado, por lo que tenemos que pasarlo al área de <code>staged</code></li>
  <li>La segunda área es la de <code>staged</code>. Aquí los archivos que habíamos modificado o creado y que estaban no *trackeados* pasan a estar trackeados, es decir, git les hace un seguimiento. Aquí mandaremos los archivos al siguiente área de <code>head</code></li>
  <li>La tercera área es la de <code>head</code>. En ella hemos grabado una versión de nuestro código. De esta manera, grabando versiones podemos volver a versiones pasadas si es necesario. La versión grabada de nuestro código puede ser mandada a un servidor de manera que sea accesible por varias personas</li>
  <li>Las tres áreas anteriores corresponden al trabajo en local, pero hay una área más y es la de <code>remote server</code>. Aquí lo que hacemos es mandar la versión grabada de nuestro código a un servidor de manera que tengamos acceso al código desde cualquier lugar, o que tenga acceso más personas</li>
</ul>
<p>Para hacer un símil, es como un escenario en el que vas a hacer una foto. Primero tienes tus archivos modificados, de manera que los que quieres inmortalizar los mandas al área de <code>staged</code>, es decir al escenario. En el momento que has mandado todos los archivos que consideras, haces la foto, por lo que mandas todos los archivos al área de <code>head</code>. De esta manera, puedes ir haciendo muchas fotos, según va evolucionando el código, de manera que puedes tener en un álbum de fotos la evolución del código. Por último puedes subir esa foto a un servidor para que sea accesible por más gente, es decir, los mandas al área de <code>remote server</code></p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Instalar git">Instalar git<a class="anchor-link" href="#Instalar git">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>En la mayoría de distribuciones Linux git ya viene instalado, podemos comprobarlo haciendo <code>git --version</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>git version 2.25.1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si no lo tienes o quieres actualizar la versión de git solo tienes que ejecutar <code>sudo apt update</code> y a continuación <code>sudo apt install git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[sudo] password for maximo.fernandez@AEROESPACIAL.SENER:
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a comprobar la versión</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>git version 2.25.1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>En mi caso ya tenía la última versión</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Configuracion inicial">Configuración inicial<a class="anchor-link" href="#Configuracion inicial">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<h3 id="Configuracion del nombre y el correo">Configuración del nombre y el correo<a class="anchor-link" href="#Configuracion del nombre y el correo">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Antes de empezar a usar git es conveniente que hagas unas configuraciones mínimas como el nombre de usuario y el correo, esta información es la que saldrá a la hora de mostrar quién ha hecho cambios en el código. Para hacer esto hay que ejecutar</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global user.name "&lt;nombre de usuario&gt;"<br>git config --global user.email "&lt;email&gt;"</code></pre></div>
      </section>
<p>En mi caso metería</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global user.name "MaximoFN"<br>git config --global user.email "maximofn@gmail.com</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<p>Como se puede ver el flag <code>--global</code> lo que hace es cambiar la configuración global de git, pero si en un repositorio en concreto tienes que poner otros datos, simplemente navegas hasta el repositorio y quita el flag <code>--global</code> de los comandos anteriores</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config user.name "&lt;nombre de usuario&gt;"<br>git config user.email "&lt;email&gt;"</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<h3 id="Configurar el editor por defecto">Configurar el editor por defecto<a class="anchor-link" href="#Configurar el editor por defecto">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Cuando más adelante expliquemos qué son los <code>commit</code>s veremos que en una de las opciones se nos puede abrir un navegador. Por defecto git intentará usar <code>vim</code>, pero dado que no es un editor muy sencillo de usar, podemos modificarlo. A continuación se muestra cómo hacerlo con algunos editores comunes</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global core.editor "code"  # vscode como editor<br>git config --global core.editor "atom"  # Atom como editor<br>git config --global core.editor "subl"  # Sublime text como editor<br>git config --global core.editor "nano"  # Nano como editor</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<h3 id="Comprobar configuracion de git">Comprobar configuración de git<a class="anchor-link" href="#Comprobar configuracion de git">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Para revisar la configuración de git podemos usar <code>git config --list</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>user.name=maximofn
user.email=maximofn@gmail.com
user.user=maximofn
http.sslverify=true
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.origin.url=https://github.com/maximofn/portafolio.git
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
branch.main.remote=origin
branch.main.merge=refs/heads/main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos usar los flags <code>--global</code>, <code>--local</code> y <code>--system</code> para ver solo la configuración global, local (si existe) y de sistema (si existe)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>user.name=maximofn
user.email=maximofn@gmail.com
user.user=maximofn
http.sslverify=true
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">local</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.origin.url=https://github.com/maximofn/portafolio.git
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
branch.main.remote=origin
branch.main.merge=refs/heads/main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">system</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: unable to read config file &#x27;/etc/gitconfig&#x27;: No such file or directory
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>En mi caso no existe configuración de sistema</p>
</section>
<section class="section-block-markdown-cell">
<p>Si se quiere saber solo el valor de un parámetro de la configuración valdría con introducir <code>git config &#x3C;parameter&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>maximofn
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Control de versiones de manera local">Control de versiones de manera local<a class="anchor-link" href="#Control de versiones de manera local">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<h3>Inicializar un nuevo repositorio (<code>git init</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Hay dos maneras de inicializar un nuevo repositorio haciendo</p>
<ul>
  <li>Una es haciendo <code>git init <nombre repositorio></code>. Esto creará una nueva carpeta con el nombre del repositorio</li>
  <li>Otra es navegando a la carpeta donde queramos crear un repositorio y haciendo <code>git init</code></li>
</ul>
<p>Voy a crear un nuevo repositorio</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">init</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Inicializado repositorio Git vacío en /home/wallabot/Documentos/web/portafolio/posts/notebook_git/.git/
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora hacemos <code>ls</code> veremos que se ha creado una nueva carpeta llamada <code>notebook_git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>notebook_git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nos movemos a ella</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora dentro de la carpeta tenemos dos maneras de saber que se ha creado el repositorio, una haciendo <code>ls -a</code> que mostrará todos los archivos y veremos que hay una carpeta llamada <code>.git</code>. La otra manera es haciendo <code>git status</code> que nos dirá el estado del repositorio</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>.  ..  .git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

no hay nada para confirmar (crea/copia archivos y usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como estamos en un notebook, cada celda tiene su <code>path</code> en el <code>path</code> del notebook, por eso las dos veces he tenido que hacer <code>cd notebook_git &amp;&amp;</code>, para que cambie a la carpeta con el repositorio que acabamos de crear.</p>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora pruebo <code>git status</code> en otro <code>path</code> donde no se haya inicializado un repositorio nos dará un error</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="o">~/</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: no es un repositorio git (ni ninguno de los directorios superiores): .git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Crear nuevos archivos">Crear nuevos archivos<a class="anchor-link" href="#Crear nuevos archivos">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>En el momento en que hemos inicializado un repositorio podemos empezar a crear nuevos archivos, así que creamos uno y vemos qué ocurre</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Hello World&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hello</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora volvemos a hacer <code>git status</code> vemos que nos aparece</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	hello.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como se puede ver ahora nos está diciendo que el archivo <code>hello.py</code> no tiene seguimiento. Es decir, tenemos que añadir <code>hello.py</code> al área de <code>staged</code>, que recordemos era como el escenario donde íbamos a poner todo lo que más tarde le haremos una foto</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Deshacer la creacion de un archivo nuevo">Deshacer la creación de un archivo nuevo<a class="anchor-link" href="#Deshacer la creacion de un archivo nuevo">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>En este caso, como son archivos que git aún no está siguiendo, es decir, que aún no están en el área de <code>staged</code> tendríamos tres maneras de hacerlo</p>
</section>
<section class="section-block-markdown-cell">
<ul>
  <li>Borrándolo simplemente: Como git aún no sigue el archivo podríamos hacer <code>rm hello.py</code> y listo</li>
  <li>Borrándolo mediante un comando de Git: Antes hemos borrado con <code>rm</code>, pero es posible que estés en un sistema que no tenga el comando <code>rm</code>. Por lo que, en ese caso, se puede usar el comando de Git <code>git rm hello.py</code></li>
  <li>Por último, podemos usar <code>git clean</code>. Este es útil, por ejemplo, cuando hay muchos archivos nuevos, y así, en un solo comando, eliminamos todos.</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4><code>git clean</code></h4>
</section>
<section class="section-block-markdown-cell">
<p>Si ejecutamos <code>git clean</code> a secas, nos dará un error</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: clean.requireForce default en true y ninguno de -i, -n, ni -f entregado; rehusando el clean
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nos está diciendo que hace falta añadir uno de estos flags <code>-n</code>, <code>-i</code> o <code>-f</code>. Además vamos a ver el flag <code>-d</code></p>
<ul>
  <li><code>-n</code> (dry run): Nos dirá qué archivos se van a borrar, pero no los borrará</li>
  <li><code>-i</code>: Nos preguntará por cada archivo que se va a borrar</li>
  <li><code>-f</code>: Forzará el borrado de los archivos</li>
  <li><code>-d</code>: También borrará carpetas</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a probarlo, primero hacemos <code>git clean -n</code> para saber qué archivos se borrarían</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Será borrado hello.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora hacemos <code>git clean -f</code> para que lo borrar, ya que estamos de acuerdo en que lo borre</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando hello.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos ha borrado <code>hello.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Añadir un archivo al área de staged (<code>git add</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a crear un archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Hola mundo&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code> para comprobar que tenemos el archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	hola.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que tenemos el archivo <code>hola.py</code> pero que git no le está haciendo un seguimiento. Además vemos que nos ayuda y nos dice <code>usa &quot;git add&quot; para hacerles seguimiento</code></p>
<p>La sintaxis es la siguiente <code>git add &#x3C;archivo&#x3E;</code>, pero podemos hacerlo de varias maneras</p>
<ul>
  <li>Si queremos añadir más de un archivo lo podemos hacer poniendo todos los archivos que queremos añadir al área de staged, separados por un espacio: <code>git add <archivo1> <archivo2> <archivo3></code></li>
  <li>Si queremos añadir todos los archivos de un mismo formato, por ejemplo, si queremos añadir todos los archivos de Python sería <code>git add *.py</code></li>
  <li>Si queremos añadir todos los archivos de una carpeta <code>git add <folder>/</code></li>
  <li>Si queremos añadir todos los archivos tenemos tres maneras: <code>git add --all</code>, <code>git add -A</code> o <code>git add .</code></li>
</ul>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a añadir el nuevo archivo creado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code> para ver qué ha pasado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos dice que tenemos un nuevo archivo al que le hace seguimiento y que está pendiente de ser confirmado <code>hola.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Sacar un archivo del área de staged (<code>git reset</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>En caso de que añadamos un archivo al área de staged y lo queramos sacar, tenemos que usar <code>git reset &#x3C;archivo&#x3E;</code>, vamos a verlo</p>
</section>
<section class="section-block-markdown-cell">
<p>Creamos y añadimos al área de stage un nuevo archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este no&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos <code>git status</code> para comprobar que está en el área de stage</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: adios.py
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, están <code>hola.py</code> y <code>adios.py</code>, así que usamos <code>git reset adios.py</code> para sacarlo del área de staged</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code> para comprobar que ha salido</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	adios.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que <code>adios.py</code> ya no tiene seguimiento por parte de git, lo ha sacado del área de stage</p>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos <code>git clean -f</code> para borrarlo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando adios.py
En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Commit (<code>git commit</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si volvemos al símil en el que dijimos que el área de staged era el escenario donde mandábamos los archivos a los que queríamos hacerles la foto, ahora toca hacer la foto para inmortalizar el estado actual. Esto es hacer un <code>commit</code></p>
<p>De esta manera se registra el estado actual del código, así, con cada commit, se irá teniendo un registro de la evolución del código. Al igual que con un álbum de fotos, con cada foto vamos teniendo un registro de la evolución de lo que ponemos en el escenario.</p>
</section>
<section class="section-block-markdown-cell">
<p>Como a la hora de hacer el commit se está registrando el cambio del código, git no nos deja hacer el commit si no hacemos un mínimo comentario. Por lo que hay dos maneras de hacer commit</p>
<ul>
  <li><code>git commit</code> de esta manera se abrirá el editor que hayamos establecido en la configuración de git. Si no hemos configurado un editor por defecto, se abrirá <code>vi</code>. Si queremos cambiar la configuración del editor podemos hacer por ejemplo <code>git config --global core.editor "code"</code> o <code>git config core.editor "code"</code> para establecer vscode como el editor por defecto de manera global o local.</li>
  <li><code>git commit -m "Mensaje de commit"</code>. De esta manera añadimos el mensaje directamente</li>
</ul>
<p>Al hacer el commit de la primera forma podemos tener una primera línea que será el título del commit y varias líneas más donde se explica en más detalle. Si queremos poder hacer esto con el flag <code>-m</code> bastará con añadir varios flags <code>-m</code> seguidos: <code>git commit -m &quot;Titulo del commit&quot; -m &quot;Primera linea explicando más&quot; -m &quot;Segunda linea explicando más&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Una vez hemos hecho el commit, esto guardará un registro del cambio de nuestro repositorio de manera local. Aun no hemos conectado con un servidor remoto</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a probar a hacer el commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Primer commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master (commit-raíz) 1c95e4f] Primer commit, hola.py
 1 file changed, 1 insertion(+)
 create mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que nos dice que no hay nada nuevo, tenemos todo nuestro repositorio totalmente controlado</p>
</section>
<section class="section-block-markdown-cell">
<h4>Commit saltandonos add (<code>git commit -a -m</code> o <code>git commit -am</code>)</h4>
</section>
<section class="section-block-markdown-cell">
<p>En el caso en el que todos los archivos que hayamos modificados los queramos llevar al área de staged y luego hacerles un commit, podemos hacer todo esto en un solo paso mediante <code>git commit -a -m &quot;mensaje&quot;</code>, <code>git commit --all -m &quot;mensaje&quot;</code> o <code>git commit -am &quot;mensaje&quot;</code></p>
<blockquote>
<p>Nota: Esto solo es válido si se modifica un archivo. Si el archivo es nuevo y git no le hace seguimiento, esto no es válido</p>
</blockquote>
<p>Veamos un ejemplo, vamos a modificar <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;He añadido una nueva linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a hacer un <code>git status</code> para asegurarnos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que en la propia ayuda de git ya nos sugiere usar <code>git commit -a</code>, así que vamos a hacerlo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Segundo commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 6e99e73] Segundo commit, hola.py
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No hay nada para hacer commit, ya se ha hecho el commit del cambio</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Modificar un archivo al que se le habia hecho commit">Modificar un archivo al que se le había hecho commit<a class="anchor-link" href="#Modificar un archivo al que se le habia hecho commit">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como mientras desarrollamos estamos modificando archivos, puede que en algun archivo al que ya le habíamos hecho commit lo modifiquemos. En nuestro caso vamos a añadir una línea a <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;He añadido una tercera linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Hola mundo&#x27;)
print(&#x27;He añadido una nueva linea&#x27;)
print(&#x27;He añadido una tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si hacemos <code>git status</code> veremos que <code>hola.py</code> tiene modificaciones</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Ver cambios en un archivo (<code>git diff &#x3C;archivo&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Puede que llevemos un tiempo desarrollando desde el último commit y no sepamos qué modificaciones hemos hecho, para ello usamos <code>git diff &#x3C;archivo&#x3E;</code> que nos dirá los cambios que hemos hecho</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index 91dee80..fba0d22 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
 print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;He añadido una tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Aunque no es muy intuitivo podemos ver que hemos añadido la última línea en <code>hola.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Deshacer modificaciones en un archivo (<code>git restore &#x3C;archivo&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si los cambios que hemos hecho no nos gustan y los queremos quitar lo que podemos hacer es <code>git restore &#x3C;archivo&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">restore</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Veamos qué ha pasado con un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que se han descartado los cambios en <code>hola.py</code> desde el último commit</p>
</section>
<section class="section-block-markdown-cell">
<h3>Histórico de cambios (<code>git log</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Con git podemos ver el historial de todos los cambios que hemos ido commiteando, para ello usamos <code>git log</code>. Es como si nos pusiéramos a revisar nuestro álbum de fotos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 6e99e73cf0c5474078cc9f328ee6a54fb9ffb169 (HEAD -&amp;gt; master)
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:04 2023 +0200

&#x20;&#x20;&#x20;&#x20;Segundo commit, hola.py

commit 1c95e4fd8388ceedee368e0121c4b0ef4900c2ac
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:28:44 2023 +0200

&#x20;&#x20;&#x20;&#x20;Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver el historial de cambios, hay que leerlo de abajo hacia arriba.</p>
<p>Primero vemos el commit con mensaje <code>Primer commit, hola.py</code>, podemos ver la fecha, el autor y el hash, que es su identificador único</p>
<p>A continuación vemos el segundo commit con mensaje <code>Segundo commit, hola.py</code>, con su fecha, autor y hash. Además, nos muestra dónde está el <code>HEAD</code> y en qué rama estamos</p>
</section>
<section class="section-block-markdown-cell">
<p>Si usamos flags podemos obtener la información de distintas maneras, pero en función de qué flags usemos puede que nos venga mejor. A continuación se muestran algunos flags útiles:</p>
<ul>
  <li><code>git log --oneline</code>: Muestra los commits en una sola línea, con el hash abreviado y el mensaje del commit.</li>
  <li><code>git log --graph</code>: Muestra un gráfico de texto de la historia del repositorio, incluyendo ramas y fusiones.</li>
  <li><code>git log --decorate</code>: Muestra las referencias (ramas, etiquetas, HEAD, etc.) en el log junto con el commit al que apuntan.</li>
  <li><code>git log --author="<autor>"</code>: Filtra el historial de commits para mostrar solo aquellos realizados por un autor específico.</li>
  <li><code>git log --since="<fecha>"</code>: Muestra los commits realizados desde una fecha específica. Puedes usar diferentes formatos de fecha, como "1 week ago" o "2023-01-01".</li>
  <li><code>git log --until="<fecha>"</code>: Muestra los commits realizados hasta una fecha específica.</li>
  <li><code>git log <rama></code>: Muestra los commits de una rama específica.</li>
  <li><code>git log <commit1>..<commit2></code>: Muestra los commits que están en el rango entre dos commits específicos.</li>
  <li><code>git log --grep="<palabra>"</code>: Busca en los mensajes de commit por una palabra o frase específica.</li>
  <li><code>git log -p</code>: Muestra las diferencias (en forma de parche) introducidas en cada commit.</li>
  <li><code>git log -n <número></code>: Muestra los últimos número de commits. Por ejemplo, git log -n 5 mostrará los últimos 5 commits.</li>
  <li><code>git log --stat</code>: Muestra las estadísticas de cambios en archivos para cada commit, como el número de líneas añadidas y eliminadas.</li>
</ul>
<p>Por ejemplo una manera cómoda de ver el histórico es usar <code>git log --graph --oneline --decorate</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 6e99e73 (HEAD -&amp;gt; master) Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que en vez de darnos el hash entero nos da solo unos pocos números, esto es porque de momento el repositorio tiene tan poca historia, que con esos pocos números es suficiente, si quisiésemos volver al punto anterior, en vez de introducir el hash entero (<code>7c448f69e30ab1b5783f5cf9ee3ae5bc362ecd4d</code>), con introducir solo <code>7c448f6</code> valdría</p>
</section>
<section class="section-block-markdown-cell">
<p>Más adelante hablaremos sobre las ramas, pero ahora vamos a ver qué es el <code>HEAD</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="HEAD">HEAD<a class="anchor-link" href="#HEAD">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Mientras desarrollábamos hemos podido hacer cambios y commitearlos, es decir, hemos ido rellenando el album de fotos de nuestro código. <code>HEAD</code> es la posición en el album en la que estamos.</p>
<p>Normalmente es la última posición de todos los commits.</p>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos saber en qué punto estamos lo podemos hacer mediante <code>git rev-parse HEAD</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rev</span><span class="o">-</span><span class="n">parse</span> <span class="n">HEAD</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>6e99e73cf0c5474078cc9f328ee6a54fb9ffb169
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como se puede ver, el hash obtenido coincide con el último obtenido al hacer <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 6e99e73cf0c5474078cc9f328ee6a54fb9ffb169 (HEAD -&amp;gt; master)
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:04 2023 +0200

&#x20;&#x20;&#x20;&#x20;Segundo commit, hola.py

commit 1c95e4fd8388ceedee368e0121c4b0ef4900c2ac
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:28:44 2023 +0200

&#x20;&#x20;&#x20;&#x20;Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Modificar un commit (<code>git commit --amend</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Puede que queramos modificar un commit, porque queramos cambiar el mensaje, o porque queramos añadir más archivos al commit, de modo que veremos los dos casos</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Modificar el mensaje de commit">Modificar el mensaje de commit<a class="anchor-link" href="#Modificar el mensaje de commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Si solo se quiere modificar el mensaje, lo que tenemos que hacer es <code>git commit --amend -m &quot;Nuevo mensaje&quot;</code>, veamos un ejemplo vamos a modificar <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Esta es la tercera linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efectivamente vemos que <code>hola.py</code> tiene modificaciones, de modo que hacemos un commit con estas modificaciones</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Tercer commot, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 60e2ffd] Tercer commot, hola.py
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver el historial de commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 60e2ffd (HEAD -&amp;gt; master) Tercer commot, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>**Oh no!** hemos escrito <code>commot</code> en vez de <code>commit</code>, así que vamos a modificar el mensaje</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">--</span><span class="n">amend</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tercer commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master c4930d7] Tercer commit, hola.py
 Date: Sun Apr 16 02:29:59 2023 +0200
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a ver el hostorial</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 (HEAD -&amp;gt; master) Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que ahora está bien</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Anadir archivos al ultimo commit">Añadir archivos al último commit<a class="anchor-link" href="#Anadir archivos al ultimo commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que se nos ha olvidado añadir un archivo al último commit, simplemente hacemos un <code>git add</code> con ese archivo y hacemos <code>git commit --amend -m &quot;mensaje&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a crear dos archivos nuevos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 1&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 2&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora hacemos commit solo de uno</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 285b243] Commit con el archivo 1
 1 file changed, 1 insertion(+)
 create mode 100644 archivo1.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo2.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 285b243 (HEAD -&amp;gt; master) Commit con el archivo 1
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos hemos dejado el archivo 2, de modo que modificamos el commit y añadimos el archivo 2</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">--</span><span class="n">amend</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 1 y 2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 04ebd1f] Commit con los archivos 1 y 2
 Date: Sun Apr 16 02:30:26 2023 +0200
 2 files changed, 2 insertions(+)
 create mode 100644 archivo1.py
 create mode 100644 archivo2.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora el último commit tiene los dos nuevos archivos</p>
</section>
<section class="section-block-markdown-cell">
<h3>Deshacer un commit (<code>git reset HEAD~1</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Con este comando le decimos a git que retroceda una posición en el historial de commits. Hay dos opciones <code>--soft</code> que no borrarán los cambios que hayamos hecho y <code>--hard</code> que sí lo hará</p>
</section>
<section class="section-block-markdown-cell">
<h4>Deshacer un commit manteniendo los cambios (<code>git reset --soft HEAD~1</code>)</h4>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a crear un nuevo archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 3&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo3</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo3.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un commit añadiendo este archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo3</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivos 3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 6dc7be6] Commit con el archivos 3
 1 file changed, 1 insertion(+)
 create mode 100644 archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 6dc7be6 (HEAD -&amp;gt; master) Commit con el archivos 3
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que en el último commit se encuentra <code>archivo3.py</code>, vamos a eliminar el commit manteniendo <code>archivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">soft</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos ahora un <code>git log</code> para ver si se ha eliminado el último commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efectivamente, vemos que se ha eliminado el último commit</p>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code> para ver si se ha conservado <code>archivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se ha mantenido</p>
</section>
<section class="section-block-markdown-cell">
<h4>Deshacer un commit descartando los cambios (<code>git reset --hard HEAD~1</code>)</h4>
</section>
<section class="section-block-markdown-cell">
<p>Tenemos <code>archivo3.py</code> que lo hemos creado y lo tenemos en el área de stage</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por lo tanto, hacemos un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 0147d65] Commit con el archivo 3
 1 file changed, 1 insertion(+)
 create mode 100644 archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git log</code> para comprobar que hay un commit con este archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 0147d65 (HEAD -&amp;gt; master) Commit con el archivo 3
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efectivamente hay un commit añadiendo <code>archivo3.py</code>. Ahora eliminamos este commit descartando <code>archivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 04ebd1f Commit con los archivos 1 y 2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git log</code> para comprobar que se ha eliminado el último commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se ha eliminado el commit con <code>archivo3.py</code>, ahora hacemos un <code>git status</code> para comprobar qué ha pasado con <code>archivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No aparece <code>archivo3.py</code> como un archivo al que haya que hacer commit, vamos a ver si efectivamente se ha eliminado del todo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo3</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efectivamente se ha eliminado <code>archivo3.py</code> del sistema de ficheros</p>
</section>
<section class="section-block-markdown-cell">
<h3>Modificar un commit remoto (<code>git push --force</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Aunque más adelante veremos cómo sincronizarnos con repositorios remotos, en el caso que hayas hecho un commit, lo hayas subido a un repositorio remoto (<code>git push</code>) y hayas modificado el commit en local (porque has modificado el mensaje o has deshecho el commit), para revertir los cambios en el repositorio remoto tienes que hacer <code>git push --force</code></p>
<blockquote>
<p>**Cuidado!**: Este comando modifica el historial del repositorio remoto, por lo que puede afectar al resto de gente que esté trabajando con ese repositorio, así que usa este comando con mucho cuidado y seguridad. Vale más la pena tener un historial de commits, en el que primero está el commit en el que has puesto mal la descripción y luego el nuevo commit con la nueva descripción bien puesta, que andar modificando el historial.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<h3>Modificar un commit remoto (<code>git push --force-with-lease</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si estás convencido de cambiar el historial, al menos usa <code>git push --force-with-lease</code>, que no modificará commits que haya habido posteriormente</p>
</section>
<section class="section-block-markdown-cell">
<h3>Ignorar archivos (<code>.gitignore</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que tenemos un archivo con <code>API key</code>s, este archivo en realidad no queremos que se guarde en el repositorio, porque si luego compartimos este repositorio, cualquiera tendría acceso a estas claves, por lo que hay que decirle a git que no haga seguimiento de este archivo</p>
<p>Esto se hace con el archivo <code>.gitignore</code>, en él se añade la ruta de los archivos o directorios que no queremos que git haga seguimiento</p>
<p>Vamos a verlo</p>
</section>
<section class="section-block-markdown-cell">
<p>Creamos el archivo con las claves</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">api_keys</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si hacemos <code>git status</code> vemos que Git lo contempla</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	api_keys.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si no hacemos nada puede que un día hagamos un <code>git add .</code> y lo metamos en el repositorio, así que por seguridad hay que decirle a git que no siga este archivo, para ello, lo que hacemos es crear el <code>.gitignore</code> añadiendo este archivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;api_keys.py&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">.</span><span class="n">gitignore</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Veamos qué pasa si ahora hacemos <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	.gitignore

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que git ha dejado de contemplar <code>api_keys.py</code>, pero sí contempla <code>.gitignore</code>, por lo que hacemos un commit para añadir <code>.gitignore</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="o">.</span><span class="n">gitignore</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Añadido .gitignore&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 0b09cfa] Añadido .gitignore
 1 file changed, 1 insertion(+)
 create mode 100644 .gitignore
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4>¿Qué archivos añadir al <code>.gitignore</code>?</h4>
</section>
<section class="section-block-markdown-cell">
<ul>
  <li>Archivos que tengan credenciales o llaves de API (no deberías subirlas al repositorio, simplemente inyectarlas por variable de entorno)</li>
  <li>Carpetas de configuración de tu editor (<code>/.vscode</code>)</li>
  <li>Archivos de registro (log files)</li>
  <li>Archivos de sistema como <code>.DS_Store</code></li>
  <li>Carpetas generadas con archivos estáticos o compilaciones como <code>/dist</code> o <code>/build</code></li>
  <li>Dependencias que pueden ser descargadas (<code>/node_modules</code>)</li>
  <li>Coverage del testing (<code>/coverage</code>)</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4 id="¿Como ignorar siempre los mismos archivos?">¿Cómo ignorar siempre los mismos archivos?<a class="anchor-link" href="#¿Como ignorar siempre los mismos archivos?">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Si por ejemplo tu IDE siempre genera los mismos archivos de configuración, estaría bien poderle decir a git que siempre ignore esos archivos, para ello creamos un <code>.gitignore</code> global</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">touch</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>En mi caso voy a añadir el directorio <code>__pycache__/</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">echo</span> <span class="s2">&quot;__pycache__/&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora hay que indicarle a Git que ese es nuestro <code>.gitignore</code> global</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">core</span><span class="o">.</span><span class="n">excludesfile</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Listo, a partir de ahora el directorio <code>__pycache__/</code> siempre será ignorado</p>
</section>
<section class="section-block-markdown-cell">
<p>GitHub tiene un <a href="https://github.com/github/gitignore">repositorio</a> con <code>.gitignore</code>s para muchos lenguajes, yo me he guiado de <a href="https://github.com/github/gitignore/blob/main/Python.gitignore">este</a> para Python</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Eliminar un archivo de un commit">Eliminar un archivo de un commit<a class="anchor-link" href="#Eliminar un archivo de un commit">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver cómo eliminar un archivo de un commit que hemos hecho. Primero creamos dos archivos y les hacemos commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 4&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 5&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un commit con los dos archivos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 4 y 5&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master e3153a5] Commit con los archivos 4 y 5
 2 files changed, 2 insertions(+)
 create mode 100644 archivo4.py
 create mode 100644 archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* e3153a5 (HEAD -&amp;gt; master) Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>A partir de aquí hay dos opciones para eliminar un archivo de un commit:</p>
<ul>
  <li>Eliminar el archivo y crear un nuevo commit</li>
  <li>Deshacer el commit y crearlo de nuevo sin el archivo</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4 id="Eliminar el archivo y crear un nuevo commit">Eliminar el archivo y crear un nuevo commit<a class="anchor-link" href="#Eliminar el archivo y crear un nuevo commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que queremos eliminar el archivo <code>archivo5.py</code>, pues lo eliminamos con <code>git rm archivo5.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo5.py&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hagamos un <code>git status</code> a ver qué ocurre</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	borrados:        archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, se ha borrado <code>archivo5.py</code>. Ahora creamos un nuevo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Eliminado archivo5.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master ea615a9] Eliminado archivo5.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* ea615a9 (HEAD -&amp;gt; master) Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4 id="Deshacer el commit y crearlo de nuevo sin el archivo">Deshacer el commit y crearlo de nuevo sin el archivo<a class="anchor-link" href="#Deshacer el commit y crearlo de nuevo sin el archivo">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a crear dos archivos y hacer un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 6&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 7&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo6.py
	archivo7.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 6 y 7&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master d6dc485] Commit con los archivos 6 y 7
 2 files changed, 2 insertions(+)
 create mode 100644 archivo6.py
 create mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* d6dc485 (HEAD -&amp;gt; master) Commit con los archivos 6 y 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Primero deshacemos el último commit con <code>git reset --soft HEAD~1</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">soft</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code> para ver qué ha ocurrido</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo6.py
	nuevos archivos: archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que he deshecho el commit, pero que los dos archivos se encuentran en el área de staged, por lo que para sacar del commit uno de los archivos, primero hay que sacarlo del área de staged, para ello hacemos <code>git reset archivo6.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo7.py

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que <code>archivo7.py</code> está en el área de staged, mientras que <code>archivo6.py</code> ya no. Ahora podemos borrar archivo 6, para ello usamos <code>git clean</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Será borrado archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos <code>archivo.py</code> ya no está, por lo que podemos hacer un nuevo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 7&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 4bb9d75] Commit con el archivo 7
 1 file changed, 1 insertion(+)
 create mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hemos eliminado el último commit y lo hemos sobrescrito con uno nuevo, eliminando el archivo que queríamos</p>
</section>
<section class="section-block-markdown-cell">
<h3>Histórico de cambios de un archivo (<code>git log &#x3C;archivo&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Aunque antes hemos visto cómo podíamos ver el historial del repositorio con <code>git log</code> puede que no nos interese el historial de todo el repositorio. Puede que tengamos un bug en un archivo de código que al principio no teníamos, por lo que es posible que queramos ver solo el historial de ese archivo, para eso usamos <code>git log &#x3C;archivo&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primero vemos los archivos que tenemos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que solo queremos ver los cambios en <code>hola.py</code>, por lo que hacemos <code>git log hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que aparecen muchos menos resultados que si hubiésemos hecho <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Ver modificaciones de un archivo en un punto concreto del historial (<code>git show &#x3C;hash&#x3E; &#x3C;archivo&#x3E;</code> o <code>git diff &#x3C;archivo&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que ya sabemos en qué punto se realizó un cambio en el archivo que contiene un bug, por lo que ahora queremos saber qué cambios se realizaron para saber qué puede estar causando el bug para ello podemos usar <code>git show &#x3C;hash&#x3E; &#x3C;archivo&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Veamos qué cambios se produjeron en <code>hola.py</code> en el hash <code>c4930d7</code>, es decir cuando se hizo el tercer commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">show</span> <span class="n">c4930d7</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit c4930d7267c3f8df389ab0cb1bda0b5fceabb5c2
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:59 2023 +0200

&#x20;&#x20;&#x20;&#x20;Tercer commit, hola.py

diff --git a/hola.py b/hola.py
index 91dee80..33bdb99 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
 print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;Esta es la tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>La manera de ver los cambios en git no son muy intuitivas, pero podemos ver que se ha añadido la línea <code>print(&#x27;Esta es la tercera linea&#x27;)</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Otra manera de ver cambios es con <code>git diff</code>, tenemos dos opciones, podemos ver los cambios del fichero en el momento actual con un punto concreto del historial, para ello hacemos <code>git diff &#x3C;hash&#x3E; &#x3C;archivo&#x3E;</code>.</p>
<p>Por ejemplo, si queremos ver los cambios de <code>hola.py</code> de cuando se hizo el primer commit (hash <code>1c95e4f</code>) con la situación actual, hay que introducir (<code>git diff 1c95e4f hola.py</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index f140969..33bdb99 100644
--- a/hola.py
+++ b/hola.py
@@ -1 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
+print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;Esta es la tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Pero si lo que queremos es ver la diferencia entre un punto concreto del historial y otro punto concreto hay que introducir los hash de los dos momentos, es decir <code>git diff &#x3C;hash1&#x3E; &#x3C;hash2&#x3E; &#x3C;archivo&#x3E;</code></p>
<p>Si queremos ver los cambios de <code>hola.py</code> entre el segundo commit (hash <code>6e99e73</code>) y el primer commit (hash <code>1c95e4f</code>) tendríamos que introducir <code>git diff 1c95e4f 6e99e73 hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="mf">6e99</span><span class="n">e73</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index f140969..91dee80 100644
--- a/hola.py
+++ b/hola.py
@@ -1 +1,2 @@
 print(&#x27;Hola mundo&#x27;)
+print(&#x27;He añadido una nueva linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Lo anterior nos muestra los cambios del segundo commit con respecto al primero, pero si lo que queremos es los cambios del primer commit con respecto al segundo, solo hay que poner los hash al revés de como los hemos puesto, es decir <code>git diff 6e99e73 1c95e4f hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mf">6e99</span><span class="n">e73</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index 91dee80..f140969 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1 @@
 print(&#x27;Hola mundo&#x27;)
-print(&#x27;He añadido una nueva linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Viaje al pasado (<code>git reset --hard &#x3C;hash&#x3E;</code> o <code>git reset --soft &#x3C;hash&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Imaginemos que hemos encontrado que todo lo que hicimos después de generar el bug no sirve y tenemos que volver a trabajar desde ese punto, podemos volver a una posición del historial mediate <code>git reset --hard &#x3C;hash&#x3E;</code> (esto no mantendrá los cambios) o <code>git reset --soft &#x3C;hash&#x3E;</code> (esto sí mantendrá los cambios)</p>
</section>
<section class="section-block-markdown-cell">
<p>Primero veamos el historial</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que queremos ir al momento en el que hicimos el tercer commit (hash <code>c4930d7</code>), además lo hacemos sin mantener los cambios, es decir, todas las modificaciones que hicimos después se borrarán, hacemos <code>git reset --hard c4930d7</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primero hacemos <code>ls</code> para ver los archivos que tenemos ahora</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos al tercer commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">c4930d7</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en c4930d7 Tercer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si hacemos <code>ls</code> veremos que ya no tenemos ni <code>archivo1.py</code>, ni <code>archivo2.py</code>, ni <code>archivo4.py</code>, ni <code>archivo7.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Regreso al futuro (<code>git reflog</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que nos hemos arrepentido y queremos volver a donde estábamos, al último punto en el historial, una manera sería volver a hacer <code>git reset --hard &#x3C;hash&#x3E;</code>. Pero imaginemos que no sabemos el hash, porque no hicimos <code>git log</code> antes y si lo hacemos ahora solo nos da información del historial hasta el tercer commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 (HEAD -&amp;gt; master) Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Aquí lo que podemos hacer es <code>git reflog</code>, que nos dará un historial incluyendo los salto</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reflog</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>c4930d7 (HEAD -&amp;gt; master) HEAD@&#x7B;0&#x7D;: reset: moving to c4930d7
4bb9d75 HEAD@&#x7B;1&#x7D;: commit: Commit con el archivo 7
ea615a9 HEAD@&#x7B;2&#x7D;: reset: moving to HEAD~1
d6dc485 HEAD@&#x7B;3&#x7D;: commit: Commit con los archivos 6 y 7
ea615a9 HEAD@&#x7B;4&#x7D;: commit: Eliminado archivo5.py
e3153a5 HEAD@&#x7B;5&#x7D;: commit: Commit con los archivos 4 y 5
0b09cfa HEAD@&#x7B;6&#x7D;: commit: Añadido .gitignore
04ebd1f HEAD@&#x7B;7&#x7D;: reset: moving to HEAD~1
0147d65 HEAD@&#x7B;8&#x7D;: commit: Commit con el archivo 3
04ebd1f HEAD@&#x7B;9&#x7D;: reset: moving to HEAD~1
6dc7be6 HEAD@&#x7B;10&#x7D;: commit: Commit con el archivos 3
04ebd1f HEAD@&#x7B;11&#x7D;: commit (amend): Commit con los archivos 1 y 2
285b243 HEAD@&#x7B;12&#x7D;: commit: Commit con el archivo 1
c4930d7 (HEAD -&amp;gt; master) HEAD@&#x7B;13&#x7D;: commit (amend): Tercer commit, hola.py
60e2ffd HEAD@&#x7B;14&#x7D;: commit: Tercer commot, hola.py
6e99e73 HEAD@&#x7B;15&#x7D;: commit: Segundo commit, hola.py
1c95e4f HEAD@&#x7B;16&#x7D;: commit (initial): Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que nos dice que estábamos en el commit con hash <code>4bb9d75</code>, es decir el último commit que hicimos, y de ahí nos fuimos hasta el commit con hash <code>c4930d7</code>, que si te fijas, es el mismo hash que el commit con mensaje <code>Tercer commit, hola.py</code>. Por lo que ya sabemos el hash del último commit, el <code>4bb9d75</code>, así que para volver a la posición del último commit hacemos <code>git reset --hard 4bb9d75</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="mi">4</span><span class="n">bb9d75</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 4bb9d75 Commit con el archivo 7
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora volvemos a hacer un log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que efectivamente estamos en la posición del último commit, *hemos regresado al futuro*</p>
</section>
<section class="section-block-markdown-cell">
<h3>Búsqueda en ficheros (<code>git grep &#x3C;palabra&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos buscar en ficheros podemos hacerlo con la el comando <code>git grep</code>. Como en el repositorio que llevamos hecho es muy pequeño y tiene muy pocos archivos vamos a bajarnos uno nuevo mediante un comando que veremos después más en detalle</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">facebookresearch</span><span class="o">/</span><span class="n">segment</span><span class="o">-</span><span class="n">anything</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Clonando en &#x27;segment-anything&#x27;...
remote: Enumerating objects: 279, done.
remote: Counting objects: 100% (181/181), done.
remote: Compressing objects: 100% (77/77), done.
remote: Total 279 (delta 116), reused 104 (delta 104), pack-reused 98
Recibiendo objetos: 100% (279/279), 18.31 MiB | 21.25 MiB/s, listo.
Resolviendo deltas: 100% (140/140), listo.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>El repositorio que hemos bajado es el del código fuente de SAM, una red neuronal de Meta para segmentar cualquier objeto. Entramos en la carpeta del repositorio y buscamos, por ejemplo, cuántas veces se ha escrito la palabra <code>softmax</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:        attn = attn.softmax(dim=-1)
segment_anything/modeling/transformer.py:        attn = torch.softmax(attn, dim=-1)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que se ha escrito en los archivos <code>segment_anything/modeling/image_encoder.py</code> y <code>segment_anything/modeling/transformer.py</code>.</p>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora además queremos saber en qué líneas de los archivos se ha escrito usamos el flag <code>-n</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="o">-</span><span class="n">n</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:236:        attn = attn.softmax(dim=-1)
segment_anything/modeling/transformer.py:233:        attn = torch.softmax(attn, dim=-1)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si lo que queremos es contar cuántas veces aparece la palabra podemos usar el flag <code>-c</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="o">-</span><span class="n">c</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:1
segment_anything/modeling/transformer.py:1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Y vemos que aparece una vez en cada archivo</p>
</section>
<section class="section-block-markdown-cell">
<p>Y nos dice que están en las líneas 236 y 233 respectivamente</p>
</section>
<section class="section-block-markdown-cell">
<h3>Búsqueda en commits (<code>git log -S &#x3C;palabra&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si lo que queremos es buscar en el historial de commits podemos usar el comando <code>git log -S &#x3C;palabra&#x3E;</code>. Por ejemplo, busquemos en el historial de commits del repositorio que nos hemos bajado antes la palabra <code>fix</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">-</span><span class="n">S</span> <span class="s2">&quot;collab&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 2780a301de4483e5c46edb230ea781556159c658
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Mon Apr 10 10:50:17 2023 -0700

&#x20;&#x20;&#x20;&#x20;Fix typo in notebook &#x27;using_collab&#x27;-&amp;gt;&#x27;using_colab&#x27; in other two notebooks.

commit 2c11ea23525970ac288f23dc74b203bcbfb4cc6a
Author: jp-x-g &amp;lt;jpxg-dev@protonmail.com&amp;gt;
Date:   Thu Apr 6 20:00:04 2023 -0700

&#x20;&#x20;&#x20;&#x20;fix parameter name
&#x20;&#x20;&#x20;&#x20;
&#x20;&#x20;&#x20;&#x20;&quot;using_collab&quot; does not appear in subsequent text, replacing with &quot;using_colab&quot;

commit b47d02d68c308672751be29742fcef02a86e2f02
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Wed Apr 5 06:13:09 2023 -0700

&#x20;&#x20;&#x20;&#x20;Fix broken links in notebook Colab setup.

commit 571794162e0887c15d12b809505b902c7bf8b4db
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Tue Apr 4 22:25:49 2023 -0700

&#x20;&#x20;&#x20;&#x20;Initial commit
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Borramos la carpeta de SAM</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Ramas">Ramas<a class="anchor-link" href="#Ramas">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/GIT-Branchand-its-Operations.webp" alt="branches">
<p>El uso de ramas es muy útil, ya que podemos empezar a desarrollar una nueva característica sin tener que modificar el código original</p>
</section>
<section class="section-block-markdown-cell">
<h3>Crear una rama (<code>git branch &#x3C;branch name&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>**Nota**: Antes de nada hay que decir que para crear una rama en un repositorio debe haber al menos un commit, si se intenta crear una rama antes de hacer el primer commit recibiremos un error</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Para crear una rama utilizamos el comando <code>git branch &#x3C;nombre de la rama&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">new_branch</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Listar ramas (<code>git branch</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Hemos creado nuestra primera rama, podemos comprobar todas las ramas que tenemos creadas escribiendo solo <code>git branch</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* master
&#x20;&#x20;new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Además de listar nos dice con un asterisco <code>*</code> en qué rama estamos, en este caso en la rama <code>master</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Renombrar ramas, adios a la rama <code>master</code> (<code>git branch -m &#x3C;old name&#x3E; &#x3C;new name&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Históricamente en git se ha llamado <code>master</code> a la rama principal, pero esto tiene unas connotaciones históricas malas por el concepto de <code>master-slave</code> (<code>maestro-esclavo</code>), debido al sufrimiento que recibieron muchas personas, por lo que ahora se suele catalogar la rama principal como <code>main</code>, así que para cambiarle el nombre usamos <code>git branch -m master main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">m</span> <span class="n">master</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Listamos las ramas</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* main
&#x20;&#x20;new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, hemos podido cambiar el nombre de la rama principal de <code>master</code> a <code>main</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Cambiar de rama (<code>git switch &#x3C;branch&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos cambiar de rama solo hay que escribir <code>git switch &#x3C;nombre de la rama&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">new_branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;new_branch&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver en qué rama estamos con <code>git branch</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;main
* new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, hemos cambiado de rama a new_branch</p>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos crear y cambiar de rama en un solo comando podemos usar <code>git switch -c &#x3C;nombre de la rama&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="o">-</span><span class="n">c</span> <span class="n">new_branch2</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a nueva rama &#x27;new_branch2&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver en qué rama estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;main
&#x20;&#x20;new_branch
* new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hemos creado y cambiado de rama con un solo comando</p>
</section>
<section class="section-block-markdown-cell">
<h3>Obtener la rama en la que estamos (<code>git branch --show-current</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos visto hasta ahora con <code>git branch</code> podemos obtener una lista de todas las ramas y además ver en la que estamos actualmente, pero en el caso en el que tengamos una gran cantidad de ramas, cosa que se puede dar en un equipo de trabajo con mucha gente, está bien obtener la rama y no obtener una lista de todas, para eso usamos <code>git branch --show-current</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Lista de ramas más recientes (<code>git branch --sort=-committerdate</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>En caso de tener muchas ramas a lo mejor nos interesa saber cuáles son las más recientes para ver cuáles han sido las últimas creadas y dónde debería estar lo último en desarrollo, para eso usamos <code>git branch --sort=-committerdate</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">sort</span><span class="o">=-</span><span class="n">committerdate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* new_branch2
&#x20;&#x20;new_branch
&#x20;&#x20;main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, las ha ordenado en orden inverso a cuando las hemos creado</p>
</section>
<section class="section-block-markdown-cell">
<h3>El comando deprecado <code>git checkout</code></h3>
</section>
<section class="section-block-markdown-cell">
<p>Hasta hace un tiempo el comando para crear ramas y cambiar entre ellas era <code>git checkout</code>, pero este comando no solo hace esto, sino que también restaura el directorio de trabajo. Pero esto va en contra de la filosofía de Linux, por lo que se crearon los comandos <code>git branch</code>, <code>git switch</code> y <code>git restore</code> para dividir esta funcionalidad</p>
</section>
<section class="section-block-markdown-cell">
<h3>Fusionando ramas (<code>git merge</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos dicho, el crear ramas es muy útil para desarrollar nuevas características sin afectar al resto del equipo. Pero cuando estas están terminadas hay que llevarlas a la rama principal, para ello utilizamos el comando <code>git merge &#x3C;rama&#x3E;</code></p>
<blockquote>
<p>**Importante**: Tenemos que estar en la rama que va a adoptar los cambios, es decir, si queremos fusionar los cambios realizados en la rama <code>new_branch2</code> en la rama <code>main</code>, primero tenemos que asegurarnos de estar en la rama <code>main</code></p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Primero comprobamos en qué rama estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Eliminamos <code>archivo7.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo7.py&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un commit con los cambios</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado archivo7.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[new_branch2 5168f78] Eliminado archivo7.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si hacemos un <code>ls</code> vemos que <code>archivo7.py</code> ya no está</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo7</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos un nuevo archivo y hacemos un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 8&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[new_branch2 564ccfb] Commit con el archivo 8
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 archivo8.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hemos hecho dos commits nuevos en esta rama, veamoslo con <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch, main) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Cambiamos a la rama principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora hacemos otra vez <code>ls</code> veremos que <code>archivo7.py</code> sí está</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo7</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fusionamos las ramas, traemos los cambios de <code>new_branch2</code> a <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">new_branch2</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 4bb9d75..564ccfb
Fast-forward
 archivo7.py | 1 -
 archivo8.py | 0
 2 files changed, 1 deletion(-)
 delete mode 100644 archivo7.py
 create mode 100644 archivo8.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que al hacer el merge no es necesario hacer ningún commit, veamos con un <code>git log</code> qué ha pasado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; main, new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que el commit de la rama <code>new_branch2</code> se ha incorporado a esta rama</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Fast-forward">Fast-forward<a class="anchor-link" href="#Fast-forward">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Este caso creamos una nueva rama, la principal no la tocamos y solo modificamos la nueva, realizando varios commits. Por lo que al unir la nueva en la principal se verán todos los commits que se habían hecho en la nueva. Para realizar este tipo de merge escribimos <code>git merge --ff-only &#x3C;rama&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">fast_foward</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">fast_foward</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c09a0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f9203fa0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primero a comprobar que estamos en la rama principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos una nueva rama</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Cambiamos a ella</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_fast_forward&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_fast_forward
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver el log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; branch_fast_forward, new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vale, estamos en una rama creada a partir de la principal con todo su historial de logs, hacemos dos nuevos commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado archivo4.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo4.py&#x27;
[branch_fast_forward 4484e70] Eliminado archivo4.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo4.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;hola.py&#x27;
[branch_fast_forward 94149fc] Eliminado hola.py
 1 file changed, 3 deletions(-)
 delete mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un nuevo log para ver qué en esta nueva rama se han creado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (HEAD -&amp;gt; branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, los dos últimos commits son los que hemos creado y podemos comprobar que esos commits no están en la rama principal (para eso especifico que lo haga sobre la rama <code>main</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora nos vamos a la rama <code>main</code> para hacer el merge</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por último, hacemos el merge de tipo fast forward</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">ff</span><span class="o">-</span><span class="n">only</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 564ccfb..94149fc
Fast-forward
 archivo4.py | 1 -
 hola.py     | 3 ---
 2 files changed, 4 deletions(-)
 delete mode 100644 archivo4.py
 delete mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se ha hecho el merge, veamos qué ha pasado con el log en la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (HEAD -&amp;gt; main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como se ve, se han mantenido los dos commits hechos en la rama <code>branch_fast_forward</code></p>
</section>
<section class="section-block-markdown-cell">
<h4 id="No fast-forward o true merge">No fast-forward o true merge<a class="anchor-link" href="#No fast-forward o true merge">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Este caso creamos una nueva rama, la principal no la tocamos y modificamos la nueva, realizando varios commits. A continuación realizamos un commit en la principal. Por lo que al unir la nueva en la principal se verá un único commit en la nueva. Para hacer este tipo de merge escribimos <code>git merge &#x3C;rama&#x3E; --no-ff</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">not_fast_forward</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodo (pelota) M en la rama principal</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DE&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">,</span> <span class="s1">&#39;YM&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas de la rama principal al nodo M</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">not_fast_forward</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c2fb0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c2230&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primero a comprobar que estamos en la rama principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos una nueva rama</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_no_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Cambiamos a ella</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_no_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_no_fast_forward&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_no_fast_forward
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vale, estamos en una rama creada a partir de la principal con todo su historial de logs, hacemos dos nuevos commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_no_fast_forward e4e23c9] file1
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_no_fast_forward 8df3429] file2
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un nuevo log para ver qué en esta nueva rama se han creado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 8df3429 (HEAD -&amp;gt; branch_no_fast_forward) file2
* e4e23c9 file1
* 94149fc (main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, los dos últimos commits son los que hemos creado y podemos comprobar que esos commits no están en la rama principal (para eso especifico que lo haga sobre la rama <code>main</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora nos vamos a la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos un nuevo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 8bdf4d8] file3
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por último, hacemos el merge de tipo no fast forward</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">branch_no_fast_forward</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>ommit. comenzando con &#x27;#&#x27; serán ignoradas, y un mensaje vacío abortasaria esta&amp;gt;# especialmente si esto fusiona un upstream actualizado en una rama de tópico. /home/wallabot/Documentos/web/portafolio/posts/notebook_git/.git/MERGE_MSG   [ línea 1/7 (14%), col 1/48 (2%), car 0/301 (0%) ]             [ Párrafo justificado ]...llabot/Documentos/web/portafolio/posts/notebook_git/.git/MERGE_MSG Modificado
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos abre el editor para introducir un mensaje de commit y un mensaje por defecto. Aceptamos el mensaje y vemos qué ha pasado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo8.py  file1  file2  file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, se ha creado un nuevo commit con los cambios de la nueva rama en la rama principal</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Squash">Squash<a class="anchor-link" href="#Squash">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>En este tipo de fusión, todos los commits de una nueva rama se juntan en uno solo en la rama principal, para esto escribimos <code>git merge &#x3C;rama&#x3E; --squash</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">squash</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodo (pelota) M en la rama principal</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">squash</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DM&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">squash</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80e6470&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80e6f80&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primero a comprobar que estamos en la rama principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos una nueva rama</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_squash</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Cambiamos a ella</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_squash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_squash&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_squash
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver el log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; branch_squash, main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vale, estamos en una rama creada a partir de la principal con todo su historial de logs, hacemos tres nuevos commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file1&#x27;
[branch_squash 767b632] Eliminado file1
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file2&#x27;
[branch_squash a47f771] Eliminado file2
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file3&#x27;
[branch_squash 85f8c9f] Eliminado file3
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un nuevo log para ver qué en esta nueva rama se han creado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 85f8c9f (HEAD -&amp;gt; branch_squash) Eliminado file3
* a47f771 Eliminado file2
* 767b632 Eliminado file1
*   274529c (main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, los tres últimos commits son los que hemos creado y podemos comprobar que esos commits no están en la rama principal (para eso especifico que lo haga sobre la rama <code>main</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora nos vamos a la rama <code>main</code> para hacer el merge</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos el merge de tipo squash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">branch_squash</span> <span class="o">--</span><span class="n">squash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 274529c..85f8c9f
Fast-forward
Commit de aplastamiento -- no actualizando HEAD
 file1 | 0
 file2 | 0
 file3 | 0
 3 files changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
 delete mode 100644 file2
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se ha hecho el merge, veamos qué ha pasado con el log en la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No aparecen los cambios realizados en la rama, hagamos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	borrados:        file1
	borrados:        file2
	borrados:        file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que tenemos que hacer el commit con la fusión. Esto es porque git no sabe qué mensaje ponerle y nos deja a nosotros que lo hagamos, de modo que lo hacemos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Merge squash de los commits de la rama branch_squash&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 52acb97] Merge squash de los commits de la rama branch_squash
 3 files changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
 delete mode 100644 file2
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 52acb97 (HEAD -&amp;gt; main) Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Conflictos a la hora de fusionar">Conflictos a la hora de fusionar<a class="anchor-link" href="#Conflictos a la hora de fusionar">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Cuando se fusionan ramas puede pasar que un mismo archivo haya sido modificado en varias ramas. Esto puede ser normal en proyectos donde varias personas están desarrollando, así que vamos a ver cómo solucionarlo</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Creamos un conflicto">Creamos un conflicto<a class="anchor-link" href="#Creamos un conflicto">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Comprobamos que estamos en la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Creamos una nueva rama a partir de ésta</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Añadimos una línea al archivo <code>archivo1.py</code>, recordamos que estamos en la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;rama main&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama main&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p><code>archivo1.py</code> está modificado, hacemos un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py en rama main&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 53f909b] archivo1.py en rama main
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora nos vamos a la rama <code>rama_con_conflicto</code> y añadimos una nueva línea a <code>archivo1.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;rama_con_conflicto&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rama_con_conflicto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;rama rama_con_conflicto&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama rama_con_conflicto&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, <code>archivo1.py</code> no es igual en la rama <code>main</code> y en la rama <code>rama_con_conflicto</code>. Hacemos un commit con la modificación de <code>archivo1.py</code> en la rama <code>rama_con_conflicto</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py en rama rama_con_conflicto&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[rama_con_conflicto 32851c3] archivo1.py en rama rama_con_conflicto
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a la rama <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un merge de la rama <code>rama_con_conflicto</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Auto-fusionando archivo1.py
CONFLICTO (contenido): Conflicto de fusión en archivo1.py
Fusión automática falló; arregle los conflictos y luego realice un commit con el resultado.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Al hacer el merge ya nos avisa que hay un conflicto en <code>archivo1.py</code> y que no se ha podido hacer el merge. Hacemos un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tienes rutas no fusionadas.
&#x20;&#x20;(arregla los conflictos y ejecuta &quot;git commit&quot;
&#x20;&#x20;(usa &quot;git merge --abort&quot; para abortar la fusion)

Rutas no fusionadas:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para marcar una resolución)
	modificados por ambos:  archivo1.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nos dice lo mismo, pero nos da más información, nos dice que podemos abortar la fusión con <code>git merge --abort</code>. Pero en lugar de eso vamos a solucionarlo</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Solucionar un conflicto">Solucionar un conflicto<a class="anchor-link" href="#Solucionar un conflicto">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>En nuestro caso sabemos dónde está el problema, pero en caso de no saberlo, mediante <code>git diff</code> podemos encontrar el problema</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --cc archivo1.py
index 8b4bf58,b5c003c..0000000
--- a/archivo1.py
+++ b/archivo1.py
@@@ -1,2 -1,2 +1,6 @@@
&#x20;&#x20;print(&#x27;Este es el archivo 1&#x27;)
++&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD
 +print(&#x27;rama main&#x27;)
++=======
+ print(&#x27;rama rama_con_conflicto&#x27;)
++&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; rama_con_conflicto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p><code>git diff</code> nos está diciendo que el problema está en la última líea. La versión del archivo de la rama <code>HEAD</code> (en la que estamos actualmente <code>main</code>) tiene <code>print(&#x27;rama main&#x27;)</code> en la última línea, mientras que la versión de la rama <code>rama_con_conflicto</code> tiene <code>print(&#x27;rama rama_con_conflicto&#x27;)</code> en la última línea. De modo que hay que abrir el fichero con cualquier editor y solucionar esto.</p>
</section>
<section class="section-block-markdown-cell">
<p>Tras editar el fichero con mi editor de código he quitado todas las líneas que sobran y se ha quedado así</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama main&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora hacemos un <code>git status</code> para ver qué tenemos que hacer</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tienes rutas no fusionadas.
&#x20;&#x20;(arregla los conflictos y ejecuta &quot;git commit&quot;
&#x20;&#x20;(usa &quot;git merge --abort&quot; para abortar la fusion)

Rutas no fusionadas:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para marcar una resolución)
	modificados por ambos:  archivo1.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nos dice que tenemos el archivo <code>archivo1.py</code> con modificaciones, por lo que lo añadimos al área de <code>staged</code> y luego hacemos un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py con el merge resuelto&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 679bb49] archivo1.py con el merge resuelto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code> a ver si se ha solucionado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Parece que se ha resuelto, hacemos un <code>git log</code> para comprobarlo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   679bb49 (HEAD -&amp;gt; main) archivo1.py con el merge resuelto
|\\  
| * 32851c3 (rama_con_conflicto) archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Eliminar ramas">Eliminar ramas<a class="anchor-link" href="#Eliminar ramas">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>La idea de una rama es abrirla para desarrollar una nueva funcionalidad o característica de manera que no afecte al resto del equipo de desarrollo. Por lo tanto cuando esto está conseguido se fusiona con la rama principal. Así que después de la fusión ya no tiene sentido mantener la rama por lo que hay que eliminarla, pero se hará de una manera diferente si la rama se ha fusionado o no con la principal</p>
</section>
<section class="section-block-markdown-cell">
<h4>Eliminar ramas que se han fusionado (<code>git branch -d &#x3C;rama&#x3E;</code>)</h4>
</section>
<section class="section-block-markdown-cell">
<p>Para eliminar una rama sobre la que ya se ha hecho la fusión con la principal solo hay que hacer <code>git branch -d &#x3C;rama&#x3E;</code> o <code>git branch --delete &#x3C;rama&#x3E;</code>. Vamos a eliminar la última rama que hemos creado y fusionado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Eliminada la rama rama_con_conflicto (era 32851c3).
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora listamos todas las ramas, podemos ver que ya no tendremos <code>rama_con_conflicto</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;branch_fast_forward
&#x20;&#x20;branch_no_fast_forward
&#x20;&#x20;branch_squash
* main
&#x20;&#x20;new_branch
&#x20;&#x20;new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4>Eliminar ramas que no se han fusionado con la rama principal (<code>git branch -D &#x3C;rama&#x3E;</code>)</h4>
</section>
<section class="section-block-markdown-cell">
<p>Si intentamos hacer lo mismo que antes con una rama que nunca se ha fusionado con otra, obtendremos un error</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a crear una nueva rama, vamos a hacer un commit y no la vamos a fusionar</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_sin_fusion&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file4</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file4</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file4&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_sin_fusion 9506b0a] file4
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file4
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Con todo lo que hemos aprendido hasta ahora, podemos ver que lo que hemos hecho ha sido crear una nueva rama, cambiar a ella, crear un nuevo archivo, hacer un commit y volver a la rama <code>main</code>. Ahora vamos a intentar eliminar esta nueva rama</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>error: La rama &#x27;branch_sin_fusion&#x27; no ha sido fusionada completamente.
Si estás seguro de querer borrarla, ejecuta &#x27;git branch -D branch_sin_fusion&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos dice que <code>branch_sin_fusion</code> no ha sido fusionada por lo que no se ha eliminado y que si estamos seguros de eliminarla tenemos que hacer <code>git branch -D branch_sin_fusion</code>, de modo que lo hacemos para eliminarla</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Eliminada la rama branch_sin_fusion (era 9506b0a).
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora sí se ha eliminado</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Trabajando con repositorios remotos">Trabajando con repositorios remotos<a class="anchor-link" href="#Trabajando con repositorios remotos">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Cuando desarrollamos software no lo solemos hacer solos, solemos trabajar en equipo, por lo que no tiene sentido tener un repositorio local de git, sino tener un repositorio remoto con el que todos trabajemos y compartamos los avances</p>
<blockquote>
<p>Nota: El objetivo de este post es explicar git. Para la conexión con repositorios remotos voy a explicarlo con GitHub porque es el servicio de hosting de repositorios git más usado, pero no voy a entrar en profundizar en GitHub</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<h3>Clonar un repositorio remoto (<code>git clone &#x3C;repositorio&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si empezamos a trabajar en un repositorio que ya ha sido creado, lo primero que tenemos que hacer es clonarlo, para ello lo que tenemos que hacer es <code>git clone &#x3C;repositorio&#x3E;</code>, donde <code>&#x3C;repositorio&#x3E;</code> puede ser una URL o una dirección SSH. Como ahora mismo todo el tema de los grandes modelos de lenguaje y ChatGPT están muy de moda, vamos a clonar un repositorio opensource creado por la comunidad, <a href="https://github.com/LAION-AI/Open-Assistant">Open-Assistant</a>, para ello haremos <code>git clone https://github.com/LAION-AI/Open-Assistant</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">LAION</span><span class="o">-</span><span class="n">AI</span><span class="o">/</span><span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Clonando en &#x27;Open-Assistant&#x27;...
remote: Enumerating objects: 29769, done.
remote: Counting objects: 100% (673/673), done.
remote: Compressing objects: 100% (310/310), done.
remote: Total 29769 (delta 398), reused 577 (delta 354), pack-reused 29096
Recibiendo objetos: 100% (29769/29769), 33.61 MiB | 29.29 MiB/s, listo.
Resolviendo deltas: 100% (19967/19967), listo.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Esto nos crea la carpeta <code>Open-Assistant</code> con todo el código del repositorio, podemos entrar adentro y ver todo el código</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>ansible		 deploy		      model	      safety
assets		 discord-bots	      notebooks       scripts
backend		 docker		      oasst-data      setup.cfg
CODEOWNERS	 docker-compose.yaml  oasst-shared    text-frontend
CONTRIBUTING.md  docs		      pyproject.toml  website
copilot		 inference	      README.md
data		 LICENSE	      redis.conf
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Elimino la carpeta</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Enlazar un repositorio local en uno remoto">Enlazar un repositorio local en uno remoto<a class="anchor-link" href="#Enlazar un repositorio local en uno remoto">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Si ocurre al revés, si primero empezamos a desarrollar en local y luego lo queremos sincronizar con un repositorio remoto, tenemos que hacer lo siguiente</p>
<ul>
  <li>Primero crear un repositorio remoto vacío, en mi caso he creado el repositorio <code>notebook_git</code> en GitHub que más tarde borraré</li>
  <li>Obtener la URL del repositorio o dirección SSH</li>
  <li>Sincronizarlos mediante <code>git remote add origin &lt;URL&gt;</code></li>
</ul>
<p>El repositorio vacío que he creado en GitHub se ve así</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo.webp" alt="notebook git repo">
<p>En mi caso voy a usar la dirección SSH que es <code>git@github.com:maximofn/notebook_git.git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">maximofn</span><span class="o">/</span><span class="n">notebook_git</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ya están enlazados, pero para asegurarnos podemos hacer <code>git remote -v</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>origin	git@github.com:maximofn/notebook_git.git (fetch)
origin	git@github.com:maximofn/notebook_git.git (push)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Subir los cambios de un repositorio local a un repositorio remoto (<code>git push</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos dicho, están enlazados, pero si voy a mi repositorio en GitHub se sigue viendo así</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo.webp" alt="notebook git repo">
<p>Están enlazados el repositorio local y el remoto, pero ahora hay que mandar todos los cambios del repositorio local al remoto, para ello habría que usar <code>git push origin &#x3C;rama local&#x3E;:&#x3C;rama remota&#x3E;</code>, es decir, como nuestra rama principal se llama <code>main</code> y la rama principal en GitHub se llama <code>main</code> habría que hacer <code>git push origin main:main</code>.</p>
<p>Si te acuerdas git por defecto llamaba a la rama principal <code>master</code>, pero GitHub llama por defecto a la rama principal <code>main</code> por lo que si cada persona llama en su repositorio local a sus ramas de una manera hay que especificar qué rama en local escribe a qué rama en remoto</p>
</section>
<section class="section-block-markdown-cell">
<p>Se puede configurar la conexión por defecto entre ramas en git, para ello hay que hacer <code>git push --set-upstream origin main</code>. Esto establece relación entre la rama local <code>main</code> y la rama remota <code>main</code>. Una vez hecha esta relación ya solo es necesario hacer <code>git push</code> para subir los cambios que se hacen en local al servidor remoto.</p>
<p>De modo que establecemos la conexión entre ramas</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Enumerando objetos: 51, listo.
Contando objetos: 100% (51/51), listo.
Compresión delta usando hasta 12 hilos
Comprimiendo objetos: 100% (38/38), listo.
Escribiendo objetos: 100% (51/51), 4.21 KiB | 2.11 MiB/s, listo.
Total 51 (delta 18), reusado 0 (delta 0)
remote: Resolving deltas: 100% (18/18), done.
To github.com:maximofn/notebook_git.git
 * [new branch]      main -&amp;gt; main
Rama &#x27;main&#x27; configurada para hacer seguimiento a la rama remota &#x27;main&#x27; de &#x27;origin&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora ya podemos hacer solo <code>git push</code> para subir los cambios locales al repositorio remoto</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Everything up-to-date
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora volvemos a nuestro repositorio de GitHub, se ve así</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_push.webp" alt="notebook git repo push">
</section>
<section class="section-block-markdown-cell">
<p>Si hacemos un <code>ls</code> en nuestro repositorio local podremos ver que los archivos que tenemos en el repositorio remoto los tenemos en el repositorio local, es decir, hemos sincronizado el repositorio local y remoto</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>.  ..  api_keys.py  archivo1.py  archivo2.py  archivo8.py  .git  .gitignore
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Los únicos que no están en el repositorio remoto son <code>api_keys.py</code>, que es el que añadimos al archivo <code>.gitignore</code>, es decir, el que dijimos a git que no siguiera. Y <code>.git</code> que es donde está la configuración de nuestro repositorio local y que no se tiene que subir al repositorio remoto, porque cada persona tendrá su propia configuración de git y por tanto no se tiene que sincronizar</p>
</section>
<section class="section-block-markdown-cell">
<h3>Descargar los cambios de un repositorio remoto a un repositorio local (<code>git pull</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Ahora vamos a hacer al revés, vamos a bajar los nuevos cambios que se hayan hecho en el repositorio remoto. Si nos fijamos en cómo está el repositorio remoto podremos ver que hay un botón que pone <code>Add a README</code>, por lo que le damos para añadirlo</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_push.webp" alt="notebook git repo push">
</section>
<section class="section-block-markdown-cell">
<p>Al hacer clic se nos abrirá un editor, dejamos lo que ha puesto GitHub y guardamos los cambios dándole al botón de <code>Commit changes...</code></p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_readme.webp" alt="noteboot git repo readme">
<p>Nos saldrá una ventana en la que nos pedirá un mensaje de commit, dejamos el que viene por defecto y le damos a <code>Commit changes</code></p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_commit_message.webp" alt="notebook git repo commit message">
<p>Al hacer eso el repositorio se nos quedará así</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_pull.webp" alt="notebook git repo pull">
<p>Se ha creado un nuevo archivo llamado <code>README.md</code>, pero si hacemos <code>ls</code> en el repositorio local no lo encontraremos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">README</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por lo que nos tenemos que traer los cambios del repositorio remoto al local, para ello hay que hacer <code>git pull origin &#x3C;rama remota&#x3E;</code> para decirle a git sobre qué rama remota vamos a traer los datos, pero al igual que antes podemos establecer una relación entre la rama remota y la rama local de la siguiente manera <code>git branch --set-upstream-to=origin/&#x3C;rama local&#x3E; &#x3C;rama remota&#x3E;</code>, pero como nuestra rama local se llama <code>main</code> y la rama remota GitHub la llama <code>main</code> habría que cambiar lo anterior por <code>git branch --set-upstream-to=origin/main main</code>.</p>
<p>Una vez hecho esto para descargar los nuevos cambios del repositorio remoto al local solo habría que hacer <code>git pull</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a establecer la relación entre ramas con <code>git branch --set-upstream-to=origin/main main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span><span class="o">-</span><span class="n">to</span><span class="o">=</span><span class="n">origin</span><span class="o">/</span><span class="n">main</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Rama &#x27;main&#x27; configurada para hacer seguimiento a la rama remota &#x27;main&#x27; de &#x27;origin&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora podemos traer los cambios del repositorio remoto al repositorio local con <code>git pull</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">pull</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>remote: Enumerating objects: 4, done.
remote: Counting objects: 100% (4/4), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
Desempaquetando objetos: 100% (3/3), 646 bytes | 646.00 KiB/s, listo.
Desde github.com:maximofn/notebook_git
&#x20;&#x20;&#x20;679bb49..527e07a  main       -&amp;gt; origin/main
Actualizando 679bb49..527e07a
Fast-forward
 README.md | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, dice que se ha añadido <code>README.md</code>, lo comprobamos haciendo <code>ls</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">README</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Tenemos el archivo en local</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Sincronizar las ramas remotas y locales">Sincronizar las ramas remotas y locales<a class="anchor-link" href="#Sincronizar las ramas remotas y locales">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos visto, hemos tenido que sincronizar las ramas remotas y locales para poder subir y bajar los datos. Sin embargo, si primero creamos el repositorio en GitHub y después lo clonamos, ya no es necesario dicha sincronización.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Alias">Alias<a class="anchor-link" href="#Alias">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Cada vez que hemos querido hacer un log hemos usado este comando <code>git log --graph --oneline --decorate</code>, sin embargo acordarse de este comando es bastante complicado, de hecho yo no me acuerdo de él, cada vez que lo he querido usar lo he tenido que buscar porque no lo recordaba, por lo que estaría muy bien tener una manera de abreviarlo.</p>
</section>
<section class="section-block-markdown-cell">
<p>Para esto git ofrece los <code>alias</code>, de manera que puedes crearte alias de los comandos que tú quieras, para ello tienes que hacer <code>git config --global alias.&#x3C;nombre del alias&#x3E; &quot;comando&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Por tanto vamos a llamar <code>git tree</code> al comando <code>git log --graph --oneline --decorate</code>, ya que nos permite ver el historial, con la bifurcación y fusión de ramas como si fuese el crecimiento de un árbol, por lo que hacemos <code>git config --global alias.tree &quot;log --graph --oneline --decorate&quot;</code></p>
<blockquote>
<p>**Importante**: No hay que poner la palabra <code>git</code> dentro del comando</p>
</blockquote>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">tree</span> <span class="s2">&quot;log --graph --oneline --decorate&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora nos vamos a nuestro repositorio y hacemos <code>git tree</code> veremos el historial como lo hacíamos antes</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, origin/main) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, se ha creado nuestro alias</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Alias de comandos existentes de git">Alias de comandos existentes de git<a class="anchor-link" href="#Alias de comandos existentes de git">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se pueden crear alias de comandos que ya existen en git, de hecho, es una práctica que usa mucha gente, sobre todo para abreviar, por lo que vamos a hacer uno. Vamos a hacer un alias del comando <code>git status</code> y lo vamos a renombrar como <code>git st</code> de la siguiente manera <code>git config --global alias.st &quot;status&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">st</span> <span class="s2">&quot;status&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Lo probamos ahora</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">st</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tu rama está actualizada con &#x27;origin/main&#x27;.

nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ya tenemos el comando <code>git status</code> simplificado a <code>git st</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Alias de comandos que no son de git">Alias de comandos que no son de git<a class="anchor-link" href="#Alias de comandos que no son de git">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Podemos crearnos alias de comandos que no sean de git, por ejemplo, porque creamos que git necesita ese nuevo comando, se hace igual con la excepción de que el comando tiene que ir precedido de <code>!</code>, es decir, sería <code>git config --global alias.&#x3C;nombre del alias&#x3E; &quot;!comando&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Cuando hemos visto los conflictos, hemos visto que git nos decía dónde estaban, pero para solucionarlos tenemos que editar el código nosotros mismos, por lo que podemos crear un alias de git de manera que podamos abrir un archivo con el editor de textos que queramos, en mi caso voy a crear un alias que me abrirá los archivos con <code>vscode</code> para ello tengo que hacer <code>git config --global alias.code &quot;!code&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">code</span> <span class="s2">&quot;!code&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Lo probamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">code</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Tras hacer esto, se me ha abierto <code>README.md</code> en <code>vscode</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Lista con todos los alias">Lista con todos los alias<a class="anchor-link" href="#Lista con todos los alias">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>En caso de no acordarnos de los alias que hemos creado podemos ver la configuración global de git, pero como esto puede ser un poco abrumador porque nos da mucha información, podemos filtrar para que nos muestre solo los alias que hemos creado, para ello usamos <code>git config --get-regexp ^alias\.</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">get</span><span class="o">-</span><span class="n">regexp</span> <span class="o">^</span><span class="n">alias</span>\<span class="o">.</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>alias.tree log --graph --oneline --decorate
alias.st status
alias.code !code
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Obtenemos los alias que hemos creado</p>
</section>
<section class="section-block-markdown-cell">
<p>Pero aun mejor, podemos crear un alias para obtener los alias, para ello hacemos <code>git config --global alias.alias &quot;config --get-regexp ^alias\.&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">alias</span> <span class="s2">&quot;config --get-regexp ^alias\.&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora hacemos <code>git alias</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">alias</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>alias.tree log --graph --oneline --decorate
alias.st status
alias.code !code
alias.alias config --get-regexp ^alias\.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Obtenemos la lista con todos nuestros alias</p>
</section>
<section class="section-block-markdown-cell">
<h2>Almacén stash (<code>git stash</code>)</h2>
</section>
<section class="section-block-markdown-cell">
<p>Supongamos que estamos trabajando en una rama, tenemos varios archivos modificados, no hemos hecho commit, y por la razón que sea tenemos que pasar a otra rama. Por ejemplo, estamos en una rama desarrollando una nueva funcionalidad, y la tenemos que dejar a medias porque hay un bug crítico en la rama main</p>
<p>Una solución sería hacer un commit para guardar los cambios y volver más adelante. Pero a lo mejor hemos dejado el código a medias y no queremos hacer un commit. Así que para ello se inventó el stash, que es como un almacén, donde dejas almacenado tu código para luego poder volver a recuperarlo.</p>
<p>Es una pila, eso quiere decir que lo último que entra es lo primero en salir</p>
</section>
<section class="section-block-markdown-cell">
<p>Veamos cómo hacerlo, en primer lugar creamos una nueva rama que vamos a llamar <code>new_feature</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">new_feature</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Cambiamos a ella</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">new_feature</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;new_feature&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a modificar <code>archivo2.py</code> y <code>archivo8.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;new_feature&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;new_feature&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git status</code> para comprobar que se hayan modificado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     archivo2.py
	modificados:     archivo8.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a meter a <code>archivo8.py</code> al área de <code>staged</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a hacer un <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	modificados:     archivo8.py

Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     archivo2.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos tenemos dos archivos modificados, de los cuales uno de ellos además está en el área de <code>staged</code>. Si ahora tuviésemos que cambiar de rama, para no perder los cambios podríamos hacer un commit, o guardarlos en el almacén <code>stash</code>, así que vamos a hacer esto último mediante <code>git stash</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Directorio de trabajo y estado de índice WIP on new_feature: 527e07a Create README.md guardados
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora volvemos a hacer <code>git status</code>, veamos qué pasa</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ya no aparecen los archivos con modificaciones, es como si hubiéramos hecho un commit</p>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>**Importante**: Los archivos creados nuevos, que nunca han sido seguidos por Git, no se irán al almacén, por lo que con los archivos nuevos es necesario, al menos, hacer primero un <code>git add</code></p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Si yo ahora creo un archivo nuevo y lo intento llevar al almacén, me dará un error</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>No hay cambios locales para guardar
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos <code>archivo9.py</code> no lo ha guardado en el almacén, por lo que habría que haberlo añadido con <code>git add</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">rm</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Todo al almacén stash (<code>git stash -u -a</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos visto solo se mandan al almacén los archivos a los que git les está haciendo seguimiento, pero si tenemos nuevos archivos creados, o archivos ignorados, no se mandarán, así que para solucionar esto podemos usar los flags <code>-u</code> o <code>--include-untracked</code> para que mande los nuevos archivos a los que git aún no ha hecho seguimiento, y el flag <code>-a</code> o <code>--all</code> para incluir todo, incluso los archivos ignorados</p>
</section>
<section class="section-block-markdown-cell">
<h3>Lista de almacenes (<code>git stash list</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos comentado el almacén actúa como una pila, por lo que si hacemos uso de este almacén muchas veces, en realidad vamos a tener una lista de almacenes, y para ver los que tenemos almacenados podemos usar <code>git stash list</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos solo tenemos una, que nos indica la rama (<code>on new_feature</code>), el último commit (<code>Create README.md</code>) y un identificador (<code>527e07a</code>)</p>
</section>
<section class="section-block-markdown-cell">
<h3>Almacén con descripción (<code>git stash push -m &#x3C;descripción&#x3E;)</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos visto, la lista nos devuelve la rama y el último commit, pero esta información solo nos vale para saber desde dónde hemos empezado a modificar antes de guardar en el historial. Además nos devuelve un identificador que no nos dice mucho, así que podemos añadir una primera descripción al stash con <code>git stash push -m &#x3C;descripción&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primero hacemos un <code>git status</code> para ver qué tenemos sin commitear</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Tenemos <code>archivo9.py</code>, pero recordemos que nunca ha sido seguido por git, por lo que para incluirlo en un stash tenemos que usar el flag <code>-u</code> o el flag <code>-a</code>, de modo que creamos un nuevo stash con una descripción con el comando <code>git stash push -u -m &#x3C;descripción&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo9.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Directorio de trabajo y estado de índice On new_feature: archivo9.py guardados
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Sacamos la lista del stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: On new_feature: archivo9.py
stash@&#x7B;1&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ya aparece el nuevo de manera mucho más clara</p>
</section>
<section class="section-block-markdown-cell">
<h3>Recuperar el último stash (<code>git stash pop</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Como hemos dicho, el stash es una pila con almacenes, por lo que a la hora de recuperarlos lo haremos igual que una pila, recuperando siempre el último.</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/git-stash-push-pop.webp" alt="git stash push pop">
<p>Para recuperar el último stash tenemos que hacer <code>git stash pop</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primero hacemos un <code>git status</code> para ver que no tengamos ningún cambio pendiente</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora recuperamos el último stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">pop</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py

Descartado refs/stash@&#x7B;0&#x7D; (0246b0e922f654e7fc68cfeaf26e24fc511feb37)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si volvemos a hacer git status, veremos que volvemos a tener <code>archivo9.py</code> pendiente de hacer un commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Y si comprobamos la lista de stash veremos que ya solo tenemos uno</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Eliminar un stash (<code>git stash drop &#x3C;posición&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos eliminar un stash, tenemos que hacer <code>git stash drop &#x3C;posición&#x3E;</code>, donde <code>&#x3C;posición&#x3E;</code> es la posición que ocupa el stash en la lista.</p>
</section>
<section class="section-block-markdown-cell">
<p>Obtenemos la lista de los stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>En nuestro caso solo tenemos uno y en la posición 0 (<code>stash@{0}</code>), por lo que para eliminarlo tendríamos que hacer <code>git stash drop 0</code>, sin embargo no lo voy a hacer porque lo voy a eliminar ahora después con otro comando</p>
</section>
<section class="section-block-markdown-cell">
<h3>Eliminar todos los stash (<code>git stash clear</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Si queremos vaciar la lista entera de stash tenemos que hacer <code>git stash clear</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">clear</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora pedimos la lista de stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No obtenemos nada porque hemos eliminado todo</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a dejar todo como estaba, hacemos un <code>git status</code> para recordar los cambios que teníamos pendientes</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que estamos en la rama <code>new_feature</code> y que tenemos <code>archivo9.py</code> pendiente de hacer un commit. Como lo hemos creado para el ejemplo, lo eliminamos y volvemos a la rama principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">rm</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
Tu rama está actualizada con &#x27;origin/main&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Tags">Tags<a class="anchor-link" href="#Tags">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Cuando estamos desarrollando código llegan momentos en los que generamos versiones, por ejemplo la <code>v1.1</code>, <code>v1.2</code>, etc. Para tener esto más controlado git nos proporciona los tags.</p>
</section>
<section class="section-block-markdown-cell">
<h3>Crear un tag nuevo (<code>git tag -a &#x3C;nombre_de_etiqueta&#x3E; -m &quot;&#x3C;mensaje&#x3E;&quot;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Para crear un tag tenemos que hacer <code>git tag -a &#x3C;nombre_de_etiqueta&#x3E; -m &quot;&#x3C;mensaje&#x3E;&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Por ejemplo, vamos a crear un tag en la versión actual del repositorio, para ello haré <code>git tag -a v_tag -m &quot;Tag con el repositorio en la parte final, en la que explicamos los tags&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v_tag</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tag con el repositorio en la parte final, en la que explicamos los tags&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Lista de tags (<code>git tag</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Para ver los tags que hemos creado podemos hacer <code>git tag</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>v_tag
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3>Crear un tag de un commit antiguo (<code>git tag -a &#x3C;nombre_de_etiqueta&#x3E; -m &quot;&#x3C;mensaje&#x3E;&quot; &#x3C;hash&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Hagamos un <code>git tree</code> para ver el histórico</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Aunque no lo pone en la descripción, cuando hicimos el commit <code>4bb9d75</code> fue cuando terminamos la parte de control de versiones de manera local, por lo que también estaría bien tener un tag de ese momento. Para ello lo que tenemos que hacer es crear un tag añadiendo el hash de ese momento</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v_local</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tag con el repositorio en la parte de control de versiones de manera local&quot;</span> <span class="mi">4</span><span class="n">bb9d75</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora hacemos un listado de los tags, aparece el nuevo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>v_local
v_tag
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Y si vemos el historial de commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>En el punto del historial donde hemos creado el tag, ahora aparece el tag que hemos creado <code>* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7</code></p>
</section>
<section class="section-block-markdown-cell">
<h3>Cambiar entre tags (<code>git reset --hard &#x3C;tag&#x3E;</code> o <code>git reset --soft &#x3C;tag&#x3E;</code>)</h3>
</section>
<section class="section-block-markdown-cell">
<p>Al igual que nos podemos mover entre distintos commits del historial, también nos podemos mover entre tags. Esto tiene la ventaja de que podemos movernos a otro momento del historial sin tener que saberse el hash, con saber el nombre del tag que hemos puesto en ese momento podemos movernos simplemente haciendo <code>git reset --hard &#x3C;tag&#x3E;</code> o <code>git reset --soft &#x3C;tag&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primero vamos a hacer un <code>ls</code> para ver los archivos que tenemos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo8.py  README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Hacemos un <code>git tree</code> también para ver en qué momento del historial estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ahora cambiamos al punto en el que hemos creado el tag <code>v_local</code> mediante <code>git reset --hard v_local</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">v_local</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 4bb9d75 Commit con el archivo 7
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si ahora volvemos a hacer un <code>ls</code> vemos que no tenemos los mismos archivos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Si además vemos el historial vemos que hemos cambiado de momento del historial</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; main, tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Para volver al último momento del historial, como hemos creado también un tag valdrá con hacer <code>git reset --hard v_tag</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">v_tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Volvemos a ver el historial para comprobar que hemos vuelto al último momento del historial</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>