<section class="section-block-markdown-cell">
<h1 id="Git">Git<a class="anchor-link" href="#Git">¶</a></h1>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>Aviso: Este post foi traduzido para o português usando um modelo de tradução automática. Por favor, me avise se encontrar algum erro.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<h2 id="Introducao">Introdução<a class="anchor-link" href="#Introducao">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Git é um software de controle de versões criado por Linus Torvalds, que o desenvolveu para ter um bom controle de versões ao desenvolver o kernel do Linux.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="As areas do git">As áreas do git<a class="anchor-link" href="#As areas do git">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Git tem três áreas, embora também se possa considerar uma quarta.</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/git-states.webp" alt="git states">
<ul>
  <li>A primeira é nosso espaço de trabalho, onde temos todo o nosso código. Aqui, quando modificamos ou criamos um arquivo, ele passa a estar como não rastreado, então precisamos movê-lo para a área de <code>staged</code></li>
  <li>A segunda área é a de <code>staged</code>. Aqui os arquivos que havíamos modificado ou criado e que estavam não *trackeados* passam a estar trackeados, ou seja, git faz um acompanhamento. Aqui enviaremos os arquivos para a próxima área de <code>head</code></li>
  <li>A terceira área é a de <code>head</code>. Nela registramos uma versão do nosso código. Dessa forma, registrando versões podemos voltar a versões anteriores se necessário. A versão registrada do nosso código pode ser enviada para um servidor de modo que seja acessível por várias pessoas.</li>
  <li>As três áreas anteriores correspondem ao trabalho local, mas há uma área adicional e é a de <code>remote server</code>. Aqui, o que fazemos é enviar a versão gravada do nosso código para um servidor, de modo que tenhamos acesso ao código de qualquer lugar ou que mais pessoas tenham acesso.</li>
</ul>
<p>Para fazer um símil, é como um cenário em que você vai tirar uma foto. Primeiro, você tem seus arquivos modificados, então os que quer imortalizar você envia para a área de <code>staged</code>, ou seja, o palco. No momento em que enviou todos os arquivos que considera, tira a foto, portanto, envia todos os arquivos para a área de <code>head</code>. Dessa forma, você pode ir tirando muitas fotos conforme o código evolui, de maneira que pode ter um álbum de fotos com a evolução do código. Por fim, você pode enviar essa foto para um servidor para que seja acessível por mais pessoas, ou seja, os envia para a área de <code>remote server</code>.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Instalar git">Instalar git<a class="anchor-link" href="#Instalar git">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Em maioria das distribuições Linux, o Git já vem instalado. Podemos verificar isso usando <code>git --version</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>git version 2.25.1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se você não tiver ou quiser atualizar a versão do git, basta executar <code>sudo apt update</code> e em seguida <code>sudo apt install git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[sudo] password for maximo.fernandez@AEROESPACIAL.SENER:
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a verificar a versão</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>git version 2.25.1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No meu caso, eu já tinha a última versão.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Configuracao inicial">Configuração inicial<a class="anchor-link" href="#Configuracao inicial">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<h3 id="Configuracao do nome e do email">Configuração do nome e do email<a class="anchor-link" href="#Configuracao do nome e do email">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Antes de começar a usar o git é recomendável que faça algumas configurações mínimas, como o nome de usuário e o email. Esta informação será exibida quando for mostrado quem fez alterações no código. Para fazer isso, é necessário executar</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global user.name "&lt;nome de usuário&gt;"<br>git config --global user.email "&lt;email&gt;"</code></pre></div>
      </section>
<p>No meu caso, eu colocaria</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global user.name "MaximoFN"<br>git config --global user.email "maximofn@gmail.com"</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<p>Como se pode ver, a flag <code>--global</code> serve para alterar a configuração global do git. No entanto, se em um repositório específico você precisa fornecer outros dados, basta navegar até o repositório e remover a flag <code>--global</code> dos comandos anteriores.</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config user.name "&lt;nome do usuário&gt;"<br>git config user.email "&lt;email&gt;"</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<h3 id="Configurar o editor padrao">Configurar o editor padrão<a class="anchor-link" href="#Configurar o editor padrao">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Quando explicarmos o que são os <code>commit</code>s veremos que em uma das opções pode nos abrir um navegador. Por padrão, o git tentará usar <code>vim</code>, mas dado que não é um editor muito simples de usar, podemos modificá-lo. A seguir, mostramos como fazer isso com alguns editores comuns.</p>
<section class="section-block-markdown-cell">
      <div class='highlight'><pre><code class="language-bash">git config --global core.editor "code"  # vscode como editor<br>git config --global core.editor "atom"  # Atom como editor<br>git config --global core.editor "subl"  # Sublime Text como editor<br>git config --global core.editor "nano"  # Nano como editor</code></pre></div>
      </section>
</section>
<section class="section-block-markdown-cell">
<h3 id="Verificar configuracao do git">Verificar configuração do git<a class="anchor-link" href="#Verificar configuracao do git">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Para verificar a configuração do git, podemos usar <code>git config --list</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>user.name=maximofn
user.email=maximofn@gmail.com
user.user=maximofn
http.sslverify=true
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.origin.url=https://github.com/maximofn/portafolio.git
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
branch.main.remote=origin
branch.main.merge=refs/heads/main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos usar os flags <code>--global</code>, <code>--local</code> e <code>--system</code> para ver apenas a configuração global, local (se existir) e do sistema (se existir).</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>user.name=maximofn
user.email=maximofn@gmail.com
user.user=maximofn
http.sslverify=true
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">local</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.origin.url=https://github.com/maximofn/portafolio.git
remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
branch.main.remote=origin
branch.main.merge=refs/heads/main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">system</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: unable to read config file &#x27;/etc/gitconfig&#x27;: No such file or directory
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No existe configuração de sistema no meu caso</p>
</section>
<section class="section-block-markdown-cell">
<p>Se quiser saber apenas o valor de um parâmetro da configuração, basta inserir <code>git config &#x3C;parameter&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>maximofn
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Controle de versoes localmente">Controle de versões localmente<a class="anchor-link" href="#Controle de versoes localmente">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<h3 id="Inicializar um novo repositório (git init)">Inicializar um novo repositório (<code>git init</code>)<a class="anchor-link" href="#Inicializar um novo repositório (git init)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Há duas maneiras de inicializar um novo repositório fazendo</p>
<ul>
  <li>Uma é fazendo <code>git init <nome do repositório></code>. Isso criará uma nova pasta com o nome do repositório.</li>
  <li>Outra é navegar até a pasta onde queremos criar um repositório e fazer <code>git init</code></li>
</ul>
<p>Vou criar um novo repositório</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">init</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Inicializado repositorio Git vacío en /home/wallabot/Documentos/web/portafolio/posts/notebook_git/.git/
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora fizermos <code>ls</code> veremos que foi criada uma nova pasta chamada <code>notebook_git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>notebook_git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nós nos movemos para ela</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora dentro da pasta temos duas maneiras de saber que o repositório foi criado, uma fazendo <code>ls -a</code> que mostrará todos os arquivos e veremos que há uma pasta chamada <code>.git</code>. A outra maneira é fazendo <code>git status</code> que nos dirá o estado do repositório.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>.  ..  .git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

no hay nada para confirmar (crea/copia archivos y usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como estamos em um notebook, cada célula tem seu <code>path</code> no <code>path</code> do notebook, por isso as duas vezes tive que fazer <code>cd notebook_git &amp;&amp;</code>, para mudar para a pasta com o repositório que acabamos de criar.</p>
</section>
<section class="section-block-markdown-cell">
<p>Se agora eu testar <code>git status</code> em outro <code>path</code> onde não tenha sido inicializado um repositório, isso resultará em um erro.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="o">~/</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: no es un repositorio git (ni ninguno de los directorios superiores): .git
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Criar novos arquivos">Criar novos arquivos<a class="anchor-link" href="#Criar novos arquivos">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>No momento em que inicializamos um repositório, podemos começar a criar novos arquivos, então criamos um e vemos o que acontece.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Hello World&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hello</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora executarmos <code>git status</code>, veremos que aparece</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	hello.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como se pode ver agora nos está dizendo que o arquivo <code>hello.py</code> não tem acompanhamento. Ou seja, temos que adicionar <code>hello.py</code> à área de <code>staged</code>, que lembramos ser como o palco onde vamos colocar tudo o que mais tarde faremos um instantâneo.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Desfazer a criacao de um novo arquivo">Desfazer a criação de um novo arquivo<a class="anchor-link" href="#Desfazer a criacao de um novo arquivo">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Neste caso, como são arquivos que o Git ainda não está acompanhando, ou seja, que ainda não estão na área de <code>staged</code>, teríamos três maneiras de fazer isso.</p>
</section>
<section class="section-block-markdown-cell">
<ul>
  <li>Apagando-o simplesmente: Como o git ainda não está seguindo o arquivo, podemos fazer <code>rm hello.py</code> e pronto.</li>
  <li>Excluindo-o com um comando do Git: Antes excluímos com <code>rm</code>, mas pode ser que você esteja em um sistema que não tenha o comando <code>rm</code>. Portanto, nesse caso, pode-se usar o comando do Git <code>git rm hello.py</code>* Por último, podemos usar <code>git clean</code>. Este é útil, por exemplo, quando há muitos arquivos novos, e assim, em um único comando, removemos todos.</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4 id="git clean"><code>git clean</code><a class="anchor-link" href="#git clean">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Se executarmos <code>git clean</code> sem nenhum argumento, receberemos um erro.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>fatal: clean.requireForce default en true y ninguno de -i, -n, ni -f entregado; rehusando el clean
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ele nos diz que é necessário adicionar um desses flags <code>-n</code>, <code>-i</code> ou <code>-f</code>. Além disso, vamos ver o flag <code>-d</code>.</p>
<ul>
  <li><code>-n</code> (execução simulada): Ditará quais arquivos serão excluídos, mas não os excluirá</li>
  <li><code>-i</code>: Perguntará por cada arquivo que vai ser apagado* <code>-f</code>: Forçará a exclusão dos arquivos</li>
  <li><code>-d</code>: Também excluirá pastas</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<p>Vamos testar, primeiro fazemos <code>git clean -n</code> para saber quais arquivos seriam deletados</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Será borrado hello.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora fazemos <code>git clean -f</code> para que ele apague, já que concordamos em apagá-lo.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando hello.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, ele apagou <code>hello.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Adicionar um arquivo à área de staged (git add)">Adicionar um arquivo à área de staged (<code>git add</code>)<a class="anchor-link" href="#Adicionar um arquivo à área de staged (git add)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a criar um arquivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Hola mundo&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a fazer um <code>git status</code> para verificar que temos o arquivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	hola.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que temos o arquivo <code>hola.py</code> mas o git não está fazendo um acompanhamento. Além disso, vemos que ele ajuda e diz <code>use &quot;git add&quot; para fazer o acompanhamento</code></p>
<p>A sintaxe é a seguinte <code>git add &#x3C;arquivo&#x3E;</code>, mas podemos fazê-lo de várias maneiras</p>
<ul>
  <li>Se quisermos adicionar mais de um arquivo, podemos fazer isso colocando todos os arquivos que desejamos adicionar à área de staged, separados por um espaço: <code>git add <arquivo1> <arquivo2> <arquivo3></code></li>
  <li>Se quisermos adicionar todos os arquivos do mesmo formato, por exemplo, se quisermos adicionar todos os arquivos de Python seria <code>git add *.py</code></li>
  <li>Se quisermos adicionar todos os arquivos de uma pasta <code>git add <folder>/</code></li>
  <li>Se quisermos adicionar todos os arquivos temos três maneiras: <code>git add --all</code>, <code>git add -A</code> ou <code>git add .</code></li>
</ul>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a adicionar o novo arquivo criado</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code> para ver o que aconteceu</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos diz que temos um novo arquivo ao qual ele faz o acompanhamento e que está pendente de ser confirmado <code>hola.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Retirar um arquivo da área staged (git reset)">Retirar um arquivo da área staged (<code>git reset</code>)<a class="anchor-link" href="#Retirar um arquivo da área staged (git reset)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Caso adicionemos um arquivo à área de staged e quisermos removê-lo, temos que usar <code>git reset &#x3C;arquivo&#x3E;</code>, vamos ver isso.</p>
</section>
<section class="section-block-markdown-cell">
<p>Criamos e adicionamos à área de stage um novo arquivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este no&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos <code>git status</code> para verificar que está na área de stage</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: adios.py
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, estão <code>hola.py</code> e <code>adios.py</code>, então usamos <code>git reset adios.py</code> para removê-lo da área de staged</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">adios</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code> para verificar que saiu</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	adios.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que <code>adios.py</code> já não tem acompanhamento por parte do git, foi removido da área de stage.</p>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos <code>git clean -f</code> para apagá-lo.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando adios.py
En la rama master

No hay commits todavía

Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git rm --cached &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Commit (git commit)">Commit (<code>git commit</code>)<a class="anchor-link" href="#Commit (git commit)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se voltarmos ao símil em que dissemos que a área de staged era o palco onde enviávamos os arquivos aos quais queríamos tirar uma foto, agora é hora de tirar a foto para imortalizar o estado atual. Isso é fazer um <code>commit</code></p>
<p>Desta forma, registra-se o estado atual do código, assim, com cada commit, teremos um registro da evolução do código. Assim como em um álbum de fotos, com cada foto vamos tendo um registro da evolução do que colocamos em cena.</p>
</section>
<section class="section-block-markdown-cell">
<p>Como na hora de fazer o commit está sendo registrado a mudança do código, o git não permite fazer o commit sem um comentário mínimo. Portanto, há duas maneiras de fazer commit</p>
<ul>
  <li><code>git commit</code> desta forma, será aberto o editor que tivermos configurado no git. Se não tivermos configurado um editor padrão, será aberto <code>vi</code>. Se quisermos mudar a configuração do editor, podemos fazer, por exemplo, <code>git config --global core.editor "code"</code> ou <code>git config core.editor "code"</code> para definir o vscode como o editor padrão de forma global ou local.</li>
  <li><code>git commit -m "Mensagem de commit"</code>. Dessa forma adicionamos a mensagem diretamente</li>
</ul>
<p>Ao fazer o commit da primeira forma, podemos ter uma primeira linha que será o título do commit e várias linhas adicionais onde se explica com mais detalhes. Se quisermos poder fazer isso com a flag <code>-m</code>, basta adicionar vários flags <code>-m</code> seguidos: <code>git commit -m &quot;Título do commit&quot; -m &quot;Primeira linha explicando mais&quot; -m &quot;Segunda linha explicando mais&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Uma vez que fizemos o commit, isso salvará um registro da mudança do nosso repositório de maneira local. Ainda não nos conectamos com um servidor remoto.</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos tentar fazer o commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Primer commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master (commit-raíz) 1c95e4f] Primer commit, hola.py
 1 file changed, 1 insertion(+)
 create mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que nos diz que não há nada novo, temos todo o nosso repositório totally controlado.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Commit pulando add (git commit -a -m ou git commit -am)">Commit pulando add (<code>git commit -a -m</code> ou <code>git commit -am</code>)<a class="anchor-link" href="#Commit pulando add (git commit -a -m ou git commit -am)">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>No caso de querermos levar todos os arquivos que modificamos para a área de staged e depois fazer um commit, podemos fazer tudo isso em um único passo usando <code>git commit -a -m &quot;mensagem&quot;</code>, <code>git commit --all -m &quot;mensagem&quot;</code> ou <code>git commit -am &quot;mensagem&quot;</code></p>
<blockquote>
<p>Nota: Isso só é válido se um arquivo for modificado. Se o arquivo for novo e o git não estiver fazendo acompanhamento, isso não é válido.</p>
</blockquote>
<p>Vamos ver um exemplo, vamos modificar <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;He añadido una nueva linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos fazer um <code>git status</code> para nos assegurar</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que na própria ajuda do git já nos sugere usar <code>git commit -a</code>, então vamos fazer isso.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Segundo commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 6e99e73] Segundo commit, hola.py
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos novamente um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Não há nada para fazer commit, já foi feito o commit da alteração</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Modificar um arquivo ao qual foi feito commit">Modificar um arquivo ao qual foi feito commit<a class="anchor-link" href="#Modificar um arquivo ao qual foi feito commit">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como enquanto desenvolvemos estamos modificando arquivos, pode ser que em algum arquivo ao qual já fizemos commit o modifiquemos. No nosso caso, vamos adicionar uma linha a <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;He añadido una tercera linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Hola mundo&#x27;)
print(&#x27;He añadido una nueva linea&#x27;)
print(&#x27;He añadido una tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se fizermos <code>git status</code> veremos que <code>hola.py</code> tem modificações</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Ver alterações em um arquivo (git diff &#x3C;arquivo&#x3E;)">Ver alterações em um arquivo (<code>git diff &#x3C;arquivo&#x3E;</code>)<a class="anchor-link" href="#Ver alterações em um arquivo (git diff &#x3C;arquivo&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Talvez tenhamos passado um tempo desenvolvendo desde o último commit e não saibamos quais modificações fizemos, para isso usamos <code>git diff &#x3C;arquivo&#x3E;</code> que nos dirá as mudanças que fizemos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index 91dee80..fba0d22 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
 print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;He añadido una tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Embora não seja muito intuitivo, podemos ver que adicionamos a última linha em <code>hola.py</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Desfazer modificações em um arquivo (git restore &#x3C;arquivo&#x3E;)">Desfazer modificações em um arquivo (<code>git restore &#x3C;arquivo&#x3E;</code>)<a class="anchor-link" href="#Desfazer modificações em um arquivo (git restore &#x3C;arquivo&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se as alterações que fizemos não nos agradarem e quisermos removê-las, podemos fazer <code>git restore &#x3C;arquivo&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">restore</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver o que aconteceu com um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que se han descartado os cambios em <code>hola.py</code> desde o último commit</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Histórico de alterações (git log)">Histórico de alterações (<code>git log</code>)<a class="anchor-link" href="#Histórico de alterações (git log)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Com o git podemos ver o histórico de todas as mudanças que fomos commitando, para isso usamos <code>git log</code>. É como se colocássemos a revisar nosso álbum de fotos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 6e99e73cf0c5474078cc9f328ee6a54fb9ffb169 (HEAD -&amp;gt; master)
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:04 2023 +0200

&#x20;&#x20;&#x20;&#x20;Segundo commit, hola.py

commit 1c95e4fd8388ceedee368e0121c4b0ef4900c2ac
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:28:44 2023 +0200

&#x20;&#x20;&#x20;&#x20;Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver o histórico de mudanças, temos que lê-lo de baixo para cima.</p>
<p>Primeiro vemos o commit com a mensagem <code>Primeiro commit, hola.py</code>, podemos ver a data, o autor e o hash, que é seu identificador único.</p>
<p>A seguir vemos o segundo commit com a mensagem <code>Segundo commit, hola.py</code>, com sua data, autor e hash. Além disso, mostra onde está o <code>HEAD</code> e em qual branch estamos.</p>
</section>
<section class="section-block-markdown-cell">
<p>Se我们可以使用标志以不同的方式获取信息，但根据我们使用的标志，某些方式可能更适合我们。下表显示了一些有用的标志：</p>
<p>Note: The above sentence is not translated to Portuguese as requested, here's the correct translation:</p>
<p>Se usarmos flags, podemos obter informações de maneiras diferentes, mas dependendo das flags que usarmos, algumas podem ser mais adequadas. A seguir, são mostradas algumas flags úteis:</p>
<ul>
  <li><code>git log --oneline</code>: Mostra os commits em uma única linha, com o hash abreviado e a mensagem do commit.</li>
  <li><code>git log --graph</code>: Mostra um gráfico de texto da história do repositório, incluindo ramos e fusões.</li>
  <li><code>git log --decorate</code>: Mostra as referências (ramos, tags, HEAD, etc.) no log juntamente com o commit para o qual elas apontam.</li>
  <li><code>git log --author="<autor>"</code>: Filtra o histórico de commits para mostrar apenas aqueles realizados por um autor específico.</li>
  <li><code>git log --since="&lt;data&gt;"</code>: Mostra os commits realizados desde uma data específica. Você pode usar diferentes formatos de data, como "1 week ago" ou "2023-01-01".</li>
  <li><code>git log --until="&lt;data&gt;"</code>: Mostra os commits realizados até uma data específica.</li>
  <li><code>git log <rama></code>: Mostra os commits de uma ramificação específica.* <code>git log <commit1>..<commit2></code>: Mostra os commits que estão no intervalo entre dois commits específicos.</li>
  <li><code>git log --grep="<palavra>"</code>: Procura nos mensagens de commit por uma palavra ou frase específica.</li>
  <li><code>git log -p</code>: Mostra as diferenças (em forma de patch) introduzidas em cada commit.</li>
  <li><code>git log -n <número></code>: Mostra os últimos número de commits. Por exemplo, git log -n 5 mostrará os últimos 5 commits.</li>
  <li><code>git log --stat</code>: Mostra as estatísticas de alterações em arquivos para cada commit, como o número de linhas adicionadas e removidas.</li>
</ul>
<p>Por exemplo, uma maneira confortável de ver o histórico é usar <code>git log --graph --oneline --decorate</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 6e99e73 (HEAD -&amp;gt; master) Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que, em vez de nos dar o hash inteiro, nos dá apenas alguns números. Isso ocorre porque, por enquanto, o repositório tem tão pouca história que esses poucos números são suficientes. Se quisermos voltar ao ponto anterior, em vez de introduzir o hash inteiro (<code>7c448f69e30ab1b5783f5cf9ee3ae5bc362ecd4d</code>), bastaria introduzir apenas <code>7c448f6</code>.</p>
</section>
<section class="section-block-markdown-cell">
<p>Mais tarde falaremos sobre as branches, mas agora vamos ver o que é o <code>HEAD</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="CABECALHO">CABEÇALHO<a class="anchor-link" href="#CABECALHO">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Enquanto desenvolvíamos, conseguimos fazer alterações e commitá-las, ou seja, fomos preenchendo o álbum de fotos do nosso código. <code>HEAD</code> é a posição no álbum em que estamos.</p>
<p>Normalmente é a última posição de todos os commits.</p>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos saber em qual ponto estamos, podemos fazer isso através de <code>git rev-parse HEAD</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rev</span><span class="o">-</span><span class="n">parse</span> <span class="n">HEAD</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>6e99e73cf0c5474078cc9f328ee6a54fb9ffb169
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como pode ser visto, o hash obtido coincide com o último obtido ao fazer <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 6e99e73cf0c5474078cc9f328ee6a54fb9ffb169 (HEAD -&amp;gt; master)
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:04 2023 +0200

&#x20;&#x20;&#x20;&#x20;Segundo commit, hola.py

commit 1c95e4fd8388ceedee368e0121c4b0ef4900c2ac
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:28:44 2023 +0200

&#x20;&#x20;&#x20;&#x20;Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Modificar um commit (git commit --amend)">Modificar um commit (<code>git commit --amend</code>)<a class="anchor-link" href="#Modificar um commit (git commit --amend)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Podemos querer modificar um commit, porque queremos mudar a mensagem, ou porque queremos adicionar mais arquivos ao commit, então veremos os dois casos</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Modificar a mensagem de commit">Modificar a mensagem de commit<a class="anchor-link" href="#Modificar a mensagem de commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Se apenas quisermos modificar a mensagem, o que temos que fazer é <code>git commit --amend -m &quot;Nova mensagem&quot;</code>, vejamos um exemplo, vamos modificar <code>hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Esta es la tercera linea&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     hola.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efetivamente vemos que <code>hola.py</code> tem modificações, de modo que fazemos um commit com essas modificações.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Tercer commot, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 60e2ffd] Tercer commot, hola.py
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver o histórico de commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 60e2ffd (HEAD -&amp;gt; master) Tercer commot, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>**Oh não!** escrevemos <code>commot</code> em vez de <code>commit</code>, então vamos modificar a mensagem</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">--</span><span class="n">amend</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tercer commit, hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master c4930d7] Tercer commit, hola.py
 Date: Sun Apr 16 02:29:59 2023 +0200
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a ver o histórico</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 (HEAD -&amp;gt; master) Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que agora está bem.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Adicionar arquivos ao ultimo commit">Adicionar arquivos ao último commit<a class="anchor-link" href="#Adicionar arquivos ao ultimo commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que esquecemos de adicionar um arquivo ao último commit, simplesmente fazemos um <code>git add</code> com esse arquivo e fazemos <code>git commit --amend -m &quot;mensagem&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a criar dois arquivos novos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 1&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 2&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora fazemos commit apenas de um</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 285b243] Commit con el archivo 1
 1 file changed, 1 insertion(+)
 create mode 100644 archivo1.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo2.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 285b243 (HEAD -&amp;gt; master) Commit con el archivo 1
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos esquecemos do arquivo 2, então modificamos o commit e adicionamos o arquivo 2</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">--</span><span class="n">amend</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 1 y 2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 04ebd1f] Commit con los archivos 1 y 2
 Date: Sun Apr 16 02:30:26 2023 +0200
 2 files changed, 2 insertions(+)
 create mode 100644 archivo1.py
 create mode 100644 archivo2.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora o último commit tem os dois novos arquivos</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Desfazer um commit (git reset HEAD~1)">Desfazer um commit (<code>git reset HEAD~1</code>)<a class="anchor-link" href="#Desfazer um commit (git reset HEAD~1)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Com este comando, dizemos ao git para voltar uma posição no histórico de commits. Há duas opções: <code>--soft</code>, que não apagará as alterações que tenhamos feito, e <code>--hard</code>, que o fará.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Desfazer um commit mantendo as alterações (git reset --soft HEAD~1)">Desfazer um commit mantendo as alterações (<code>git reset --soft HEAD~1</code>)<a class="anchor-link" href="#Desfazer um commit mantendo as alterações (git reset --soft HEAD~1)">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a criar um novo arquivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 3&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo3</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo3.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um commit adicionando este arquivo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo3</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivos 3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 6dc7be6] Commit con el archivos 3
 1 file changed, 1 insertion(+)
 create mode 100644 archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 6dc7be6 (HEAD -&amp;gt; master) Commit con el archivos 3
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que no o último commit se encontra <code>arquivo3.py</code>, vamos a eliminar o commit mantendo <code>arquivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">soft</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos agora um <code>git log</code> para ver se o último commit foi removido.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efetivamente, vemos que foi removido o último commit</p>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code> para ver se foi preservado o <code>arquivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Manteve-se</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Desfazer um commit descartando as alterações (git reset --hard HEAD~1)">Desfazer um commit descartando as alterações (<code>git reset --hard HEAD~1</code>)<a class="anchor-link" href="#Desfazer um commit descartando as alterações (git reset --hard HEAD~1)">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Temos <code>arquivo3.py</code> que criamos e está na área de stage</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Portanto, fazemos um commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 0147d65] Commit con el archivo 3
 1 file changed, 1 insertion(+)
 create mode 100644 archivo3.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git log</code> para verificar que há um commit com este arquivo.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 0147d65 (HEAD -&amp;gt; master) Commit con el archivo 3
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efetivamente há um commit adicionando <code>arquivo3.py</code>. Agora removemos este commit descartando <code>arquivo3.py</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 04ebd1f Commit con los archivos 1 y 2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git log</code> para verificar que foi removido o último commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 04ebd1f (HEAD -&amp;gt; master) Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O commit com <code>arquivo3.py</code> foi removido, agora fazemos um <code>git status</code> para verificar o que aconteceu com <code>arquivo3.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Não aparece <code>arquivo3.py</code> como um arquivo ao qual devemos fazer commit, vamos verificar se ele foi realmente excluído por completo.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo3</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Efetivamente, o <code>arquivo3.py</code> foi removido do sistema de arquivos.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Modificar um commit remoto (git push --force)">Modificar um commit remoto (<code>git push --force</code>)<a class="anchor-link" href="#Modificar um commit remoto (git push --force)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Embora veremos mais adiante como sincronizarmo-nos com repositórios remotos, no caso de ter feito um commit, tê-lo subido a um repositório remoto (<code>git push</code>) e tê-lo modificado localmente (porque modificou a mensagem ou desfez o commit), para reverter as alterações no repositório remoto você precisa fazer <code>git push --force</code></p>
<blockquote>
<p>**Cuidado!**: Este comando modifica o histórico do repositório remoto, então pode afetar o resto das pessoas que estejam trabalhando com esse repositório. Use este comando com muito cuidado e segurança. É melhor ter um histórico de commits no qual primeiro está o commit em que você colocou a descrição errada e depois o novo commit com a nova descrição correta, do que ficar modificando o histórico.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<h3 id="Modificar um commit remoto (git push --force-with-lease)">Modificar um commit remoto (<code>git push --force-with-lease</code>)<a class="anchor-link" href="#Modificar um commit remoto (git push --force-with-lease)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se você está convencido de alterar o histórico, pelo menos use <code>git push --force-with-lease</code>, que não modificará os commits que tenham sido feitos posteriormente.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Ignorar arquivos (.gitignore)">Ignorar arquivos (<code>.gitignore</code>)<a class="anchor-link" href="#Ignorar arquivos (.gitignore)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que temos um arquivo com <code>API key</code>s, este arquivo na verdade não queremos que seja salvo no repositório, porque se depois compartilharmos este repositório, qualquer pessoa teria acesso a essas chaves, por isso é necessário dizer ao git para não fazer o acompanhamento deste arquivo</p>
<p>Isso é feito com o arquivo <code>.gitignore</code>, nele adicionamos o caminho dos arquivos ou diretórios que não queremos que o git faça o acompanhamento.</p>
<p>Vamos vê-lo</p>
</section>
<section class="section-block-markdown-cell">
<p>Criamos o arquivo com as chaves</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">api_keys</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se fazemos <code>git status</code> vemos que o Git o considera</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	api_keys.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se não fizermos nada, pode ser que um dia façamos um <code>git add .</code> e o incluamos no repositório, então, por segurança, temos que dizer ao git para não seguir este arquivo. Para isso, criamos o <code>.gitignore</code> adicionando este arquivo.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;api_keys.py&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">.</span><span class="n">gitignore</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver o que acontece se agora fizermos <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	.gitignore

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que o git deixou de considerar <code>api_keys.py</code>, mas ainda considera <code>.gitignore</code>, então fazemos um commit para adicionar <code>.gitignore</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="o">.</span><span class="n">gitignore</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Añadido .gitignore&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 0b09cfa] Añadido .gitignore
 1 file changed, 1 insertion(+)
 create mode 100644 .gitignore
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4 id="Quais arquivos adicionar ao .gitignore?">Quais arquivos adicionar ao <code>.gitignore</code>?<a class="anchor-link" href="#Quais arquivos adicionar ao .gitignore?">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<ul>
  <li>Arquivos que tenham credenciais ou chaves de API (você não deveria enviá-los para o repositório, simplesmente injete-os por variável de ambiente)</li>
  <li>Pastas de configuração do seu editor (<code>/.vscode</code>)</li>
  <li>Arquivos de registro (log files)</li>
  <li>Arquivos do sistema como <code>.DS_Store</code>* Pastas geradas com arquivos estáticos ou compilações como <code>/dist</code> ou <code>/build</code></li>
  <li>Dependências que podem ser baixadas (<code>/node_modules</code>)</li>
  <li>Cobertura do teste (<code>/coverage</code>)</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4 id="Como ignorar sempre os mesmos arquivos?">Como ignorar sempre os mesmos arquivos?<a class="anchor-link" href="#Como ignorar sempre os mesmos arquivos?">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Se seu IDE sempre gera os mesmos arquivos de configuração, seria bom poder dizer ao git para sempre ignorar esses arquivos. Para isso, criamos um <code>.gitignore</code> global.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">touch</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No meu caso, vou adicionar o diretório <code>__pycache__/</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">echo</span> <span class="s2">&quot;__pycache__/&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora temos que indicar ao Git que esse é o nosso <code>.gitignore</code> global</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">core</span><span class="o">.</span><span class="n">excludesfile</span> <span class="o">~/.</span><span class="n">gitignore_global</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Pronto, o diretório <code>__pycache__/</code> sempre será ignorado</p>
</section>
<section class="section-block-markdown-cell">
<p>O GitHub tem um <a href="https://github.com/github/gitignore">repositório</a> com <code>.gitignore</code>s para muitas linguagens, eu me baseei no <a href="https://github.com/github/gitignore/blob/main/Python.gitignore">deste</a> para Python.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Remover um arquivo de um commit">Remover um arquivo de um commit<a class="anchor-link" href="#Remover um arquivo de um commit">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a ver como remover um arquivo de um commit que fizemos. Primeiro criamos dois arquivos e fazemos commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 4&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 5&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um commit com os dois arquivos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 4 y 5&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master e3153a5] Commit con los archivos 4 y 5
 2 files changed, 2 insertions(+)
 create mode 100644 archivo4.py
 create mode 100644 archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* e3153a5 (HEAD -&amp;gt; master) Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>A partir de aqui há duas opções para remover um arquivo de um commit:</p>
<ul>
  <li>Excluir o arquivo e criar um novo commit* Desfazer o commit e criá-lo novamente sem o arquivo</li>
</ul>
</section>
<section class="section-block-markdown-cell">
<h4 id="Excluir o arquivo e criar um novo commit">Excluir o arquivo e criar um novo commit<a class="anchor-link" href="#Excluir o arquivo e criar um novo commit">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que queremos eliminar o arquivo <code>arquivo5.py</code>, então o removemos com <code>git rm arquivo5.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo5</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo5.py&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos fazer um <code>git status</code> para ver o que acontece</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	borrados:        archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, foi excluído <code>archivo5.py</code>. Agora criamos um novo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Eliminado archivo5.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master ea615a9] Eliminado archivo5.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo5.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* ea615a9 (HEAD -&amp;gt; master) Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4 id="Desfazer o commit e cria-lo novamente sem o arquivo">Desfazer o commit e criá-lo novamente sem o arquivo<a class="anchor-link" href="#Desfazer o commit e cria-lo novamente sem o arquivo">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a criar dois arquivos e fazer um commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 6&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;Este es el archivo 7&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo6.py
	archivo7.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con los archivos 6 y 7&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master d6dc485] Commit con los archivos 6 y 7
 2 files changed, 2 insertions(+)
 create mode 100644 archivo6.py
 create mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* d6dc485 (HEAD -&amp;gt; master) Commit con los archivos 6 y 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro desfazemos o último commit com <code>git reset --soft HEAD~1</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">soft</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code> para ver o que ocorreu</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo6.py
	nuevos archivos: archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que desfizemos o commit, mas os dois arquivos se encontram na área de staged, portanto, para remover um dos arquivos do commit, primeiro é necessário removê-lo da área de staged. Para isso, fazemos <code>git reset arquivo6.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">archivo6</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos novamente um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo7.py

Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que <code>arquivo7.py</code> está na área de staged, enquanto <code>arquivo6.py</code> já não está. Agora podemos apagar o arquivo 6, para isso usamos <code>git clean</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">n</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Será borrado archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Borrando archivo6.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos novamente um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama master
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos <code>arquivo.py</code> já não está, então podemos fazer um novo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 7&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[master 4bb9d75] Commit con el archivo 7
 1 file changed, 1 insertion(+)
 create mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Removemos o último commit e o substituímos por um novo, removendo o arquivo que queríamos.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Histórico de alterações de um arquivo (git log &#x3C;arquivo&#x3E;)">Histórico de alterações de um arquivo (<code>git log &#x3C;arquivo&#x3E;</code>)<a class="anchor-link" href="#Histórico de alterações de um arquivo (git log &#x3C;arquivo&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Embora antes tenhamos visto como podemos ver o histórico do repositório com <code>git log</code>, pode ser que não nos interesse o histórico de todo o repositório. Pode ser que tenhamos um bug em um arquivo de código que no início não tínhamos, por isso é possível que queiramos ver apenas o histórico desse arquivo. Para isso, usamos <code>git log &#x3C;arquivo&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro vemos os arquivos que temos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que queremos ver apenas as mudanças em <code>hola.py</code>, então fazemos <code>git log hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que aparecem muitos menos resultados do que se tivéssemos feito <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Ver modificações de um arquivo em um ponto específico do histórico (git show &#x3C;hash&#x3E; &#x3C;arquivo&#x3E; ou git diff &#x3C;arquivo&#x3E;)">Ver modificações de um arquivo em um ponto específico do histórico (<code>git show &#x3C;hash&#x3E; &#x3C;arquivo&#x3E;</code> ou <code>git diff &#x3C;arquivo&#x3E;</code>)<a class="anchor-link" href="#Ver modificações de um arquivo em um ponto específico do histórico (git show &#x3C;hash&#x3E; &#x3C;arquivo&#x3E; ou git diff &#x3C;arquivo&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que já sabemos em qual ponto uma alteração foi feita no arquivo que contém um bug, então agora queremos saber quais alterações foram feitas para descobrir o que pode estar causando o bug. Para isso, podemos usar <code>git show &#x3C;hash&#x3E; &#x3C;arquivo&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver quais mudanças ocorreram em <code>hola.py</code> no hash <code>c4930d7</code>, ou seja, quando foi feito o terceiro commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">show</span> <span class="n">c4930d7</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit c4930d7267c3f8df389ab0cb1bda0b5fceabb5c2
Author: maximofn &amp;lt;maximofn@gmail.com&amp;gt;
Date:   Sun Apr 16 02:29:59 2023 +0200

&#x20;&#x20;&#x20;&#x20;Tercer commit, hola.py

diff --git a/hola.py b/hola.py
index 91dee80..33bdb99 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
 print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;Esta es la tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>A maneira de ver as mudanças no git não é muito intuitiva, mas podemos ver que foi adicionada a linha <code>print(&#x27;Esta é a terceira linha&#x27;)</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Outra maneira de ver alterações é com <code>git diff</code>, temos duas opções, podemos ver as alterações do arquivo no momento atual em relação a um ponto específico do histórico, para isso fazemos <code>git diff &#x3C;hash&#x3E; &#x3C;arquivo&#x3E;</code>.</p>
<p>Por exemplo, se quisermos ver as mudanças de <code>hola.py</code> desde quando foi feito o primeiro commit (hash <code>1c95e4f</code>) até a situação atual, devemos inserir (<code>git diff 1c95e4f hola.py</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index f140969..33bdb99 100644
--- a/hola.py
+++ b/hola.py
@@ -1 +1,3 @@
 print(&#x27;Hola mundo&#x27;)
+print(&#x27;He añadido una nueva linea&#x27;)
+print(&#x27;Esta es la tercera linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mas se quisermos ver a diferença entre um ponto específico do histórico e outro ponto específico, temos que introduzir os hashes dos dois momentos, ou seja <code>git diff &#x3C;hash1&#x3E; &#x3C;hash2&#x3E; &#x3C;arquivo&#x3E;</code></p>
<p>Se quisermos ver as mudanças de <code>hola.py</code> entre o segundo commit (hash <code>6e99e73</code>) e o primeiro commit (hash <code>1c95e4f</code>), teríamos que introduzir <code>git diff 1c95e4f 6e99e73 hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="mf">6e99</span><span class="n">e73</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index f140969..91dee80 100644
--- a/hola.py
+++ b/hola.py
@@ -1 +1,2 @@
 print(&#x27;Hola mundo&#x27;)
+print(&#x27;He añadido una nueva linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O anterior nos mostra as mudanças do segundo commit em relação ao primeiro, mas se o que queremos são as mudanças do primeiro commit em relação ao segundo, basta colocar os hashes ao contrário de como os colocamos, ou seja <code>git diff 6e99e73 1c95e4f hola.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="mf">6e99</span><span class="n">e73</span> <span class="mi">1</span><span class="n">c95e4f</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --git a/hola.py b/hola.py
index 91dee80..f140969 100644
--- a/hola.py
+++ b/hola.py
@@ -1,2 +1 @@
 print(&#x27;Hola mundo&#x27;)
-print(&#x27;He añadido una nueva linea&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Viagem ao passado (git reset --hard &#x3C;hash&#x3E; ou git reset --soft &#x3C;hash&#x3E;)">Viagem ao passado (<code>git reset --hard &#x3C;hash&#x3E;</code> ou <code>git reset --soft &#x3C;hash&#x3E;</code>)<a class="anchor-link" href="#Viagem ao passado (git reset --hard &#x3C;hash&#x3E; ou git reset --soft &#x3C;hash&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Imaginemos que encontramos que tudo o que fizemos após gerar o bug não serve e temos que voltar a trabalhar a partir desse ponto, podemos voltar a uma posição do histórico por meio de <code>git reset --hard &#x3C;hash&#x3E;</code> (isso não manterá as alterações) ou <code>git reset --soft &#x3C;hash&#x3E;</code> (isso sim manterá as alterações).</p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro vejamos o histórico</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que queremos voltar ao momento em que fizemos o terceiro commit (hash <code>c4930d7</code>), além disso, fazemos isso sem manter as alterações, ou seja, todas as modificações que fizemos depois serão apagadas, fazemos <code>git reset --hard c4930d7</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro fazemos <code>ls</code> para ver os arquivos que temos agora</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ao terceiro commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">c4930d7</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en c4930d7 Tercer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se fazemos <code>ls</code> veremos que já não temos nem <code>archivo1.py</code>, nem <code>archivo2.py</code>, nem <code>archivo4.py</code>, nem <code>archivo7.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Volta ao futuro (git reflog)">Volta ao futuro (<code>git reflog</code>)<a class="anchor-link" href="#Volta ao futuro (git reflog)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que nos arrependemos e queremos voltar ao ponto onde estávamos, ao último punto no histórico. Uma maneira seria fazer <code>git reset --hard &#x3C;hash&#x3E;</code>. Mas imaginemos que não sabemos o hash, porque não fizemos <code>git log</code> antes e se o fizermos agora só nos dá informação do histórico até o terceiro commit.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* c4930d7 (HEAD -&amp;gt; master) Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Aqui o que podemos fazer é <code>git reflog</code>, que nos dará um histórico incluindo os saltos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reflog</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>c4930d7 (HEAD -&amp;gt; master) HEAD@&#x7B;0&#x7D;: reset: moving to c4930d7
4bb9d75 HEAD@&#x7B;1&#x7D;: commit: Commit con el archivo 7
ea615a9 HEAD@&#x7B;2&#x7D;: reset: moving to HEAD~1
d6dc485 HEAD@&#x7B;3&#x7D;: commit: Commit con los archivos 6 y 7
ea615a9 HEAD@&#x7B;4&#x7D;: commit: Eliminado archivo5.py
e3153a5 HEAD@&#x7B;5&#x7D;: commit: Commit con los archivos 4 y 5
0b09cfa HEAD@&#x7B;6&#x7D;: commit: Añadido .gitignore
04ebd1f HEAD@&#x7B;7&#x7D;: reset: moving to HEAD~1
0147d65 HEAD@&#x7B;8&#x7D;: commit: Commit con el archivo 3
04ebd1f HEAD@&#x7B;9&#x7D;: reset: moving to HEAD~1
6dc7be6 HEAD@&#x7B;10&#x7D;: commit: Commit con el archivos 3
04ebd1f HEAD@&#x7B;11&#x7D;: commit (amend): Commit con los archivos 1 y 2
285b243 HEAD@&#x7B;12&#x7D;: commit: Commit con el archivo 1
c4930d7 (HEAD -&amp;gt; master) HEAD@&#x7B;13&#x7D;: commit (amend): Tercer commit, hola.py
60e2ffd HEAD@&#x7B;14&#x7D;: commit: Tercer commot, hola.py
6e99e73 HEAD@&#x7B;15&#x7D;: commit: Segundo commit, hola.py
1c95e4f HEAD@&#x7B;16&#x7D;: commit (initial): Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Podemos ver que nos diz que estávamos no commit com hash <code>4bb9d75</code>, ou seja, o último commit que fizemos, e de lá fomos até o commit com hash <code>c4930d7</code>, que se você reparar, é o mesmo hash do commit com mensagem <code>Tercer commit, hola.py</code>. Portanto, já sabemos o hash do último commit, o <code>4bb9d75</code>, assim para voltar à posição do último commit fazemos <code>git reset --hard 4bb9d75</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="mi">4</span><span class="n">bb9d75</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 4bb9d75 Commit con el archivo 7
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora voltarmos a fazer um log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; master) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que efectivamente estamos na posição do último commit, *voltamos para o futuro*</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Pesquisa em arquivos (git grep &#x3C;palavra&#x3E;)">Pesquisa em arquivos (<code>git grep &#x3C;palavra&#x3E;</code>)<a class="anchor-link" href="#Pesquisa em arquivos (git grep &#x3C;palavra&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos procurar em arquivos, podemos fazê-lo com o comando <code>git grep</code>. Como no repositório que estamos construindo é muito pequeno e tem poucos arquivos, vamos baixar um novo por meio de um comando que veremos com mais detalhes posteriormente.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">facebookresearch</span><span class="o">/</span><span class="n">segment</span><span class="o">-</span><span class="n">anything</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Clonando en &#x27;segment-anything&#x27;...
remote: Enumerating objects: 279, done.
remote: Counting objects: 100% (181/181), done.
remote: Compressing objects: 100% (77/77), done.
remote: Total 279 (delta 116), reused 104 (delta 104), pack-reused 98
Recibiendo objetos: 100% (279/279), 18.31 MiB | 21.25 MiB/s, listo.
Resolviendo deltas: 100% (140/140), listo.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O repositório que baixamos é o do código-fonte do SAM, uma rede neural da Meta para segmentar qualquer objeto. Entramos na pasta do repositório e procuramos, por exemplo, quantas vezes a palavra <code>softmax</code> foi escrita.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:        attn = attn.softmax(dim=-1)
segment_anything/modeling/transformer.py:        attn = torch.softmax(attn, dim=-1)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que se escreveu nos arquivos <code>segment_anything/modeling/image_encoder.py</code> e <code>segment_anything/modeling/transformer.py</code>.</p>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos saber em quais linhas dos arquivos foi escrito, usamos a flag <code>-n</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="o">-</span><span class="n">n</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:236:        attn = attn.softmax(dim=-1)
segment_anything/modeling/transformer.py:233:        attn = torch.softmax(attn, dim=-1)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos contar quantas vezes uma palavra aparece, podemos usar a flag <code>-c</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">grep</span> <span class="o">-</span><span class="n">c</span> <span class="n">softmax</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>segment_anything/modeling/image_encoder.py:1
segment_anything/modeling/transformer.py:1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>E vemos que aparece uma vez em cada arquivo</p>
</section>
<section class="section-block-markdown-cell">
<p>E nos diz que estão nas linhas 236 e 233, respectivamente.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Busca em commits (git log -S &#x3C;palavra&#x3E;)">Busca em commits (<code>git log -S &#x3C;palavra&#x3E;</code>)<a class="anchor-link" href="#Busca em commits (git log -S &#x3C;palavra&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos buscar no histórico de commits, podemos usar o comando <code>git log -S &#x3C;palavra&#x3E;</code>. Por exemplo, busquemos no histórico de commits do repositório que baixamos anteriormente a palavra <code>fix</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">-</span><span class="n">S</span> <span class="s2">&quot;collab&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>commit 2780a301de4483e5c46edb230ea781556159c658
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Mon Apr 10 10:50:17 2023 -0700

&#x20;&#x20;&#x20;&#x20;Fix typo in notebook &#x27;using_collab&#x27;-&amp;gt;&#x27;using_colab&#x27; in other two notebooks.

commit 2c11ea23525970ac288f23dc74b203bcbfb4cc6a
Author: jp-x-g &amp;lt;jpxg-dev@protonmail.com&amp;gt;
Date:   Thu Apr 6 20:00:04 2023 -0700

&#x20;&#x20;&#x20;&#x20;fix parameter name
&#x20;&#x20;&#x20;&#x20;
&#x20;&#x20;&#x20;&#x20;&quot;using_collab&quot; does not appear in subsequent text, replacing with &quot;using_colab&quot;

commit b47d02d68c308672751be29742fcef02a86e2f02
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Wed Apr 5 06:13:09 2023 -0700

&#x20;&#x20;&#x20;&#x20;Fix broken links in notebook Colab setup.

commit 571794162e0887c15d12b809505b902c7bf8b4db
Author: Eric Mintun &amp;lt;eric.mintun@gmail.com&amp;gt;
Date:   Tue Apr 4 22:25:49 2023 -0700

&#x20;&#x20;&#x20;&#x20;Initial commit
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Apagamos a pasta do SAM</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="n">segment</span><span class="o">-</span><span class="n">anything</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Ramas">Ramas<a class="anchor-link" href="#Ramas">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/GIT-Branchand-its-Operations.webp" alt="branches">
<p>O uso de branches é muito útil, pois podemos começar a desenvolver um novo recurso sem ter que modificar o código original</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Criar uma branch (git branch &#x3C;nome-da-branch&#x3E;)">Criar uma branch (<code>git branch &#x3C;nome-da-branch&#x3E;</code>)<a class="anchor-link" href="#Criar uma branch (git branch &#x3C;nome-da-branch&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>**Nota**: Antes de tudo, é preciso dizer que para criar uma branch em um repositório deve haver pelo menos um commit. Se tentarmos criar uma branch antes de fazer o primeiro commit, receberemos um erro.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Para criar uma branch usamos o comando <code>git branch &#x3C;nome da branch&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">new_branch</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Listar ramos (git branch)">Listar ramos (<code>git branch</code>)<a class="anchor-link" href="#Listar ramos (git branch)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Criamos nossa primeira branch, podemos verificar todas as branches criadas apenas escrevendo <code>git branch</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* master
&#x20;&#x20;new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Além de listar, ele indica com um asterisco <code>*</code> em qual ramo estamos, neste caso na ramo <code>master</code>.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Renomear ramos, adeus à ramo master (git branch -m &#x3C;nome antigo&#x3E; &#x3C;novo nome&#x3E;)">Renomear ramos, adeus à ramo <code>master</code> (<code>git branch -m &#x3C;nome antigo&#x3E; &#x3C;novo nome&#x3E;</code>)<a class="anchor-link" href="#Renomear ramos, adeus à ramo master (git branch -m &#x3C;nome antigo&#x3E; &#x3C;novo nome&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Históricamente no git a ramificação principal era chamada de <code>master</code>, mas isso tem conotações históricas negativas devido ao conceito de <code>master-slave</code> (<code>maestro-escravo</code>), em razão do sofrimento que muitas pessoas enfrentaram. Por isso, agora a ramificação principal costuma ser denominada <code>main</code>, então para renomeá-la usamos <code>git branch -m master main</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">m</span> <span class="n">master</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Listamos as ramas</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* main
&#x20;&#x20;new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, conseguimos mudar o nome da branch principal de <code>master</code> para <code>main</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Mudar de ramo (git switch &#x3C;branch&#x3E;)">Mudar de ramo (<code>git switch &#x3C;branch&#x3E;</code>)<a class="anchor-link" href="#Mudar de ramo (git switch &#x3C;branch&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos mudar de branch, basta escrever <code>git switch &#x3C;nome da branch&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">new_branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;new_branch&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver em qual ramo estamos com <code>git branch</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;main
* new_branch
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, mudamos de branch para new_branch</p>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos criar e mudar para uma branch em um único comando, podemos usar <code>git switch -c &#x3C;nome da branch&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="o">-</span><span class="n">c</span> <span class="n">new_branch2</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a nueva rama &#x27;new_branch2&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver em qual branch estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;main
&#x20;&#x20;new_branch
* new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Nós criamos e mudamos de branch com um único comando</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Obter a branch em que estamos (git branch --show-current)">Obter a branch em que estamos (<code>git branch --show-current</code>)<a class="anchor-link" href="#Obter a branch em que estamos (git branch --show-current)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como vimos até agora com <code>git branch</code> podemos obter uma lista de todas as ramas e ainda ver em qual estamos atualmente, mas no caso de termos uma grande quantidade de ramas, algo que pode acontecer em uma equipe de trabalho com muita gente, é bom obter apenas a rama e não uma lista de todas. Para isso usamos <code>git branch --show-current</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Lista de ramas mais recentes (git branch --sort=-committerdate)">Lista de ramas mais recentes (<code>git branch --sort=-committerdate</code>)<a class="anchor-link" href="#Lista de ramas mais recentes (git branch --sort=-committerdate)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Em caso de ter muitas branches, talvez seja interessante saber quais são as mais recentes para ver quais foram as últimas criadas e onde deve estar o último desenvolvimento. Para isso, usamos <code>git branch --sort=-committerdate</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">sort</span><span class="o">=-</span><span class="n">committerdate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* new_branch2
&#x20;&#x20;new_branch
&#x20;&#x20;main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, as ordenou em ordem inversa à que foram criadas.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="O comando preterido git checkout">O comando preterido <code>git checkout</code><a class="anchor-link" href="#O comando preterido git checkout">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Até recentemente, o comando para criar ramificações e alternar entre elas era <code>git checkout</code>, mas este comando não fazia apenas isso, também restaurava o diretório de trabalho. No entanto, isso vai contra a filosofia do Linux, por isso foram criados os comandos <code>git branch</code>, <code>git switch</code> e <code>git restore</code> para dividir essa funcionalidade.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Fundindo branches (git merge)">Fundindo branches (<code>git merge</code>)<a class="anchor-link" href="#Fundindo branches (git merge)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como dissem, criar branches é muito útil para desenvolver novas funcionalidades sem afetar o resto da equipe. Mas quando elas estão concluídas, é necessário levá-las para a branch principal, para isso usamos o comando <code>git merge &#x3C;branch&#x3E;</code></p>
<blockquote>
<p>**Importante**: Temos que estar na branch que vai adotar as mudanças, ou seja, se quisermos mesclar as mudanças realizadas na branch <code>new_branch2</code> na branch <code>main</code>, primeiro temos que nos certificar de estar na branch <code>main</code></p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro verificamos em qual branch estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Eliminamos <code>arquivo7.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo7</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo7.py&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um commit com as mudanças</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado archivo7.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[new_branch2 5168f78] Eliminado archivo7.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se fazemos um <code>ls</code> vemos que <code>arquivo7.py</code> já não está</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo7</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos um novo arquivo e fazemos um commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Commit con el archivo 8&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[new_branch2 564ccfb] Commit con el archivo 8
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 archivo8.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fizemos dois commits novos nesta branch, vamos ver com <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch, main) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mudamos para a branch principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora fizermos de novo <code>ls</code> veremos que <code>arquivo7.py</code> sim está</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">archivo7</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>archivo7.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fusamos as branches, trazendo as mudanças de <code>new_branch2</code> para <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">new_branch2</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 4bb9d75..564ccfb
Fast-forward
 archivo7.py | 1 -
 archivo8.py | 0
 2 files changed, 1 deletion(-)
 delete mode 100644 archivo7.py
 create mode 100644 archivo8.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que ao fazer o merge não é necessário fazer nenhum commit, vejamos com um <code>git log</code> o que aconteceu.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; main, new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que o commit da branch <code>new_branch2</code> foi incorporado a esta branch</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Avanco rapido">Avanço rápido<a class="anchor-link" href="#Avanco rapido">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Neste caso criamos uma nova branch, a principal não é afetada e apenas modificamos a nova, realizando vários commits. Portanto, ao unir a nova na principal, todos os commits feitos na nova serão visíveis. Para realizar este tipo de merge, escrevemos <code>git merge --ff-only &#x3C;branch&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">fast_foward</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">fast_foward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">fast_foward</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c09a0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f9203fa0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primeiro a verificar que estamos na branch principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos uma nova branch</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mudamos para ela</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_fast_forward&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_fast_forward
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver o log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (HEAD -&amp;gt; branch_fast_forward, new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ok, estamos em um branch criado a partir do principal com todo o seu histórico de logs, fazemos dois novos commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">archivo4</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado archivo4.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;archivo4.py&#x27;
[branch_fast_forward 4484e70] Eliminado archivo4.py
 1 file changed, 1 deletion(-)
 delete mode 100644 archivo4.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">hola</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado hola.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;hola.py&#x27;
[branch_fast_forward 94149fc] Eliminado hola.py
 1 file changed, 3 deletions(-)
 delete mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um novo log para ver o que foi criado nesta nova branch.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (HEAD -&amp;gt; branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como我们可以看到，最后两个提交是我们创建的，我们可以检查这些提交不在主分支上（为此我指定要在 <code>main</code> 分支上进行操作）</p>
<p>Note: The provided translation is in Chinese instead of Portuguese. Here is the correct Portuguese translation:</p>
<p>Como podemos ver, os dois últimos commits são aqueles que criamos e podemos verificar que esses commits não estão na branch principal (para isso especifico que seja feito sobre a branch <code>main</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 564ccfb (new_branch2, main) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora vamos para a branch <code>main</code> fazer o merge.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por último, fazemos o merge do tipo fast forward</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">ff</span><span class="o">-</span><span class="n">only</span> <span class="n">branch_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 564ccfb..94149fc
Fast-forward
 archivo4.py | 1 -
 hola.py     | 3 ---
 2 files changed, 4 deletions(-)
 delete mode 100644 archivo4.py
 delete mode 100644 hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O merge foi feito, vamos ver o que aconteceu com o log na branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (HEAD -&amp;gt; main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como se vê, foram mantidos os dois commits realizados na branch <code>branch_fast_forward</code></p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Sem avanco rapido ou mesclagem verdadeira">Sem avanço rápido ou mesclagem verdadeira<a class="anchor-link" href="#Sem avanco rapido ou mesclagem verdadeira">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Neste caso, criamos uma nova branch, a principal não foi tocada e modificamos a nova, realizando vários commits. Em seguida, realizamos um commit na principal. Portanto, ao unir a nova na principal, será visto um único commit na nova. Para fazer este tipo de merge, escrevemos <code>git merge &#x3C;branch&#x3E; --no-ff</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">not_fast_forward</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodo (pelota) M en la rama principal</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DE&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">,</span> <span class="s1">&#39;YM&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas de la rama principal al nodo M</span>
<span class="n">not_fast_forward</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">not_fast_forward</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c2fb0&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80c2230&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primeiro a verificar que estamos na branch principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos uma nova branch</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_no_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mudamos para ela</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_no_fast_forward</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_no_fast_forward&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_no_fast_forward
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Claro, estamos em um branch criado a partir do principal com todo o seu histórico de logs, fazemos dois novos commits.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_no_fast_forward e4e23c9] file1
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_no_fast_forward 8df3429] file2
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um novo log para ver o que foi criado nesta nova branch.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 8df3429 (HEAD -&amp;gt; branch_no_fast_forward) file2
* e4e23c9 file1
* 94149fc (main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, os dois últimos commits são os que criamos e podemos verificar que esses commits não estão na branch principal (para isso especifico que seja feito sobre a branch <code>main</code>).</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 94149fc (main, branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora vamos para o branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos um novo commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 8bdf4d8] file3
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Por último, fazemos o merge do tipo não fast forward</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">branch_no_fast_forward</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>ommit. comenzando con &#x27;#&#x27; serán ignoradas, y un mensaje vacío abortasaria esta&amp;gt;# especialmente si esto fusiona un upstream actualizado en una rama de tópico. /home/wallabot/Documentos/web/portafolio/posts/notebook_git/.git/MERGE_MSG   [ línea 1/7 (14%), col 1/48 (2%), car 0/301 (0%) ]             [ Párrafo justificado ]...llabot/Documentos/web/portafolio/posts/notebook_git/.git/MERGE_MSG Modificado
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos abre o editor para introduzir uma mensagem de commit e uma mensagem por padrão. Aceitamos a mensagem e vemos o que aconteceu.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo8.py  file1  file2  file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como podemos ver, foi criado um novo commit com as mudanças da nova branch na branch principal.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Squash">Squash<a class="anchor-link" href="#Squash">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Neste tipo de fusão, todos os commits de uma nova ramificação são reunidos em um único commit na ramificação principal. Para isso, escrevemos <code>git merge &#x3C;rama&#x3E; --squash</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">### Este código es para crear el gráfico de las ramas, no es necesario para el curso</span>
<span class="w"> </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">graphviz</span>
<span class="w"> </span>
<span class="c1"># Crear el gráfico con la dirección de las flechas de izquierda a derecha</span>
<span class="n">orin</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="n">squash</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rankdir&#39;</span><span class="p">:</span> <span class="s1">&#39;LR&#39;</span><span class="p">})</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) A, B, C y D en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodos (pelotas) X e Y en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">orin</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar nodo (pelota) M en la rama principal</span>
<span class="n">squash</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama principal</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">])</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;transparent&#39;</span><span class="p">)</span>  <span class="c1"># Hacer la flecha de C a D transparente</span>
<span class="n">squash</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;BC&#39;</span><span class="p">,</span> <span class="s1">&#39;CD&#39;</span><span class="p">,</span> <span class="s1">&#39;DM&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Agregar flechas entre los nodos en la rama secundaria</span>
<span class="n">orin</span><span class="o">.</span><span class="n">edges</span><span class="p">([</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span> <span class="s1">&#39;XY&#39;</span><span class="p">])</span>
<span class="w"> </span>
<span class="c1"># Mostrar el diagrama de flujo en la celda de código de Jupyter Notebook</span>
<span class="n">display</span><span class="p">(</span><span class="n">orin</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">squash</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80e6470&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&amp;lt;graphviz.graphs.Digraph at 0x7f58f80e6f80&amp;gt;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos primeiro a verificar que estamos na branch principal</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos uma nova branch</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_squash</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mudamos para ela</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_squash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_squash&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>branch_squash
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver o log</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="nb">all</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; branch_squash, main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ok, estamos em um branch criado a partir do principal com todo o seu histórico de logs, fazemos três novos commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file1</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file1&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file1&#x27;
[branch_squash 767b632] Eliminado file1
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file2</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file2&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file2&#x27;
[branch_squash a47f771] Eliminado file2
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">rm</span> <span class="n">file3</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="s2">&quot;Eliminado file3&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rm &#x27;file3&#x27;
[branch_squash 85f8c9f] Eliminado file3
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um novo log para ver o que foi criado nesta nova branch.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 85f8c9f (HEAD -&amp;gt; branch_squash) Eliminado file3
* a47f771 Eliminado file2
* 767b632 Eliminado file1
*   274529c (main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, os três últimos commits são os que criamos e podemos verificar que esses commits não estão na branch principal (para isso especifico que seja feito sobre a branch <code>main</code>)</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="n">main</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora vamos para a branch <code>main</code> para fazer o merge.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos o merge do tipo squash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">branch_squash</span> <span class="o">--</span><span class="n">squash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Actualizando 274529c..85f8c9f
Fast-forward
Commit de aplastamiento -- no actualizando HEAD
 file1 | 0
 file2 | 0
 file3 | 0
 3 files changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
 delete mode 100644 file2
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O merge foi feito, vamos ver o que aconteceu com o log na branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   274529c (HEAD -&amp;gt; main) Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>As alterações feitas não estão aparecendo na branch, vamos fazer um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	borrados:        file1
	borrados:        file2
	borrados:        file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que temos que fazer o commit com a fusão. Isso é porque o git não sabe qual mensagem colocar e nos deixa fazer isso, então o fazemos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Merge squash de los commits de la rama branch_squash&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 52acb97] Merge squash de los commits de la rama branch_squash
 3 files changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 file1
 delete mode 100644 file2
 delete mode 100644 file3
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos novamente um <code>git log</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 52acb97 (HEAD -&amp;gt; main) Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Conflitos ao mesclar">Conflitos ao mesclar<a class="anchor-link" href="#Conflitos ao mesclar">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Quando branches são mescladas, pode acontecer que o mesmo arquivo tenha sido modificado em várias branches. Isso é comum em projetos onde várias pessoas estão desenvolvendo, então vamos ver como resolver isso.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Criamos um conflito">Criamos um conflito<a class="anchor-link" href="#Criamos um conflito">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Verificamos que estamos na branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Criamos uma nova branch a partir desta.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Adicionamos uma linha ao arquivo <code>arquivo1.py</code>, lembrando que estamos na branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;rama main&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama main&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p><code>arquivo1.py</code> foi modificado, fazemos um commit</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py en rama main&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 53f909b] archivo1.py en rama main
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora vamos para o branch <code>rama_con_conflicto</code> e adicionamos uma nova linha a <code>archivo1.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;rama_con_conflicto&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>rama_con_conflicto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;rama rama_con_conflicto&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama rama_con_conflicto&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, <code>arquivo1.py</code> não é igual na branch <code>main</code> e na branch <code>rama_con_conflicto</code>. Fazemos um commit com a modificação de <code>arquivo1.py</code> na branch <code>rama_con_conflicto</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py en rama rama_con_conflicto&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[rama_con_conflicto 32851c3] archivo1.py en rama rama_con_conflicto
 1 file changed, 1 insertion(+)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos para o branch <code>main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">show</span><span class="o">-</span><span class="n">current</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>main
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um merge da branch <code>rama_con_conflicto</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Auto-fusionando archivo1.py
CONFLICTO (contenido): Conflicto de fusión en archivo1.py
Fusión automática falló; arregle los conflictos y luego realice un commit con el resultado.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Ao fazer o merge, já somos avisados de que há um conflito em <code>archivo1.py</code> e que não foi possível realizar o merge. Fazemos um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tienes rutas no fusionadas.
&#x20;&#x20;(arregla los conflictos y ejecuta &quot;git commit&quot;
&#x20;&#x20;(usa &quot;git merge --abort&quot; para abortar la fusion)

Rutas no fusionadas:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para marcar una resolución)
	modificados por ambos:  archivo1.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Diz-nos o mesmo, mas nos dá mais informações, diz-nos que podemos abortar a fusão com <code>git merge --abort</code>. Mas em vez disso, vamos resolvê-lo.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Resolver um conflito">Resolver um conflito<a class="anchor-link" href="#Resolver um conflito">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>No nosso caso, sabemos onde está o problema, mas em caso de não saber, através do <code>git diff</code> podemos encontrar o problema.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">diff</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>diff --cc archivo1.py
index 8b4bf58,b5c003c..0000000
--- a/archivo1.py
+++ b/archivo1.py
@@@ -1,2 -1,2 +1,6 @@@
&#x20;&#x20;print(&#x27;Este es el archivo 1&#x27;)
++&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD
 +print(&#x27;rama main&#x27;)
++=======
+ print(&#x27;rama rama_con_conflicto&#x27;)
++&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; rama_con_conflicto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p><code>git diff</code> está nos dizendo que o problema está na última linha. A versão do arquivo da branch <code>HEAD</code> (na qual estamos atualmente <code>main</code>) tem <code>print(&#x27;rama main&#x27;)</code> na última linha, enquanto a versão da branch <code>rama_con_conflicto</code> tem <code>print(&#x27;rama rama_con_conflicto&#x27;)</code> na última linha. Então, é preciso abrir o arquivo com qualquer editor e resolver isso.</p>
</section>
<section class="section-block-markdown-cell">
<p>Após editar o arquivo com meu editor de código, removi todas as linhas desnecessárias e ficou assim</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">cat</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>print(&#x27;Este es el archivo 1&#x27;)
print(&#x27;rama main&#x27;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora fazemos um <code>git status</code> para ver o que temos a fazer</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tienes rutas no fusionadas.
&#x20;&#x20;(arregla los conflictos y ejecuta &quot;git commit&quot;
&#x20;&#x20;(usa &quot;git merge --abort&quot; para abortar la fusion)

Rutas no fusionadas:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para marcar una resolución)
	modificados por ambos:  archivo1.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Diz que temos o arquivo <code>arquivo1.py</code> com modificações, portanto o adicionamos à área de <code>staged</code> e depois fazemos um commit.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo1</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo1.py con el merge resuelto&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[main 679bb49] archivo1.py con el merge resuelto
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a fazer um <code>git status</code> para ver se foi resolvido.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Parece que foi resolvido, fazemos um <code>git log</code> para verificar.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">decorate</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>*   679bb49 (HEAD -&amp;gt; main) archivo1.py con el merge resuelto
|\\  
| * 32851c3 (rama_con_conflicto) archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Remover ramos">Remover ramos<a class="anchor-link" href="#Remover ramos">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>A ideia de uma branch é abri-la para desenvolver uma nova funcionalidade ou característica de maneira que não afete o resto da equipe de desenvolvimento. Portanto, quando isso for alcançado, ela é mesclada com a branch principal. Assim, após a fusão, já não faz sentido manter a branch, então ela deve ser excluída, mas isso será feito de uma maneira diferente se a branch foi ou não mesclada com a principal.</p>
</section>
<section class="section-block-markdown-cell">
<h4 id="Excluir branches mescladas (git branch -d &#x3C;branch&#x3E;)">Excluir branches mescladas (<code>git branch -d &#x3C;branch&#x3E;</code>)<a class="anchor-link" href="#Excluir branches mescladas (git branch -d &#x3C;branch&#x3E;)">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Para eliminar uma ramificação que já foi mesclada com a principal, basta fazer <code>git branch -d &#x3C;rama&#x3E;</code> ou <code>git branch --delete &#x3C;rama&#x3E;</code>. Vamos eliminar a última ramificação que criamos e mesclamos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">rama_con_conflicto</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Eliminada la rama rama_con_conflicto (era 32851c3).
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora listarmos todas as branches, podemos ver que já não teremos <code>rama_con_conflicto</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>&#x20;&#x20;branch_fast_forward
&#x20;&#x20;branch_no_fast_forward
&#x20;&#x20;branch_squash
* main
&#x20;&#x20;new_branch
&#x20;&#x20;new_branch2
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h4 id="Excluir branches que não foram mesclados com a branch principal (git branch -D &#x3C;branch&#x3E;)">Excluir branches que não foram mesclados com a branch principal (<code>git branch -D &#x3C;branch&#x3E;</code>)<a class="anchor-link" href="#Excluir branches que não foram mesclados com a branch principal (git branch -D &#x3C;branch&#x3E;)">¶</a></h4>
</section>
<section class="section-block-markdown-cell">
<p>Se tentarmos fazer o mesmo que antes com uma branch que nunca foi mesclada com outra, obteremos um erro</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a criar uma nova branch, vamos fazer um commit e não vamos mesclá-la.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;branch_sin_fusion&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">file4</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">file4</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;file4&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>[branch_sin_fusion 9506b0a] file4
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file4
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Com tudo o que aprendemos até agora, podemos ver que o que fizemos foi criar uma nova branch, mudar para ela, criar um novo arquivo, fazer um commit e voltar para a branch <code>main</code>. Agora vamos tentar deletar essa nova branch.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>error: La rama &#x27;branch_sin_fusion&#x27; no ha sido fusionada completamente.
Si estás seguro de querer borrarla, ejecuta &#x27;git branch -D branch_sin_fusion&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, nos diz que <code>branch_sem_fusao</code> não foi mesclada e, portanto, não foi excluída. Se temos certeza de querer excluí-la, precisamos fazer <code>git branch -D branch_sem_fusao</code>, então o fazemos para excluí-la.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">branch_sin_fusion</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Eliminada la rama branch_sin_fusion (era 9506b0a).
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora sim, foi removido.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Trabalhando com repositorios remotos">Trabalhando com repositórios remotos<a class="anchor-link" href="#Trabalhando com repositorios remotos">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Quando desenvolvemos software, geralmente não o fazemos sozinhos, mas trabalhamos em equipe. Por isso, não faz sentido ter um repositório local do Git; é melhor ter um repositório remoto com o qual todos possam trabalhar e compartilhar os avanços.</p>
<blockquote>
<p>Nota: O objetivo deste post é explicar git. Para a conexão com repositórios remotos vou explicá-lo usando o GitHub, pois é o serviço de hospedagem de repositórios git mais utilizado, mas não vou aprofundar no GitHub.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<h3 id="Clonar um repositório remoto (git clone &#x3C;repositório&#x3E;)">Clonar um repositório remoto (<code>git clone &#x3C;repositório&#x3E;</code>)<a class="anchor-link" href="#Clonar um repositório remoto (git clone &#x3C;repositório&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se começarmos a trabalhar em um repositório que já foi criado, o primeiro passo é cloná-lo. Para isso, usamos <code>git clone &#x3C;repositorio&#x3E;</code>, onde <code>&#x3C;repositorio&#x3E;</code> pode ser uma URL ou um endereço SSH. Como atualmente os grandes modelos de linguagem e o ChatGPT estão muito em voga, vamos clonar um repositório opensource criado pela comunidade, <a href="https://github.com/LAION-AI/Open-Assistant">Open-Assistant</a>, para isso faremos <code>git clone https://github.com/LAION-AI/Open-Assistant</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">LAION</span><span class="o">-</span><span class="n">AI</span><span class="o">/</span><span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Clonando en &#x27;Open-Assistant&#x27;...
remote: Enumerating objects: 29769, done.
remote: Counting objects: 100% (673/673), done.
remote: Compressing objects: 100% (310/310), done.
remote: Total 29769 (delta 398), reused 577 (delta 354), pack-reused 29096
Recibiendo objetos: 100% (29769/29769), 33.61 MiB | 29.29 MiB/s, listo.
Resolviendo deltas: 100% (19967/19967), listo.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Isso cria a pasta <code>Open-Assistant</code> com todo o código do repositório, podemos entrar dentro e ver todo o código.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>ansible		 deploy		      model	      safety
assets		 discord-bots	      notebooks       scripts
backend		 docker		      oasst-data      setup.cfg
CODEOWNERS	 docker-compose.yaml  oasst-shared    text-frontend
CONTRIBUTING.md  docs		      pyproject.toml  website
copilot		 inference	      README.md
data		 LICENSE	      redis.conf
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Excluo a pasta</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="n">Open</span><span class="o">-</span><span class="n">Assistant</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Vincular um repositorio local a um remoto">Vincular um repositório local a um remoto<a class="anchor-link" href="#Vincular um repositorio local a um remoto">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se ocorrer o contrário, se primeiro começarmos a desenvolver localmente e depois quisermos sincronizá-lo com um repositório remoto, temos que fazer o seguinte</p>
<ul>
  <li>Primeiro crie um repositório remoto vazio, no meu caso criei o repositório <code>notebook_git</code> no GitHub que deletarei mais tarde</li>
  <li>Obter a URL do repositório ou endereço SSH</li>
  <li>Sincronizá-los através de <code>git remote add origin &lt;URL&gt;</code></li>
</ul>
<p>O repositório vazio que criei no GitHub parece assim</p>
<p>!<a href="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo.webp">notebook git repo</a></p>
<p>No meu caso, vou usar o endereço SSH que é <code>git@github.com:maximofn/notebook_git.git</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">maximofn</span><span class="o">/</span><span class="n">notebook_git</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Já estão vinculados, mas para garantir podemos fazer <code>git remote -v</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>origin	git@github.com:maximofn/notebook_git.git (fetch)
origin	git@github.com:maximofn/notebook_git.git (push)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Enviar as alterações de um repositório local para um repositório remoto (git push)">Enviar as alterações de um repositório local para um repositório remoto (<code>git push</code>)<a class="anchor-link" href="#Enviar as alterações de um repositório local para um repositório remoto (git push)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como dissem, eles estão vinculados, mas se eu for ao meu repositório no GitHub, ainda parece assim</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo.webp" alt="notebook git repo">
<p>Estão vinculados o repositório local e o remoto, mas agora é necessário enviar todas as alterações do repositório local para o remoto. Para isso, seria necessário usar <code>git push origin &#x3C;rama local&#x3E;:&#x3C;rama remota&#x3E;</code>, ou seja, como nossa ramo principal se chama <code>main</code> e a ramo principal no GitHub se chama <code>main</code>, seria necessário fazer <code>git push origin main:main</code>.</p>
<p>Se você se lembra, o Git por padrão chamava a branch principal de <code>master</code>, mas o GitHub chama por padrão a branch principal de <code>main</code>. Portanto, se cada pessoa nomear suas branches no repositório local de maneira diferente, é necessário especificar qual branch local escreve em qual branch remota.</p>
</section>
<section class="section-block-markdown-cell">
<p>Pode configurar a conexão padrão entre branches no git, para isso é necessário fazer <code>git push --set-upstream origin main</code>. Isso estabelece uma relação entre a branch local <code>main</code> e a branch remota <code>main</code>. Uma vez feita essa relação, basta fazer <code>git push</code> para enviar as alterações feitas localmente para o servidor remoto.</p>
<p>Então estabelecemos a conexão entre as branches.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span> <span class="n">origin</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Enumerando objetos: 51, listo.
Contando objetos: 100% (51/51), listo.
Compresión delta usando hasta 12 hilos
Comprimiendo objetos: 100% (38/38), listo.
Escribiendo objetos: 100% (51/51), 4.21 KiB | 2.11 MiB/s, listo.
Total 51 (delta 18), reusado 0 (delta 0)
remote: Resolving deltas: 100% (18/18), done.
To github.com:maximofn/notebook_git.git
 * [new branch]      main -&amp;gt; main
Rama &#x27;main&#x27; configurada para hacer seguimiento a la rama remota &#x27;main&#x27; de &#x27;origin&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora podemos fazer apenas <code>git push</code> para enviar as alterações locais ao repositório remoto.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Everything up-to-date
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora voltarmos ao nosso repositório do GitHub, ele parece assim</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_push.webp" alt="notebook git repo push">
</section>
<section class="section-block-markdown-cell">
<p>Se fizermos um <code>ls</code> no nosso repositório local, poderemos ver que os arquivos que temos no repositório remoto também estão presentes no repositório local, ou seja, sincronizamos o repositório local e remoto.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>.  ..  api_keys.py  archivo1.py  archivo2.py  archivo8.py  .git  .gitignore
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Os únicos que não estão no repositório remoto são <code>api_keys.py</code>, que é o que adicionamos ao arquivo <code>.gitignore</code>, ou seja, o que dissemos ao git para não seguir. E <code>.git</code> que é onde está a configuração do nosso repositório local e que não deve ser enviado ao repositório remoto, porque cada pessoa terá sua própria configuração de git e, portanto, não deve ser sincronizada.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Baixar as alterações de um repositório remoto para um repositório local (git pull)">Baixar as alterações de um repositório remoto para um repositório local (<code>git pull</code>)<a class="anchor-link" href="#Baixar as alterações de um repositório remoto para um repositório local (git pull)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Agora vamos a fazer ao contrário, vamos baixar as novas alterações que tenham sido feitas no repositório remoto. Se observarmos como está o repositório remoto, poderemos ver que há um botão que diz <code>Add a README</code>, então clicamos para adicioná-lo.</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_push.webp" alt="notebook git repo push">
</section>
<section class="section-block-markdown-cell">
<p>Ao clicar, será aberto um editor, deixamos o que o GitHub colocou e salvamos as alterações clicando no botão de <code>Commit changes...</code></p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_readme.webp" alt="noteboot git repo readme">
<p>Nos sairá uma janela na qual nos será pedido uma mensagem de commit, deixamos a que vem por padrão e clicamos em <code>Commit changes</code></p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_commit_message.webp" alt="notebook git repo commit message">
<p>Ao fazer isso, o repositório ficará assim</p>
<p>!<a href="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/notebook_git_repo_pull.webp">notebook git repo pull</a></p>
<p>Foi criado um novo arquivo chamado <code>README.md</code>, mas se fizermos <code>ls</code> no repositório local, não o encontraremos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">README</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Então, temos que trazer as alterações do repositório remoto para o local. Para isso, precisamos fazer <code>git pull origin &#x3C;rama remota&#x3E;</code> para informar ao Git sobre qual ramo remoto vamos trazer os dados. Da mesma forma que antes, podemos estabelecer uma relação entre o ramo remoto e o ramo local da seguinte maneira: <code>git branch --set-upstream-to=origin/&#x3C;rama local&#x3E; &#x3C;rama remota&#x3E;</code>. Como nossa rama local se chama <code>main</code> e a rama remota do GitHub também se chama <code>main</code>, teríamos que alterar o anterior para <code>git branch --set-upstream-to=origin/main main</code>.</p>
<p>Uma vez feito isso, para baixar as novas alterações do repositório remoto para o local, basta fazer <code>git pull</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a estabelecer a relação entre as branches com <code>git branch --set-upstream-to=origin/main main</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">upstream</span><span class="o">-</span><span class="n">to</span><span class="o">=</span><span class="n">origin</span><span class="o">/</span><span class="n">main</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Rama &#x27;main&#x27; configurada para hacer seguimiento a la rama remota &#x27;main&#x27; de &#x27;origin&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora podemos trazer as alterações do repositório remoto para o repositório local com <code>git pull</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">pull</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>remote: Enumerating objects: 4, done.
remote: Counting objects: 100% (4/4), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
Desempaquetando objetos: 100% (3/3), 646 bytes | 646.00 KiB/s, listo.
Desde github.com:maximofn/notebook_git
&#x20;&#x20;&#x20;679bb49..527e07a  main       -&amp;gt; origin/main
Actualizando 679bb49..527e07a
Fast-forward
 README.md | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, diz que foi adicionado <code>README.md</code>, verificamos isso fazendo <code>ls</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">README</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Temos o arquivo localmente</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Sincronizar as branches remotas e locais">Sincronizar as branches remotas e locais<a class="anchor-link" href="#Sincronizar as branches remotas e locais">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como vimos, tivemos que sincronizar as branches remotas e locais para poder fazer o upload e download dos dados. No entanto, se primeiro criarmos o repositório no GitHub e depois o clonarmos, não será mais necessário essa sincronização.</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Alias">Alias<a class="anchor-link" href="#Alias">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Cada vez que quisemos fazer um log temos usado este comando <code>git log --graph --oneline --decorate</code>, no entanto lembrar-se deste comando é bastante complicado, na verdade eu não me lembro dele, toda vez que quero usá-lo tenho que procurá-lo porque não o lembro, por isso seria muito bom ter uma maneira de abreviá-lo.</p>
</section>
<section class="section-block-markdown-cell">
<p>Para isso, o git oferece os <code>alias</code>, de forma que você pode criar aliases dos comandos que desejar. Para fazer isso, você precisa executar <code>git config --global alias.&#x3C;nome do alias&#x3E; &quot;comando&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Portanto, vamos chamar <code>git tree</code> ao comando <code>git log --graph --oneline --decorate</code>, pois nos permite ver o histórico, com a bifurcação e fusão de branches como se fosse o crescimento de uma árvore, então fazemos <code>git config --global alias.tree &quot;log --graph --oneline --decorate&quot;</code></p>
<blockquote>
<p>**Importante**: Não se deve colocar a palavra <code>git</code> dentro do comando</p>
</blockquote>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">tree</span> <span class="s2">&quot;log --graph --oneline --decorate&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora formos ao nosso repositório e fizermos <code>git tree</code>, veremos o histórico como fazíamos antes.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, origin/main) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos, foi criado nosso alias</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Alias de comandos existentes de git">Alias de comandos existentes de git<a class="anchor-link" href="#Alias de comandos existentes de git">¶</a></h3>
<p>(No se ha proporcionado texto adicional para traducir, por lo que esta es la traducción del título solo.)</p>
</section>
<section class="section-block-markdown-cell">
<p>É possível criar aliases para comandos que já existem no git, na verdade, é uma prática muito usada, especialmente para abreviar, então vamos fazer um. Vamos criar um alias para o comando <code>git status</code> e renomeá-lo como <code>git st</code> da seguinte maneira: <code>git config --global alias.st &quot;status&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">st</span> <span class="s2">&quot;status&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos testá-lo agora.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">st</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama main
Tu rama está actualizada con &#x27;origin/main&#x27;.

nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Já temos o comando <code>git status</code> simplificado para <code>git st</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Alias de comandos que nao sao do git">Alias de comandos que não são do git<a class="anchor-link" href="#Alias de comandos que nao sao do git">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Podemos criar aliases de comandos que não sejam do git, por exemplo, porque achamos que o git precisa desse novo comando, faz-se da mesma forma com a exceção de que o comando deve ser precedido de <code>!</code>, ou seja, seria <code>git config --global alias.&#x3C;nome do alias&#x3E; &quot;!comando&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Quando vimos os conflitos, vimos que o git nos dizia onde estavam, mas para resolvê-los temos que editar o código nós mesmos, por isso podemos criar um alias do git de maneira que possamos abrir um arquivo com o editor de textos que quisermos, no meu caso vou criar um alias que me abrirá os arquivos com <code>vscode</code> para isso tenho que fazer <code>git config --global alias.code &quot;!code&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">code</span> <span class="s2">&quot;!code&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>O testamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">code</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Depois de fazer isso, o <code>README.md</code> foi aberto no <code>vscode</code>.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Lista com todos os aliases">Lista com todos os aliases<a class="anchor-link" href="#Lista com todos os aliases">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Caso não nos lembremos dos aliases que criamos, podemos ver a configuração global do git, mas como isso pode ser um pouco avassalador porque nos dá muita informação, podemos filtrar para que nos mostre apenas os aliases que criamos, para isso usamos <code>git config --get-regexp ^alias\.</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">get</span><span class="o">-</span><span class="n">regexp</span> <span class="o">^</span><span class="n">alias</span>\<span class="o">.</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>alias.tree log --graph --oneline --decorate
alias.st status
alias.code !code
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Obtemos os aliases que nós criamos</p>
</section>
<section class="section-block-markdown-cell">
<p>Mas ainda, podemos criar um alias para obter os aliases, para isso fazemos <code>git config --global alias.alias &quot;config --get-regexp ^alias\.&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="o">.</span><span class="n">alias</span> <span class="s2">&quot;config --get-regexp ^alias\.&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora fizermos <code>git alias</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">git</span> <span class="n">alias</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>alias.tree log --graph --oneline --decorate
alias.st status
alias.code !code
alias.alias config --get-regexp ^alias\.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Obtemos a lista com todos os nossos alias</p>
</section>
<section class="section-block-markdown-cell">
<h2 id="Armazenamento temporário (git stash)">Armazenamento temporário (<code>git stash</code>)<a class="anchor-link" href="#Armazenamento temporário (git stash)">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Suponhamos que estamos trabalhando em um branch, temos vários arquivos modificados, não fizemos commit, e por algum motivo temos que passar para outro branch. Por exemplo, estamos em um branch desenvolvendo uma nova funcionalidade, e temos que deixá-la pela metade porque há um bug crítico no branch main</p>
<p>Uma solução seria fazer um commit para salvar as alterações e voltar mais tarde. Mas talvez tenhamos deixado o código pela metade e não queremos fazer um commit. Então, para isso, foi inventado o stash, que é como um armazém, onde você deixa seu código armazenado para poder recuperá-lo posteriormente.</p>
<p>É uma pilha, isso significa que o último a entrar é o primeiro a sair.</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos ver como fazer isso, em primeiro lugar criamos uma nova branch que vamos chamar de <code>new_feature</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">branch</span> <span class="n">new_feature</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Mudamos para ela</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">new_feature</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;new_feature&#x27;
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a modificar <code>arquivo2.py</code> e <code>arquivo8.py</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;new_feature&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo2</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">echo</span> <span class="s2">&quot;print(&#39;new_feature&#39;)&quot;</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git status</code> para verificar que tenham sido modificados.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     archivo2.py
	modificados:     archivo8.py

sin cambios agregados al commit (usa &quot;git add&quot; y/o &quot;git commit -a&quot;)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vamos a adicionar <code>arquivo8.py</code> à área de <code>staged</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">add</span> <span class="n">archivo8</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos novamente um <code>git status</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	modificados:     archivo8.py

Cambios no rastreados para el commit:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para actualizar lo que será confirmado)
&#x20;&#x20;(usa &quot;git restore &amp;lt;archivo&amp;gt;...&quot; para descartar los cambios en el directorio de trabajo)
	modificados:     archivo2.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos temos dois arquivos modificados, dos quais um deles também está na área de <code>staged</code>. Se agora tivéssemos que mudar de branch, para não perder as alterações poderíamos fazer um commit, ou guardá-las no repositório <code>stash</code>, então vamos fazer isso último através de <code>git stash</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Directorio de trabajo y estado de índice WIP on new_feature: 527e07a Create README.md guardados
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora voltarmos a fazer <code>git status</code>, vejamos o que acontece</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Os arquivos com modificações não aparecem mais, é como se tivéssemos feito um commit</p>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>**Importante**: Os arquivos criados novos, que nunca foram rastreados pelo Git, não serão enviados para o repositório, portanto, com os arquivos novos é necessário, pelo menos, fazer primeiro um <code>git add</code></p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Se eu criar um novo arquivo e tentar enviá-lo para o repositório, receberei um erro.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">touch</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>No hay cambios locales para guardar
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos <code>arquivo9.py</code> não foi salvo no repositório, portanto seria necessário adicioná-lo com <code>git add</code>.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">rm</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Tudo para o stash (git stash -u -a)">Tudo para o stash (<code>git stash -u -a</code>)<a class="anchor-link" href="#Tudo para o stash (git stash -u -a)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como vimos, apenas são enviados ao repositório os arquivos que o git está rastreando. Se tivermos novos arquivos criados ou arquivos ignorados, eles não serão enviados. Para resolver isso, podemos usar as opções <code>-u</code> ou <code>--include-untracked</code> para enviar os novos arquivos que ainda não estão sendo rastreados pelo git, e a opção <code>-a</code> ou <code>--all</code> para incluir tudo, inclusive os arquivos ignorados.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Lista de depósitos (git stash list)">Lista de depósitos (<code>git stash list</code>)<a class="anchor-link" href="#Lista de depósitos (git stash list)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como comentamos, o armazenamento atua como uma pilha, portanto, se fizermos uso desse armazenamento muitas vezes, na verdade teremos uma lista de armazenamentos, e para ver os que temos armazenados podemos usar <code>git stash list</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Como vemos só temos uma, que nos indica a branch (<code>on new_feature</code>), o último commit (<code>Create README.md</code>) e um identificador (<code>527e07a</code>)</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Armazenamento com descrição (git stash push -m &#x3C;descrição&#x3E;)">Armazenamento com descrição (<code>git stash push -m &#x3C;descrição&#x3E;</code>)<a class="anchor-link" href="#Armazenamento com descrição (git stash push -m &#x3C;descrição&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como vimos, a lista retorna o branch e o último commit, mas esta informação só serve para saber de onde começamos a modificar antes de salvar no histórico. Além disso, ela retorna um identificador que não nos diz muito, então podemos adicionar uma primeira descrição ao stash com <code>git stash push -m &#x3C;descrição&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro fazemos um <code>git status</code> para ver o que temos sem commitear</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Archivos sin seguimiento:
&#x20;&#x20;(usa &quot;git add &amp;lt;archivo&amp;gt;...&quot; para incluirlo a lo que se será confirmado)
	archivo9.py

no hay nada agregado al commit pero hay archivos sin seguimiento presentes (usa &quot;git add&quot; para hacerles seguimiento)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Temos <code>arquivo9.py</code>, mas lembremos que ele nunca foi rastreado pelo git, portanto para incluí-lo em um stash temos que usar a flag <code>-u</code> ou a flag <code>-a</code>, de modo que criamos um novo stash com uma descrição com o comando <code>git stash push -u -m &#x3C;descrição&#x3E;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;archivo9.py&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Directorio de trabajo y estado de índice On new_feature: archivo9.py guardados
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Sacamos a lista do stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: On new_feature: archivo9.py
stash@&#x7B;1&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Já aparece o novo de maneira muito mais clara</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Recuperar o último stash (git stash pop)">Recuperar o último stash (<code>git stash pop</code>)<a class="anchor-link" href="#Recuperar o último stash (git stash pop)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Como dissem, o stash é uma pilha com armazenamentos, portanto, na hora de recuperá-los faremos da mesma forma que uma pilha, sempre recuperando o último.</p>
<img src="https://pub-fb664c455eca46a2ba762a065ac900f7.r2.dev/git-stash-push-pop.webp" alt="git stash push pop">
<p>Para recuperar o último stash temos que fazer <code>git stash pop</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro fazemos um <code>git status</code> para ver que não tenhamos nenhum mudança pendente</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
nada para hacer commit, el árbol de trabajo está limpio
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora recuperamos o último stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">pop</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py

Descartado refs/stash@&#x7B;0&#x7D; (0246b0e922f654e7fc68cfeaf26e24fc511feb37)
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se voltarmos a fazer <code>git status</code>, veremos que temos novamente <code>arquivo9.py</code> pendente de fazer um commit.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>E se verificarmos a lista de stash, veremos que agora só temos um.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Remover um stash (git stash drop &#x3C;posição&#x3E;)">Remover um stash (<code>git stash drop &#x3C;posição&#x3E;</code>)<a class="anchor-link" href="#Remover um stash (git stash drop &#x3C;posição&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos remover um stash, temos que fazer <code>git stash drop &#x3C;posição&#x3E;</code>, onde <code>&#x3C;posição&#x3E;</code> é a posição que o stash ocupa na lista.</p>
</section>
<section class="section-block-markdown-cell">
<p>Obtemos a lista dos stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>stash@&#x7B;0&#x7D;: WIP on new_feature: 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No nosso caso, temos apenas um e na posição 0 (<code>stash@{0}</code>), então para removê-lo teríamos que fazer <code>git stash drop 0</code>, mas não vou fazer isso porque vou removê-lo agora com outro comando.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Remover todos os stashes (git stash clear)">Remover todos os stashes (<code>git stash clear</code>)<a class="anchor-link" href="#Remover todos os stashes (git stash clear)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Se quisermos esvaziar a lista inteira do stash, temos que fazer <code>git stash clear</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="n">clear</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora solicitarmos a lista de stash</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">stash</span> <span class="nb">list</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Não obtemos nada porque removemos tudo.</p>
</section>
<section class="section-block-markdown-cell">
<p>Vamos deixar tudo como estava, fazemos um <code>git status</code> para lembrar das mudanças que tínhamos pendentes</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>En la rama new_feature
Cambios a ser confirmados:
&#x20;&#x20;(usa &quot;git restore --staged &amp;lt;archivo&amp;gt;...&quot; para sacar del área de stage)
	nuevos archivos: archivo9.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Vemos que estamos no ramo <code>new_feature</code> e que temos <code>archivo9.py</code> pendente de fazer um commit. Como o criamos para o exemplo, o excluímos e voltamos ao ramo principal.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">rm</span> <span class="n">archivo9</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">switch</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>Cambiado a rama &#x27;main&#x27;
Tu rama está actualizada con &#x27;origin/main&#x27;.
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h2 id="Tags">Tags<a class="anchor-link" href="#Tags">¶</a></h2>
</section>
<section class="section-block-markdown-cell">
<p>Quando estamos desenvolvendo código, chegam momentos em que geramos versões, por exemplo a <code>v1.1</code>, <code>v1.2</code>, etc. Para ter isso mais controlado, o git nos fornece os tags.</p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Criar uma nova tag (git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot;)">Criar uma nova tag (<code>git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot;</code>)<a class="anchor-link" href="#Criar uma nova tag (git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Para criar uma tag temos que fazer <code>git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Por exemplo, vamos criar um tag na versão atual do repositório, para isso farei <code>git tag -a v_tag -m &quot;Tag com o repositório na parte final, onde explicamos os tags&quot;</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v_tag</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tag con el repositorio en la parte final, en la que explicamos los tags&quot;</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Lista de tags (git tag)">Lista de tags (<code>git tag</code>)<a class="anchor-link" href="#Lista de tags (git tag)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Para ver os tags que criamos podemos fazer <code>git tag</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>v_tag
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<h3 id="Criar uma tag a partir de um commit antigo (git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot; &#x3C;hash&#x3E;)">Criar uma tag a partir de um commit antigo (<code>git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot; &#x3C;hash&#x3E;</code>)<a class="anchor-link" href="#Criar uma tag a partir de um commit antigo (git tag -a &#x3C;nome_da_tag&#x3E; -m &quot;&#x3C;mensagem&#x3E;&quot; &#x3C;hash&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Vamos fazer um <code>git tree</code> para ver o histórico</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Embora não esteja na descrição, quando fizemos o commit <code>4bb9d75</code> foi quando terminamos a parte de controle de versões localmente, por isso também seria bom ter um tag desse momento. Para isso, precisamos criar uma tag adicionando o hash daquele momento.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v_local</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Tag con el repositorio en la parte de control de versiones de manera local&quot;</span> <span class="mi">4</span><span class="n">bb9d75</span>
</pre></div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora fizermos um listagem dos tags, aparece o novo</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>v_local
v_tag
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>E se vemos o histórico de commits</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>No ponto do histórico onde criamos a tag, agora aparece a tag que criamos <code>* 4bb9d75 (tag: v_local, new_branch) Commit com o arquivo 7</code></p>
</section>
<section class="section-block-markdown-cell">
<h3 id="Mudar entre tags (git reset --hard &#x3C;tag&#x3E; ou git reset --soft &#x3C;tag&#x3E;)">Mudar entre tags (<code>git reset --hard &#x3C;tag&#x3E;</code> ou <code>git reset --soft &#x3C;tag&#x3E;</code>)<a class="anchor-link" href="#Mudar entre tags (git reset --hard &#x3C;tag&#x3E; ou git reset --soft &#x3C;tag&#x3E;)">¶</a></h3>
</section>
<section class="section-block-markdown-cell">
<p>Assim como podemos nos mover entre diferentes commits do histórico, também podemos nos mover entre tags. Isso tem a vantagem de podermos nos mover para outro momento do histórico sem precisar saber o hash, basta conhecer o nome da tag que colocamos naquele momento para nos movermos simplesmente fazendo <code>git reset --hard &#x3C;tag&#x3E;</code> ou <code>git reset --soft &#x3C;tag&#x3E;</code></p>
</section>
<section class="section-block-markdown-cell">
<p>Primeiro vamos fazer um <code>ls</code> para ver os arquivos que temos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo8.py  README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Fazemos um <code>git tree</code> também para ver em que momento do histórico estamos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Agora mudamos para o ponto em que criamos a tag <code>v_local</code> através de <code>git reset --hard v_local</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">v_local</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 4bb9d75 Commit con el archivo 7
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se agora fizermos um <code>ls</code> vemos que não temos os mesmos arquivos</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">ls</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>api_keys.py  archivo1.py  archivo2.py  archivo4.py  archivo7.py  hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Se additionally vemos o histórico, vemos que mudamos de momento do histórico.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 4bb9d75 (HEAD -&amp;gt; main, tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Para voltar ao último momento do histórico, como também criamos um tag, basta fazer <code>git reset --hard v_tag</code></p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">v_tag</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>HEAD está ahora en 527e07a Create README.md
</pre>
</div>
</div>
</div>
</section>
<section class="section-block-markdown-cell">
<p>Voltamos a ver o histórico para verificar que retornamos ao último momento do histórico</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">cd</span> <span class="n">notebook_git</span> <span class="o">&amp;</span></span><span class="o">&amp;</span> <span class="n">git</span> <span class="n">tree</span>
</pre></div>
</div>
</section>
<section class="section-block-code-cell-">
<div class="output-wrapper">
<div class="output-area">
<div class="prompt"></div>
<div class="output-subarea-output-stream-output-stdout-output-text">
<pre>* 527e07a (HEAD -&amp;gt; main, tag: v_tag, origin/main, new_feature) Create README.md
*   679bb49 archivo1.py con el merge resuelto
|\\  
| * 32851c3 archivo1.py en rama rama_con_conflicto
* | 53f909b archivo1.py en rama main
|/  
* 52acb97 Merge squash de los commits de la rama branch_squash
*   274529c Merge branch &#x27;branch_no_fast_forward&#x27; into main
|\\  
| * 8df3429 (branch_no_fast_forward) file2
| * e4e23c9 file1
* | 8bdf4d8 file3
|/  
* 94149fc (branch_fast_forward) Eliminado hola.py
* 4484e70 Eliminado archivo4.py
* 564ccfb (new_branch2) Commit con el archivo 8
* 5168f78 Eliminado archivo7.py
* 4bb9d75 (tag: v_local, new_branch) Commit con el archivo 7
* ea615a9 Eliminado archivo5.py
* e3153a5 Commit con los archivos 4 y 5
* 0b09cfa Añadido .gitignore
* 04ebd1f Commit con los archivos 1 y 2
* c4930d7 Tercer commit, hola.py
* 6e99e73 Segundo commit, hola.py
* 1c95e4f Primer commit, hola.py
</pre>
</div>
</div>
</div>
</section>