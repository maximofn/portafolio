<p>
	<!-- Custom stylesheet, it must be in the same directory as the html file -->
	<!-- Loading mathjax macro --><!-- Load mathjax --><!-- MathJax configuration -->
<p>
<style>
	/* Media query para pantallas grandes */
	@media screen and (min-width: 1000px) {
		.container {
			flex-wrap: nowrap;
			display: flex;
			justify-content: space-between;
			height: 100vh; /* altura del viewport */
		}
		
		.indice {
			width: 25%; /* Ancho del índice en pantallas grandes */
			border-right: 1px solid #ccc;
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
		
		.contenido {
			width: 70%; /* Ancho del contenido en pantallas grandes */
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
	}
</style>
<!-- Open div notebook -->
<div id="notebook" class="border-box-sizing" tabindex="-1">
	<!-- Open div notebook container -->
	<div id="notebook-container" class="container">
		<!-- Open div indice -->
		<div class="indice">
			<!-- Open div index header -->
			<div class="cell border-box-sizing text_cell rendered">
				<h2 class="prompt input_prompt">
					<span style="
					color: var(--darkreader-text--heading-color, var(--darkreader-text--heading-2-color,
					var(--darkreader-text--headings-color)));
					font-family: var(--fontFamily); font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-color: var(--darkreader-text--darkreader-text--heading-color,
					var(--darkreader-text--darkreader-text--heading-2-color, var(--darkreader-text--darkreader-text--headings-color)));
					--darkreader-inline-bgcolor: transparent;"
					data-darkreader-inline-color="" data-darkreader-inline-bgcolor="">
						Índice
					</span>
					<a class="anchor-link" style="
					font-family: var(--fontFamily);
					font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-bgcolor: transparent;"
					href="#Índice" data-darkreader-inline-bgcolor="">
					</a>
				</h2>
			<!-- Close div index header -->
			</div>
			<!-- Index body -->
			<div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Install-the-OpenAI-library-index">
									<a class="anchor-link" href="#Install-the-OpenAI-library">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Install the OpenAI library</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Import-the-OpenAI-library-index">
									<a class="anchor-link" href="#Import-the-OpenAI-library">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Import the OpenAI library</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Obtain-an-API-Key-index">
									<a class="anchor-link" href="#Obtain-an-API-Key">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Obtain an API Key</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="We-create-our-first-chatbot-index">
									<a class="anchor-link" href="#We-create-our-first-chatbot">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">We create our first chatbot</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Parameters-index">
									<a class="anchor-link" href="#Parameters">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Parameters</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Messages-index">
									<a class="anchor-link" href="#Messages">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Messages</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h5 id="Conversation-history-index">
									<a class="anchor-link" href="#Conversation-history">
										<p style="margin-left: 120px; font-size: 12px; line-height: 1.5;">Conversation history</p>
									</a>
								</h5>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h5 id="Conditioning-by-examples-index">
									<a class="anchor-link" href="#Conditioning-by-examples">
										<p style="margin-left: 120px; font-size: 12px; line-height: 1.5;">Conditioning by examples</p>
									</a>
								</h5>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h5 id="Conditioning-with-system-message-index">
									<a class="anchor-link" href="#Conditioning-with-system-message">
										<p style="margin-left: 120px; font-size: 12px; line-height: 1.5;">Conditioning with system message</p>
									</a>
								</h5>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Maximum-number-of-response-tokens-index">
									<a class="anchor-link" href="#Maximum-number-of-response-tokens">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Maximum number of response tokens</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Creativity-of-the-model-through-temperature-index">
									<a class="anchor-link" href="#Creativity-of-the-model-through-temperature">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Creativity of the model through temperature</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Creativity-of-the-model-using-the-top_p-index">
									<a class="anchor-link" href="#Creativity-of-the-model-using-the-top_p">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Creativity of the model using the top_p</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Number-of-responses-index">
									<a class="anchor-link" href="#Number-of-responses">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Number of responses</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Re-train-OpenAI-model-index">
									<a class="anchor-link" href="#Re-train-OpenAI-model">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Re-train OpenAI model</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Data-preparation-index">
									<a class="anchor-link" href="#Data-preparation">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Data preparation</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Data-validation-index">
									<a class="anchor-link" href="#Data-validation">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Data validation</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Calculation-of-tokens-index">
									<a class="anchor-link" href="#Calculation-of-tokens">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Calculation of tokens</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Costing-index">
									<a class="anchor-link" href="#Costing">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Costing</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Training-index">
									<a class="anchor-link" href="#Training">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Training</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Model-test-index">
									<a class="anchor-link" href="#Model-test">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Model test</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Generate-images-with-DALL-E-3-index">
									<a class="anchor-link" href="#Generate-images-with-DALL-E-3">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Generate images with DALL-E 3</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Vision-index">
									<a class="anchor-link" href="#Vision">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Vision</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Text-to-speech-index">
									<a class="anchor-link" href="#Text-to-speech">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Text to speech</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Speech-to-text-(Whisper)-index">
									<a class="anchor-link" href="#Speech-to-text-(Whisper)">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Speech to text (Whisper)</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Content-moderation-index">
									<a class="anchor-link" href="#Content-moderation">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Content moderation</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Attendees-index">
									<a class="anchor-link" href="#Attendees">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Attendees</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Create-the-wizard-index">
									<a class="anchor-link" href="#Create-the-wizard">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Create the wizard</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Thread-index">
									<a class="anchor-link" href="#Thread">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Thread</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Upload-a-file-index">
									<a class="anchor-link" href="#Upload-a-file">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Upload a file</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Send-a-message-to-the-assistant-index">
									<a class="anchor-link" href="#Send-a-message-to-the-assistant">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Send a message to the assistant</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Run-the-wizard-index">
									<a class="anchor-link" href="#Run-the-wizard">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Run the wizard</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Wait-for-processing-to-finish-index">
									<a class="anchor-link" href="#Wait-for-processing-to-finish">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Wait for processing to finish</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Process-the-answer-index">
									<a class="anchor-link" href="#Process-the-answer">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Process the answer</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- Close div indice -->
		</div>
 
		<!-- Content -->
		<div class="contenido">
		<div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><a href="https://colab.research.google.com/github/maximofn/portafolio/blob/main/posts/notebooks_translated/2023-12-06-openai_API_EN.ipynb" target="_blank"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h1 id="OpenAI-API">
								<a class="anchor-link" href="#OpenAI-API">
									<p style="margin-left: 0px">OpenAI API</p>
								</a>
							</h1>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Install-the-OpenAI-library">
								<a class="anchor-link" href="#Install-the-OpenAI-library">
									<p style="margin-left: 10px">Install the OpenAI library</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">This notebook has been automatically translated to make it accessible to more people, please let me know if you see any typos.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">First of all, in order to use the OpenAI API, it is necessary to install the OpenAI library. To do this, run the following command</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span>%</span><span style="color: #6b97e8;">pip</span> <span style="color: #6b97e8;">install</span> <span>--</span><span style="color: #6b97e8;">upgrade</span> <span style="color: #6b97e8;">openai</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Import-the-OpenAI-library">
								<a class="anchor-link" href="#Import-the-OpenAI-library">
									<p style="margin-left: 10px">Import the OpenAI library</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once the library is installed, we import it to be able to use it in our code.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">openai</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Obtain-an-API-Key">
								<a class="anchor-link" href="#Obtain-an-API-Key">
									<p style="margin-left: 10px">Obtain an API Key</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In order to use the OpenAI API, it is necessary to obtain an API Key. To do this, go to the <a href="https://openai.com/" target="_blank">OpenAI</a> page and register. Once registered, go to the <a href="https://platform.openai.com/api-keys" target="_blank">API Keys</a> section, and create a new API Key.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="https://raw.githubusercontent.com/maximofn/alfred/main/gifs/openaix2.gif" alt="open ai api key"></p></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once we have it, we tell the openai API which is our API Key.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">api_key</span> <span>=</span> <span style="color: #7e7a34;">&quot;Pon aquí tu API key&quot;</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="We-create-our-first-chatbot">
								<a class="anchor-link" href="#We-create-our-first-chatbot">
									<p style="margin-left: 10px">We create our first chatbot</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">With the OpenAI API it is very easy to create a simple chatbot, to which we are going to pass a prompt, and it will give us a response</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">First of all we have to choose which model we are going to use, in my case I am going to use the <code><b>gpt-3.5-turbo-1106</b></code> model which is a good model for this post, since for what we are going to do we do not need to use the best model. OpenAI has a list with all their <a href="https://platform.openai.com/docs/models" target="_blank">models</a> and a page with the <a href="https://openai.com/pricing" target="_blank">prices</a></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #7e7a34;">&quot;gpt-3.5-turbo-1106&quot;</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we have to create a client that will communicate with the OpenAI API.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">client</span> <span>=</span> <span style="color: #6b97e8;">openai</span><span>.</span><span style="color: #6b97e8;">OpenAI</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">api_key</span><span>=</span><span style="color: #6b97e8;">api_key</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">organization</span><span>=</span><span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see we have passed our API Key. It is also possible to pass the organization, but in our case it is not necessary.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We create the prompt</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">And now we can ask OpenAI for an answer.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's see what the answer looks like</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">response</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.chat.chat_completion.ChatCompletion,</p><p> ChatCompletion(id='chatcmpl-8RaHCm9KalLxj2PPbLh6f8A4djG8Y', choices=[Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='No hay un "mejor" lenguaje de programación para aprender, ya que depende de tus intereses, objetivos y el tipo de desarrollo que te interese. Algunos lenguajes populares para empezar a aprender a programar incluyen Python, JavaScript, Java, C# y Ruby. Estos lenguajes son conocidos por su sintaxis clara y su versatilidad, lo que los hace buenos candidatos para principiantes. También es útil investigar qué lenguajes son populares en la industria en la que te gustaría trabajar, ya que el conocimiento de un lenguaje en demanda puede abrirte más oportunidades laborales. En resumen, la elección del lenguaje de programación para aprender dependerá de tus preferencias personales y de tus metas profesionales.', role='assistant', function_call=None, tool_calls=None))], created=1701584994, model='gpt-3.5-turbo-1106', object='chat.completion', system_fingerprint='fp_eeff13170a', usage=CompletionUsage(completion_tokens=181, prompt_tokens=21, total_tokens=202)))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.choices = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">] = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].finish_reason = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">finish_reason</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].index = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">index</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.content = </span><span style="color: #a6a831;">\n\t\t</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">content</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.role = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">role</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.function_call = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">function_call</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.tool_calls = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">tool_calls</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.created = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">created</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.system_fingerprint = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">system_fingerprint</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.usage = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.completion_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">completion_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.prompt_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">prompt_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.total_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">total_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>response.id = chatcmpl-8RaHCm9KalLxj2PPbLh6f8A4djG8Y</p><p>response.choices = [Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='No hay un "mejor" lenguaje de programación para aprender, ya que depende de tus intereses, objetivos y el tipo de desarrollo que te interese. Algunos lenguajes populares para empezar a aprender a programar incluyen Python, JavaScript, Java, C# y Ruby. Estos lenguajes son conocidos por su sintaxis clara y su versatilidad, lo que los hace buenos candidatos para principiantes. También es útil investigar qué lenguajes son populares en la industria en la que te gustaría trabajar, ya que el conocimiento de un lenguaje en demanda puede abrirte más oportunidades laborales. En resumen, la elección del lenguaje de programación para aprender dependerá de tus preferencias personales y de tus metas profesionales.', role='assistant', function_call=None, tool_calls=None))]</p><p>response.choices[0] = Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='No hay un "mejor" lenguaje de programación para aprender, ya que depende de tus intereses, objetivos y el tipo de desarrollo que te interese. Algunos lenguajes populares para empezar a aprender a programar incluyen Python, JavaScript, Java, C# y Ruby. Estos lenguajes son conocidos por su sintaxis clara y su versatilidad, lo que los hace buenos candidatos para principiantes. También es útil investigar qué lenguajes son populares en la industria en la que te gustaría trabajar, ya que el conocimiento de un lenguaje en demanda puede abrirte más oportunidades laborales. En resumen, la elección del lenguaje de programación para aprender dependerá de tus preferencias personales y de tus metas profesionales.', role='assistant', function_call=None, tool_calls=None))</p><p>	response.choices[0].finish_reason = stop</p><p>	response.choices[0].index = 0</p><p>	response.choices[0].message = ChatCompletionMessage(content='No hay un "mejor" lenguaje de programación para aprender, ya que depende de tus intereses, objetivos y el tipo de desarrollo que te interese. Algunos lenguajes populares para empezar a aprender a programar incluyen Python, JavaScript, Java, C# y Ruby. Estos lenguajes son conocidos por su sintaxis clara y su versatilidad, lo que los hace buenos candidatos para principiantes. También es útil investigar qué lenguajes son populares en la industria en la que te gustaría trabajar, ya que el conocimiento de un lenguaje en demanda puede abrirte más oportunidades laborales. En resumen, la elección del lenguaje de programación para aprender dependerá de tus preferencias personales y de tus metas profesionales.', role='assistant', function_call=None, tool_calls=None)</p><p>		response.choices[0].message.content = </p><p>		No hay un "mejor" lenguaje de programación para aprender, ya que depende de tus intereses, objetivos y el tipo de desarrollo que te interese. Algunos lenguajes populares para empezar a aprender a programar incluyen Python, JavaScript, Java, C# y Ruby. Estos lenguajes son conocidos por su sintaxis clara y su versatilidad, lo que los hace buenos candidatos para principiantes. También es útil investigar qué lenguajes son populares en la industria en la que te gustaría trabajar, ya que el conocimiento de un lenguaje en demanda puede abrirte más oportunidades laborales. En resumen, la elección del lenguaje de programación para aprender dependerá de tus preferencias personales y de tus metas profesionales.</p><p>		response.choices[0].message.role = assistant</p><p>		response.choices[0].message.function_call = None</p><p>		response.choices[0].message.tool_calls = None</p><p>response.created = 1701584994</p><p>response.model = gpt-3.5-turbo-1106</p><p>response.object = chat.completion</p><p>response.system_fingerprint = fp_eeff13170a</p><p>response.usage = CompletionUsage(completion_tokens=181, prompt_tokens=21, total_tokens=202)</p><p>	response.usage.completion_tokens = 181</p><p>	response.usage.prompt_tokens = 21</p><p>	response.usage.total_tokens = 202</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see, it returns a lot of information.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">For example <code><b>response.choices[0].finish_reason = stop</b></code> means that the model has stopped generating text because it has reached the end of the prompt. This comes in handy for debugging, as the possible values are <code><b>stop</b></code> which means the API returned the complete message, <code><b>length</b></code> which means the model output was incomplete because it was longer than <code><b>max_tokens</b></code> or model token limit, <code><b>function_call</b></code> the model decided to call a function, <code><b>content_filter</b></code> which means the content was skipped because of an OpenAI content limitation and <code><b>null</b></code> which means the API response was incomplete.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">It also gives us token information to keep track of the money spent.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Parameters">
								<a class="anchor-link" href="#Parameters">
									<p style="margin-left: 20px">Parameters</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">When asking OpenAI for an answer, we can pass a series of parameters to it so that it returns an answer more in accordance with what we want. Let's see which are the parameters that we can pass to it</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>Messages: List of messages that have been sent to the chatbot.</li>
									<li><code><b>model</b></code>: Model we want to use</li>
									<li><code><b>frequency_penalty</b></code>: Frequency penalty. The higher the value, the less likely the model will repeat the same response.</li>
									<li><code><b>max_tokens</b></code>: Maximum number of tokens the model can return.</li>
									<li><code><b>n</b></code>: Number of responses that we want the model to return.</li>
									<li><code><b>presence_penalty</b></code>: Presence penalty. The higher the value, the less likely the model will repeat the same response.</li>
									<li><code><b>seed</b></code>: Seed for text generation</li>
									<li><code><b>stop</b></code>: List of tokens indicating that the model should stop generating text.</li>
									<li>If <code><b>stream</b></code>: If <code><b>True</b></code> the API will return a response each time the model generates a token. If <code><b>False</b></code> the API will return a response when the model has generated all tokens.</li>
									<li><code><b>temperature</b></code>: The higher the value, the more creative the model will be.</li>
									<li><code><b>top_p</b></code>: The higher the value, the more creative the model will be.</li>
									<li><code><b>user</b></code>: ID of the user who is talking to the chatbot</li>
									<li><code><b>timeout</b></code>: Maximum time we want to wait for the API to return a response.</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's take a look at some of them</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Messages">
								<a class="anchor-link" href="#Messages">
									<p style="margin-left: 30px">Messages</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can pass to the API a list of messages that have been sent to the chatbot. This is useful to pass the conversation history to the chatbot, so that it can generate a response more in line with the conversation. And to condition the chatbot's response to what it has been told previously.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can also pass a system message to tell it how to behave.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h5 id="Conversation-history">
								<a class="anchor-link" href="#Conversation-history">
									<p style="margin-left: 40px">Conversation history</p>
								</a>
							</h5>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's see an example of a conversation history.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;Hola, soy MaximoFN, ¿Cómo estás?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Hola MaximoFN, soy un modelo de inteligencia artificial diseñado para conversar y ayudar en lo que necesites. ¿En qué puedo ayudarte hoy?</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">He answered that he has no feelings and how can he help us. So if I ask him what my name is now, he won't know how to answer me.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Me puedes decir cómo me llamo?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Lo siento, no tengo esa información. Pero puedes decírmelo tú.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">To solve this, we pass the conversation history to you</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Me puedes decir cómo me llamo?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Hola, soy MaximoFN, ¿Cómo estás?&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Hola MaximoFN, soy un modelo de inteligencia artificial diseñado para conversar y ayudar en lo que necesites. ¿En qué puedo ayudarte hoy?&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Tu nombre es MaximoFN.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h5 id="Conditioning-by-examples">
								<a class="anchor-link" href="#Conditioning-by-examples">
									<p style="margin-left: 40px">Conditioning by examples</p>
								</a>
							</h5>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now let's look at an example of how to condition the chatbot's response to what it has been told above. Now we ask it how to get the list of files in a directory in the terminal</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo puedo listar los archivos de un directorio en la terminal?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>En la terminal de un sistema operativo Unix o Linux, puedes listar los archivos de un directorio utilizando el comando `ls`. Por ejemplo, si quieres listar los archivos del directorio actual, simplemente escribe `ls` y presiona Enter. Si deseas listar los archivos de un directorio específico, puedes proporcionar la ruta del directorio después del comando `ls`, por ejemplo `ls /ruta/del/directorio`. Si deseas ver más detalles sobre los archivos, puedes usar la opción `-l` para obtener una lista detallada o `-a` para mostrar también los archivos ocultos.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">If we now condition him with examples of short answers, let's see what he will answer us</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo puedo listar los archivos de un directorio en la terminal?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Obtener las 10 primeras líneas de un archivo&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;head -n 10&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Encontrar todos los archivos con extensión .txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;find . -name &#39;*.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Dividir un archivo en varias páginas&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;split -l 1000&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Buscar la dirección IP 12.34.56.78&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;nslookup 12.34.56.78&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Obtener las 5 últimas líneas de foo.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;tail -n 5 foo.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Convertir ejemplo.png en JPEG&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;convert example.png example.jpg&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Create a git branch named &#39;new-feature&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;git branch new-feature&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Puede usar el comando `ls` en la terminal para listar los archivos de un directorio. Por ejemplo:</p><p>```</p><p>ls</p><p>```</p><p>Muestra los archivos y directorios en el directorio actual.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We have managed to give a shorter response</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h5 id="Conditioning-with-system-message">
								<a class="anchor-link" href="#Conditioning-with-system-message">
									<p style="margin-left: 40px">Conditioning with system message</p>
								</a>
							</h5>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can pass you a system message to tell you how to behave.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo puedo listar los archivos de un directorio en la terminal?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;system&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Eres un experto asistente de terminal de ubuntu que responde solo con comandos de terminal&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Puedes listar los archivos de un directorio en la terminal usando el comando `ls`. Por ejemplo, para listar los archivos del directorio actual, simplemente escribe `ls` y presiona Enter. Si quieres listar los archivos de un directorio específico, puedes utilizar `ls` seguido de la ruta del directorio. Por ejemplo, `ls /ruta/del/directorio`.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo puedo listar los archivos de un directorio en la terminal?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;system&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Eres un experto asistente de terminal de ubuntu que responde solo con comandos de terminal&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Obtener las 10 primeras líneas de un archivo&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;head -n 10&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Encontrar todos los archivos con extensión .txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;find . -name &#39;*.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Dividir un archivo en varias páginas&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;split -l 1000&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Buscar la dirección IP 12.34.56.78&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;nslookup 12.34.56.78&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Obtener las 5 últimas líneas de foo.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;tail -n 5 foo.txt&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Convertir ejemplo.png en JPEG&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;convert example.png example.jpg&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Create a git branch named &#39;new-feature&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;git branch new-feature&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Puedes listar los archivos de un directorio en la terminal utilizando el comando "ls". Por ejemplo, para listar los archivos en el directorio actual, puedes ejecutar el comando "ls". Si deseas listar los archivos de otro directorio, simplemente especifica el directorio después del comando "ls", por ejemplo "ls /ruta/al/directorio".</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Maximum-number-of-response-tokens">
								<a class="anchor-link" href="#Maximum-number-of-response-tokens">
									<p style="margin-left: 30px">Maximum number of response tokens</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can limit the number of tokens that the model can return. This is useful so that the model does not overshoot the response we want.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">max_tokens</span> <span>=</span> <span style="color: #7e7a38;">50</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\n</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].finish_reason = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">finish_reason</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>La respuesta a esta pregunta puede variar dependiendo de los intereses y objetivos individuales, ya que cada lenguaje de programación tiene sus propias ventajas y desventajas. Sin embargo, algunos de los lenguajes más</p><p>response.choices[0].finish_reason = length</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see the answer is half cut because it would exceed the token limit. Also now the stop reason is <code><b>length</b></code> instead of <code><b>stop</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Creativity-of-the-model-through-temperature">
								<a class="anchor-link" href="#Creativity-of-the-model-through-temperature">
									<p style="margin-left: 30px">Creativity of the model through temperature</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can make the model more creative by the temperature. The higher the value, the more creative the model will be.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p><span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #6b97e8;">temperature</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content_0</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_0</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los intereses y objetivos individuales. Algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C#. Cada uno tiene sus propias ventajas y desventajas, por lo que es importante investigar y considerar qué tipo de desarrollo de software te interesa antes de elegir un lenguaje para aprender.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p><span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #6b97e8;">temperature</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content_1</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los objetivos y preferencias individuales del programador. Sin embargo, algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C++. Estos lenguajes son relativamente fáciles de aprender y tienen una amplia gama de aplicaciones en la industria de la tecnología. Es importante considerar qué tipo de proyectos o campos de interés te gustaría explorar al momento de elegir un lenguaje de programación para aprender.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_0</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los intereses y objetivos individuales. Algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C#. Cada uno tiene sus propias ventajas y desventajas, por lo que es importante investigar y considerar qué tipo de desarrollo de software te interesa antes de elegir un lenguaje para aprender.</p><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los objetivos y preferencias individuales del programador. Sin embargo, algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C++. Estos lenguajes son relativamente fáciles de aprender y tienen una amplia gama de aplicaciones en la industria de la tecnología. Es importante considerar qué tipo de proyectos o campos de interés te gustaría explorar al momento de elegir un lenguaje de programación para aprender.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Creativity-of-the-model-using-the-top_p">
								<a class="anchor-link" href="#Creativity-of-the-model-using-the-top_p">
									<p style="margin-left: 30px">Creativity of the model using the top_p</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can make the model more creative by using the <code><b>top_p</b></code> parameter. The higher the value, the more creative the model will be.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p><span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #6b97e8;">top_p</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content_0</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_0</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los intereses y objetivos individuales. Algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C#. Cada uno tiene sus propias ventajas y desventajas, por lo que es importante investigar y considerar qué tipo de desarrollo de software te interesa antes de elegir un lenguaje para aprender.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p><span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #6b97e8;">top_p</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content_1</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>El mejor lenguaje de programación para aprender depende de los objetivos del aprendizaje y del tipo de programación que se quiera realizar. Algunos lenguajes de programación populares para principiantes incluyen Python, Java, JavaScript y Ruby. Sin embargo, cada lenguaje tiene sus propias ventajas y desventajas, por lo que es importante considerar qué tipo de proyectos o aplicaciones se quieren desarrollar antes de elegir un lenguaje de programación para aprender. Python es a menudo recomendado por su facilidad de uso y versatilidad, mientras que JavaScript es ideal para la programación web.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_0</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No hay un "mejor" lenguaje de programación para aprender, ya que la elección depende de los intereses y objetivos individuales. Algunos lenguajes populares para principiantes incluyen Python, JavaScript, Java y C#. Cada uno tiene sus propias ventajas y desventajas, por lo que es importante investigar y considerar qué tipo de desarrollo de software te interesa antes de elegir un lenguaje para aprender.</p><p>El mejor lenguaje de programación para aprender depende de los objetivos del aprendizaje y del tipo de programación que se quiera realizar. Algunos lenguajes de programación populares para principiantes incluyen Python, Java, JavaScript y Ruby. Sin embargo, cada lenguaje tiene sus propias ventajas y desventajas, por lo que es importante considerar qué tipo de proyectos o aplicaciones se quieren desarrollar antes de elegir un lenguaje de programación para aprender. Python es a menudo recomendado por su facilidad de uso y versatilidad, mientras que JavaScript es ideal para la programación web.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Number-of-responses">
								<a class="anchor-link" href="#Number-of-responses">
									<p style="margin-left: 30px">Number of responses</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can ask the API to return more than one response. This is useful for the model to return several answers and so we can choose the one we like the most, for this we will set the parameters <code><b>temperature</b></code> and <code><b>top_p</b></code> to 1 to make the model more creative.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cuál es el mejor lenguaje de programación para aprender?&quot;</span></p>
<p><span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p><span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>  <span style="color: #6b97e8;">temperature</span> <span>=</span> <span style="color: #6b97e8;">temperature</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">top_p</span> <span>=</span> <span style="color: #6b97e8;">top_p</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">n</span> <span>=</span> <span style="color: #7e7a38;">4</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">content_0</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content_1</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content_2</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">2</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">content_3</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">3</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_0</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_1</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_2</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content_3</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>El mejor lenguaje de programación para aprender depende de tus objetivos y del tipo de aplicaciones que te interese desarrollar. Algunos de los lenguajes más populares para aprender son:</p><p>		1. Python: Es un lenguaje de programación versátil, fácil de aprender y con una amplia comunidad de desarrolladores. Es ideal para principiantes y se utiliza en una gran variedad de aplicaciones, desde desarrollo web hasta inteligencia artificial.</p><p>		2. JavaScript: Es el lenguaje de programación más utilizado en el desarrollo web. Es imprescindible para aquellos que quieren trabajar en el ámbito del desarrollo frontend y backend.</p><p>		3. Java: Es un lenguaje de programación muy popular en el ámbito empresarial, por lo que aprender Java puede abrirte muchas puertas laborales. Además, es un lenguaje estructurado que te enseñará conceptos importantes de la programación orientada a objetos.</p><p>		4. C#: Es un lenguaje de programación desarrollado por Microsoft que se utiliza especialmente en el desarrollo de aplicaciones para Windows. Es ideal para aquellos que quieran enfocarse en el desarrollo de aplicaciones de escritorio.</p><p>		En resumen, el mejor lenguaje de programación para aprender depende de tus intereses y objetivos personales. Es importante investigar y considerar qué tipos de aplicaciones te gustaría desarrollar para elegir el lenguaje que más se adapte a tus necesidades.</p><p>El mejor lenguaje de programación para aprender depende de los objetivos y necesidades individuales. Algunos de los lenguajes de programación más populares y ampliamente utilizados incluyen Python, JavaScript, Java, C++, Ruby y muchos otros. Python es a menudo recomendado para principiantes debido a su sintaxis simple y legible, mientras que JavaScript es esencial para el desarrollo web. Java es ampliamente utilizado en el desarrollo de aplicaciones empresariales y Android, y C++ es comúnmente utilizado en sistemas embebidos y juegos. En última instancia, el mejor lenguaje de programación para aprender dependerá de lo que quiera lograr con su habilidades de programación.</p><p>El mejor lenguaje de programación para aprender depende de los intereses y objetivos individuales de cada persona. Algunos de los lenguajes más populares y bien documentados para principiantes incluyen Python, JavaScript, Java y C#. Python es conocido por su simplicidad y versatilidad, mientras que JavaScript es esencial para el desarrollo web. Java y C# son lenguajes ampliamente utilizados en la industria y proporcionan una base sólida para aprender otros lenguajes. En última instancia, la elección del lenguaje dependerá de las metas personales y la aplicación deseada.</p><p>El mejor lenguaje de programación para aprender depende de los intereses y objetivos de cada persona. Algunos lenguajes populares para principiantes incluyen Python, Java, JavaScript, C++ y Ruby. Python es frecuentemente recomendado para aprender a programar debido a su sintaxis sencilla y legible, mientras que Java es utilizado en aplicaciones empresariales y Android. JavaScript es fundamental para el desarrollo web, y C++ es comúnmente utilizado en aplicaciones de alto rendimiento. Ruby es conocido por su facilidad de uso y flexibilidad. En última instancia, la elección del lenguaje dependerá de qué tipo de desarrollo te interesa y qué tipo de proyectos deseas realizar.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Re-train-OpenAI-model">
								<a class="anchor-link" href="#Re-train-OpenAI-model">
									<p style="margin-left: 10px">Re-train OpenAI model</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">OpenAI offers the possibility to retrain its API models to obtain better results on our own data. This has the following advantages</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> + Higher quality results are obtained for our data.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> + In a prompt we can give it examples to behave as we want, but only a few. This way, by retraining it we can give it many more.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> + Saving tokens due to shorter prompts. Since we have already trained it for our use case, we can give it fewer prompts to solve our tasks.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> + Lower latency requests. By calling our own models we will have less latency</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Data-preparation">
								<a class="anchor-link" href="#Data-preparation">
									<p style="margin-left: 20px">Data preparation</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">The OpenAI API asks us to provide the data in a <code><b>jsonl</b></code> file in the following format</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>{<br>    "messages":<br>    [<br>        {<br>            "role": "system", "content": "Marv is a factual chatbot that is also sarcastic."<br>        },<br>        {<br>            "role": "user", "content": "What's the capital of France?"<br>        },<br>        {<br>            "role": "assistant", "content": "Paris, as if everyone doesn't know that already."<br>        }<br>    <br>}<br>{<br>    "messages":<br>    [<br>        {<br>            "role": "system", "content": "Marv is a factual chatbot that is also sarcastic."<br>        },<br>        {<br>            "role": "user", "content": "Who wrote 'Romeo and Juliet'?"<br>        },<br>        {<br>            "role": "assistant", "content": "Oh, just some guy named William Shakespeare. Ever heard of him?"<br>        }<br>    <br>}<br>{<br>    "messages":<br>    [<br>        {<br>            "role": "system", "content": "Marv is a factual chatbot that is also sarcastic."<br>        },<br>        {<br>            "role": "user", "content": "How far is the Moon from Earth?"<br>        },<br>        {<br>            "role": "assistant", "content": "Around 384,400 kilometers. Give or take a few, like that really matters."<br>        }<br>    <br>}<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">With a maximum of 4096 tokens</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Data-validation">
								<a class="anchor-link" href="#Data-validation">
									<p style="margin-left: 30px">Data validation</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">To save me some work, I have been passing one by one all my posts to chatgpt and I have told it to generate 10 <code><b>FAQ</b></code>s for each one in <code><b>CSV</b></code> format, because I doubted if it was going to be able to generate a format like the one requested in the <code><b>jsonl</b></code>. And it has generated a <code><b>CSV</b></code> with the following format for each post</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>prompt,completion<br>What does Introduction to Python cover in the material provided, "Introduction to Python covers topics such as data types, operators, use of functions and classes, handling iterable objects, and use of modules. <a href="https://maximofn.com/python/" target="_blank">Learn more</a>"<br>What are the basic data types in Python, "Python has 7 basic data types: text (<code><b>str</b></code>), numeric (<code><b>int</b></code>, <code><b>float</b></code>, <code><b>complex</b></code>), sequences (<code><b>list</b></code>, <code><b>tuple</b></code>, <code><b>range</b></code>), mapping (<code><b>dict</b></code>), sets (<code><b>set</b></code>, <code><b>frozenset</b></code>), boolean (<code><b>bool</b></code>) and binary (<code><b>bytes</b></code>, <code><b>bytearray</b></code>, <code><b>memoryview</b></code>). <a href="https://maximofn.com/python/" target="_blank">More information</a>"<br>What are operators in Python and how are they used, "Operators in Python are special symbols used to perform operations such as addition, subtraction, multiplication and division between variables and values. They also include logical operators for comparisons. <a href="https://maximofn.com/python/" target="_blank">Learn more</a>"<br>How is a function defined and used in Python, "In Python, a function is defined using the <code><b>def</b></code> keyword, followed by the function name and parentheses. Functions can have parameters and return values. They are used to encapsulate logic that can be reused throughout the code. <a href="https://maximofn.com/python/" target="_blank">More information</a>"<br>What are Python classes and how are they used, "Python classes are the basis of object-oriented programming. They allow you to create objects that encapsulate data and functionality. Classes are defined using the <code><b>class</b></code> keyword, followed by the class name. <a href="https://maximofn.com/python/" target="_blank">More information</a>"<br>...<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
	
	
	
	
	
	
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Each <code><b>CSV</b></code> has 10 <code><b>FAQ</b></code>s</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">I am going to make a code that takes each <code><b>CSV</b></code> and generates two new <code><b>jsonl</b></code>s, one for training and one for validation.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">os</span></p>
<p></p>
<p><span style="color: #6b97e8;">CSVs_path</span> <span>=</span> <span style="color: #7e7a34;">&quot;openai/faqs_posts&quot;</span></p>
<p><span style="color: #6b97e8;">percetn_train</span> <span>=</span> <span style="color: #a09e19;">0.8</span></p>
<p><span style="color: #6b97e8;">percetn_validation</span> <span>=</span> <span style="color: #a09e19;">0.2</span></p>
<p></p>
<p><span style="color: #6b97e8;">jsonl_train</span> <span>=</span> <span style="color: #6b97e8;">os</span><span>.</span><span style="color: #6b97e8;">path</span><span>.</span><span style="color: #6b97e8;">join</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">CSVs_path</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;train.jsonl&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">jsonl_validation</span> <span>=</span> <span style="color: #6b97e8;">os</span><span>.</span><span style="color: #6b97e8;">path</span><span>.</span><span style="color: #6b97e8;">join</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">CSVs_path</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;validation.jsonl&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #7f6e38;"># Create the train.jsonl and validation.jsonl files</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;w&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">f</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;&#39;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;w&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">f</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;&#39;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">file</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">os</span><span>.</span><span style="color: #6b97e8;">listdir</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">CSVs_path</span><span style="color: #e3e11d;">):</span>  <span style="color: #7f6e38;"># Get all files in the directory</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">file</span><span>.</span><span style="color: #6b97e8;">endswith</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;.csv&quot;</span><span style="color: #e3e11d;">):</span>    <span style="color: #7f6e38;"># Check if file is a csv</span></p>
<p>        <span style="color: #6b97e8;">csv</span> <span>=</span> <span style="color: #6b97e8;">os</span><span>.</span><span style="color: #6b97e8;">path</span><span>.</span><span style="color: #6b97e8;">join</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">CSVs_path</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">file</span><span style="color: #e3e11d;">)</span> <span style="color: #7f6e38;"># Get the path to the csv file</span></p>
<p>        <span style="color: #6b97e8;">number_of_lines</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p>        <span style="color: #6b97e8;">csv_content</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p>        <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">csv</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">):</span> <span style="color: #7f6e38;"># Read all lines in the csv file</span></p>
<p>            <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">line</span><span>.</span><span style="color: #6b97e8;">startswith</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;prompt&#39;</span><span style="color: #e3e11d;">):</span>   <span style="color: #7f6e38;"># Skip the first line</span></p>
<p>                <span style="color: #a04cc1;">continue</span></p>
<p>            <span style="color: #6b97e8;">number_of_lines</span> <span>+=</span> <span style="color: #7e7a38;">1</span>    <span style="color: #7f6e38;"># Count the number of lines</span></p>
<p>            <span style="color: #6b97e8;">csv_content</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span>    <span style="color: #7f6e38;"># Add the line to the csv_content list</span></p>
<p></p>
<p>        <span style="color: #6b97e8;">number_of_train</span> <span>=</span> <span style="color: #dfd84a;">int</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">number_of_lines</span> <span>*</span> <span style="color: #6b97e8;">percetn_train</span><span style="color: #e3e11d;">)</span>  <span style="color: #7f6e38;"># Calculate the number of lines for the train.jsonl file</span></p>
<p>        <span style="color: #6b97e8;">number_of_validation</span> <span>=</span> <span style="color: #dfd84a;">int</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">number_of_lines</span> <span>*</span> <span style="color: #6b97e8;">percetn_validation</span><span style="color: #e3e11d;">)</span>    <span style="color: #7f6e38;"># Calculate the number of lines for the validation.sjonl file</span></p>
<p></p>
<p>        <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">number_of_lines</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">prompt</span> <span>=</span> <span style="color: #6b97e8;">csv_content</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">split</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;,&#39;</span><span style="color: #e3e11d;">)[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span></p>
<p>            <span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #8d783e;">&#39;,&#39;</span><span>.</span><span style="color: #6b97e8;">join</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">csv_content</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">split</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;,&#39;</span><span style="color: #e3e11d;">)[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">:])</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;&#39;</span><span style="color: #e3e11d;">)</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;&quot;&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;&#39;</span><span style="color: #e3e11d;">)</span></p>
<p>            <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">i</span> <span>&gt;</span> <span style="color: #7e7a38;">0</span> <span style="color: #7f6e38;">and</span> <span style="color: #6b97e8;">i</span> <span>&lt;=</span> <span style="color: #6b97e8;">number_of_train</span><span style="color: #e3e11d;">:</span></p>
<p>                <span style="color: #7f6e38;"># add line to train.jsonl</span></p>
<p>                <span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;a&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>                    <span style="color: #6b97e8;">f</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #8d783e;">&#39;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;messages&quot;: [</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;Eres un amable asistente dispuesto a responder.&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">, </span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">prompt</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">, </span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">]</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #a6a831;">\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p>            <span style="color: #a04cc1;">elif</span> <span style="color: #6b97e8;">i</span> <span>&gt;</span> <span style="color: #6b97e8;">number_of_train</span> <span style="color: #7f6e38;">and</span> <span style="color: #6b97e8;">i</span> <span>&lt;=</span> <span style="color: #6b97e8;">number_of_train</span> <span>+</span> <span style="color: #6b97e8;">number_of_validation</span><span style="color: #e3e11d;">:</span></p>
<p>                <span style="color: #7f6e38;"># add line to validation.csv</span></p>
<p>                <span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;a&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>                    <span style="color: #6b97e8;">f</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #8d783e;">&#39;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;messages&quot;: [</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;Eres un amable asistente dispuesto a responder.&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">, </span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">prompt</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">, </span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;{&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #8d783e;">]</span><span style="color: #3b75c2;">{</span><span style="color: #7e7a34;">&quot;}&quot;</span><span style="color: #3b75c2;">}</span><span style="color: #a6a831;">\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once I have the two <code><b>jsonl</b></code>s, I run a <a href="https://cookbook.openai.com/examples/chat_finetuning_data_prep" target="_blank">code</a> provided by OpenAI to check the <code><b>jsonl</b></code>s</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">First we validate the training ones</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">collections</span> <span style="color: #833aa0;">import</span> <span style="color: #6b97e8;">defaultdict</span></p>
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">json</span></p>
<p></p>
<p><span style="color: #7f6e38;"># Format error checks</span></p>
<p><span style="color: #6b97e8;">format_errors</span> <span>=</span> <span style="color: #6b97e8;">defaultdict</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">int</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">isinstance</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">,</span> <span style="color: #dfd84a;">dict</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;data_type&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        <span style="color: #a04cc1;">continue</span></p>
<p>        </p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;missing_messages_list&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        <span style="color: #a04cc1;">continue</span></p>
<p>        </p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #7e7a34;">&quot;role&quot;</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">or</span> <span style="color: #7e7a34;">&quot;content&quot;</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">:</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;message_missing_key&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">k</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;name&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;function_call&quot;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">k</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;message_unrecognized_key&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;system&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;function&quot;</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;unrecognized_role&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>            </p>
<p>        <span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>        <span style="color: #6b97e8;">function_call</span> <span>=</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;function_call&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #e3e11d;">(</span><span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">content</span> <span style="color: #7f6e38;">and</span> <span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">function_call</span><span style="color: #e3e11d;">)</span> <span style="color: #7f6e38;">or</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">isinstance</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">,</span> <span style="color: #dfd84a;">str</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;missing_content&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    </p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span> <span>==</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;example_missing_assistant_message&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p></p>
<p><span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Found errors:&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">k</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">v</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">format_errors</span><span>.</span><span style="color: #6b97e8;">items</span><span style="color: #e3e11d;">():</span></p>
<p>        <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">k</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">v</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">else</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;No errors found&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No errors found</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">And now those of validation</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #7f6e38;"># Format error checks</span></p>
<p><span style="color: #6b97e8;">format_errors</span> <span>=</span> <span style="color: #6b97e8;">defaultdict</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">int</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">isinstance</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">,</span> <span style="color: #dfd84a;">dict</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;data_type&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        <span style="color: #a04cc1;">continue</span></p>
<p>        </p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;missing_messages_list&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        <span style="color: #a04cc1;">continue</span></p>
<p>        </p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #7e7a34;">&quot;role&quot;</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">or</span> <span style="color: #7e7a34;">&quot;content&quot;</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">:</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;message_missing_key&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">k</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;name&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;function_call&quot;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">k</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;message_unrecognized_key&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span> <span style="color: #7f6e38;">not</span> <span style="color: #7f6e38;">in</span> <span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;system&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;function&quot;</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;unrecognized_role&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>            </p>
<p>        <span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>        <span style="color: #6b97e8;">function_call</span> <span>=</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;function_call&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span></p>
<p>        </p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #e3e11d;">(</span><span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">content</span> <span style="color: #7f6e38;">and</span> <span style="color: #7f6e38;">not</span> <span style="color: #6b97e8;">function_call</span><span style="color: #e3e11d;">)</span> <span style="color: #7f6e38;">or</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">isinstance</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">,</span> <span style="color: #dfd84a;">str</span><span style="color: #e3e11d;">):</span></p>
<p>            <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;missing_content&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    </p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7f6e38;">None</span><span style="color: #e3e11d;">)</span> <span>==</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;example_missing_assistant_message&quot;</span><span style="color: #e3e11d;">]</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p></p>
<p><span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">format_errors</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Found errors:&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">k</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">v</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">format_errors</span><span>.</span><span style="color: #6b97e8;">items</span><span style="color: #e3e11d;">():</span></p>
<p>        <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">k</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">v</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">else</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;No errors found&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>No errors found</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Calculation-of-tokens">
								<a class="anchor-link" href="#Calculation-of-tokens">
									<p style="margin-left: 30px">Calculation of tokens</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">The maximum number of tokens for each example has to be 4096, so if we have longer examples only the first 4096 tokens will be used. So let's count the number of tokens that each <code><b>jsonl</b></code> has to know how much it will cost us to retrain the model.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">But first we must install the <code><b>tiktoken</b></code> library, which is the tokenizer used by OpenAI and which will also help us to know how many tokens each <code><b>CSV</b></code> has, and therefore, how much it will cost us to retrain the model.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">To install it we execute the following command</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>pip install tiktoken<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We create a few necessary functions</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">tiktoken</span></p>
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">numpy</span> <span style="color: #a04cc1;">as</span> <span style="color: #4fcd7d;">np</span></p>
<p></p>
<p><span style="color: #6b97e8;">encoding</span> <span>=</span> <span style="color: #6b97e8;">tiktoken</span><span>.</span><span style="color: #6b97e8;">get_encoding</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;cl100k_base&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">def</span> <span style="color: #7f6e38;">num_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">tokens_per_message</span><span>=</span><span style="color: #7e7a38;">3</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">tokens_per_name</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">):</span></p>
<p>    <span style="color: #6b97e8;">num_tokens</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #6b97e8;">num_tokens</span> <span>+=</span> <span style="color: #6b97e8;">tokens_per_message</span></p>
<p>        <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">key</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">value</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">items</span><span style="color: #e3e11d;">():</span></p>
<p>            <span style="color: #6b97e8;">num_tokens</span> <span>+=</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">encoding</span><span>.</span><span style="color: #6b97e8;">encode</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">value</span><span style="color: #e3e11d;">))</span></p>
<p>            <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">key</span> <span>==</span> <span style="color: #7e7a34;">&quot;name&quot;</span><span style="color: #e3e11d;">:</span></p>
<p>                <span style="color: #6b97e8;">num_tokens</span> <span>+=</span> <span style="color: #6b97e8;">tokens_per_name</span></p>
<p>    <span style="color: #6b97e8;">num_tokens</span> <span>+=</span> <span style="color: #7e7a38;">3</span></p>
<p>    <span style="color: #a04cc1;">return</span> <span style="color: #6b97e8;">num_tokens</span></p>
<p></p>
<p><span style="color: #a04cc1;">def</span> <span style="color: #7f6e38;">num_assistant_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>    <span style="color: #6b97e8;">num_tokens</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">:</span></p>
<p>        <span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">]</span> <span>==</span> <span style="color: #7e7a34;">&quot;assistant&quot;</span><span style="color: #e3e11d;">:</span></p>
<p>            <span style="color: #6b97e8;">num_tokens</span> <span>+=</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">encoding</span><span>.</span><span style="color: #6b97e8;">encode</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">]))</span></p>
<p>    <span style="color: #a04cc1;">return</span> <span style="color: #6b97e8;">num_tokens</span></p>
<p></p>
<p><span style="color: #a04cc1;">def</span> <span style="color: #7f6e38;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">name</span><span style="color: #e3e11d;">):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\n</span><span style="color: #7e7a34;">#### Distribution of </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">name</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">:&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;min:</span><span style="color: #3b75c2;">{</span><span style="color: #dfd84a;">min</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">, max: </span><span style="color: #3b75c2;">{</span><span style="color: #dfd84a;">max</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;mean: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">np</span><span>.</span><span style="color: #6b97e8;">mean</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">, median: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">np</span><span>.</span><span style="color: #6b97e8;">median</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;p5: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">np</span><span>.</span><span style="color: #6b97e8;">quantile</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">,</span> <span style="color: #a09e19;">0.1</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">, p95: </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">np</span><span>.</span><span style="color: #6b97e8;">quantile</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">values</span><span style="color: #e3e11d;">,</span> <span style="color: #a09e19;">0.9</span><span style="color: #e3e11d;">)</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #7f6e38;"># Warnings and tokens counts</span></p>
<p><span style="color: #6b97e8;">n_missing_system</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p><span style="color: #6b97e8;">n_missing_user</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p><span style="color: #6b97e8;">n_messages</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #6b97e8;">convo_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #6b97e8;">assistant_message_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">]</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">]</span> <span>==</span> <span style="color: #7e7a34;">&quot;system&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">n_missing_system</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">]</span> <span>==</span> <span style="color: #7e7a34;">&quot;user&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">n_missing_user</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    <span style="color: #6b97e8;">n_messages</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    <span style="color: #6b97e8;">convo_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    <span style="color: #6b97e8;">assistant_message_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_assistant_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    </p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Num examples missing system message:&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">n_missing_system</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Num examples missing user message:&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">n_missing_user</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">n_messages</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_messages_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_total_tokens_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">assistant_message_lens</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_assistant_tokens_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">n_too_long</span> <span>=</span> <span style="color: #dfd84a;">sum</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">l</span> <span>&gt;</span> <span style="color: #7e7a38;">4096</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">l</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\n</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_too_long</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> examples may be over the 4096 token limit, they will be truncated during fine-tuning&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Num examples missing system message: 0</p><p>Num examples missing user message: 0</p><p>#### Distribution of num_messages_per_example:</p><p>min:3, max: 3</p><p>mean: 3.0, median: 3.0</p><p>p5: 3.0, p95: 3.0</p><p>#### Distribution of num_total_tokens_per_example:</p><p>min:67, max: 132</p><p>mean: 90.13793103448276, median: 90.0</p><p>p5: 81.5, p95: 99.5</p><p>#### Distribution of num_assistant_tokens_per_example:</p><p>min:33, max: 90</p><p>mean: 48.66379310344828, median: 48.5</p><p>p5: 41.0, p95: 55.5</p><p>0 examples may be over the 4096 token limit, they will be truncated during fine-tuning</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see in the training set, no message exceeds 4096 tokens.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #7f6e38;"># Warnings and tokens counts</span></p>
<p><span style="color: #6b97e8;">n_missing_system</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p><span style="color: #6b97e8;">n_missing_user</span> <span>=</span> <span style="color: #7e7a38;">0</span></p>
<p><span style="color: #6b97e8;">n_messages</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #6b97e8;">convo_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #6b97e8;">assistant_message_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">]</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">]</span> <span>==</span> <span style="color: #7e7a34;">&quot;system&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">n_missing_system</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    <span style="color: #a04cc1;">if</span> <span style="color: #7f6e38;">not</span> <span style="color: #dfd84a;">any</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">message</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">]</span> <span>==</span> <span style="color: #7e7a34;">&quot;user&quot;</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">message</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">):</span></p>
<p>        <span style="color: #6b97e8;">n_missing_user</span> <span>+=</span> <span style="color: #7e7a38;">1</span></p>
<p>    <span style="color: #6b97e8;">n_messages</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    <span style="color: #6b97e8;">convo_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    <span style="color: #6b97e8;">assistant_message_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_assistant_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p>    </p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Num examples missing system message:&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">n_missing_system</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Num examples missing user message:&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">n_missing_user</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">n_messages</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_messages_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_total_tokens_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">print_distribution</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">assistant_message_lens</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;num_assistant_tokens_per_example&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">n_too_long</span> <span>=</span> <span style="color: #dfd84a;">sum</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">l</span> <span>&gt;</span> <span style="color: #7e7a38;">4096</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">l</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\n</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_too_long</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> examples may be over the 4096 token limit, they will be truncated during fine-tuning&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Num examples missing system message: 0</p><p>Num examples missing user message: 0</p><p>#### Distribution of num_messages_per_example:</p><p>min:3, max: 3</p><p>mean: 3.0, median: 3.0</p><p>p5: 3.0, p95: 3.0</p><p>#### Distribution of num_total_tokens_per_example:</p><p>min:80, max: 102</p><p>mean: 89.93333333333334, median: 91.0</p><p>p5: 82.2, p95: 96.8</p><p>#### Distribution of num_assistant_tokens_per_example:</p><p>min:41, max: 57</p><p>mean: 48.2, median: 49.0</p><p>p5: 42.8, p95: 51.6</p><p>0 examples may be over the 4096 token limit, they will be truncated during fine-tuning</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">No message in the validation set exceeds 4096 tokens.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Costing">
								<a class="anchor-link" href="#Costing">
									<p style="margin-left: 30px">Costing</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Another very important thing is to know how much this fine-tuning is going to cost us.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #7f6e38;"># Pricing and default n_epochs estimate</span></p>
<p><span style="color: #6b97e8;">MAX_TOKENS_PER_EXAMPLE</span> <span>=</span> <span style="color: #7e7a38;">4096</span></p>
<p></p>
<p><span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">3</span></p>
<p><span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span> <span>=</span> <span style="color: #7e7a38;">100</span></p>
<p><span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span> <span>=</span> <span style="color: #7e7a38;">25000</span></p>
<p><span style="color: #6b97e8;">MIN_DEFAULT_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p><span style="color: #6b97e8;">MAX_DEFAULT_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">25</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #6b97e8;">convo_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">]</span></p>
<p>    <span style="color: #6b97e8;">convo_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p></p>
<p><span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span></p>
<p><span style="color: #6b97e8;">n_train_examples</span> <span>=</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">n_train_examples</span> <span>*</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>&lt;</span> <span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #dfd84a;">min</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MAX_DEFAULT_EPOCHS</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span> <span>//</span> <span style="color: #6b97e8;">n_train_examples</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">elif</span> <span style="color: #6b97e8;">n_train_examples</span> <span>*</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>&gt;</span> <span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #dfd84a;">max</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MIN_DEFAULT_EPOCHS</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span> <span>//</span> <span style="color: #6b97e8;">n_train_examples</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">n_billing_tokens_in_dataset</span> <span>=</span> <span style="color: #dfd84a;">sum</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">min</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MAX_TOKENS_PER_EXAMPLE</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">length</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">length</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Dataset has ~</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_billing_tokens_in_dataset</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> tokens that will be charged for during training&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;By default, you&#39;ll train for </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_epochs</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> epochs on this dataset&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;By default, you&#39;ll be charged for ~</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_epochs</span> <span>*</span> <span style="color: #6b97e8;">n_billing_tokens_in_dataset</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> tokens&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">tokens_for_train</span> <span>=</span> <span style="color: #6b97e8;">n_epochs</span> <span>*</span> <span style="color: #6b97e8;">n_billing_tokens_in_dataset</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Dataset has ~10456 tokens that will be charged for during training</p><p>By default, you'll train for 3 epochs on this dataset</p><p>By default, you'll be charged for ~31368 tokens</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As at the time of writing this post, the price of training <code><b>gpt-3.5-turbo</b></code> is $0.0080 per 1000 tokens, we can know how much the training will cost us</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">pricing</span> <span>=</span> <span style="color: #a09e19;">0.0080</span></p>
<p><span style="color: #6b97e8;">num_tokens_pricing</span> <span>=</span> <span style="color: #7e7a38;">1000</span></p>
<p></p>
<p><span style="color: #6b97e8;">training_price</span> <span>=</span> <span style="color: #6b97e8;">pricing</span> <span>*</span> <span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">tokens_for_train</span> <span>//</span> <span style="color: #6b97e8;">num_tokens_pricing</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Training price: $</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">training_price</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Training price: $0.248</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #7f6e38;"># Pricing and default n_epochs estimate</span></p>
<p><span style="color: #6b97e8;">MAX_TOKENS_PER_EXAMPLE</span> <span>=</span> <span style="color: #7e7a38;">4096</span></p>
<p></p>
<p><span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">3</span></p>
<p><span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span> <span>=</span> <span style="color: #7e7a38;">100</span></p>
<p><span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span> <span>=</span> <span style="color: #7e7a38;">25000</span></p>
<p><span style="color: #6b97e8;">MIN_DEFAULT_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">1</span></p>
<p><span style="color: #6b97e8;">MAX_DEFAULT_EPOCHS</span> <span>=</span> <span style="color: #7e7a38;">25</span></p>
<p></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;r&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">encoding</span><span>=</span><span style="color: #8d783e;">&#39;utf-8&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">dataset</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">json</span><span>.</span><span style="color: #6b97e8;">loads</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">line</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">line</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">]</span></p>
<p></p>
<p><span style="color: #6b97e8;">convo_lens</span> <span>=</span> <span style="color: #e3e11d;">[]</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">ex</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">ex</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;messages&quot;</span><span style="color: #e3e11d;">]</span></p>
<p>    <span style="color: #6b97e8;">convo_lens</span><span>.</span><span style="color: #6b97e8;">append</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">num_tokens_from_messages</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">))</span></p>
<p></p>
<p><span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span></p>
<p><span style="color: #6b97e8;">n_train_examples</span> <span>=</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">dataset</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">if</span> <span style="color: #6b97e8;">n_train_examples</span> <span>*</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>&lt;</span> <span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #dfd84a;">min</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MAX_DEFAULT_EPOCHS</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">MIN_TARGET_EXAMPLES</span> <span>//</span> <span style="color: #6b97e8;">n_train_examples</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">elif</span> <span style="color: #6b97e8;">n_train_examples</span> <span>*</span> <span style="color: #6b97e8;">TARGET_EPOCHS</span> <span>&gt;</span> <span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">n_epochs</span> <span>=</span> <span style="color: #dfd84a;">max</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MIN_DEFAULT_EPOCHS</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">MAX_TARGET_EXAMPLES</span> <span>//</span> <span style="color: #6b97e8;">n_train_examples</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">n_billing_tokens_in_dataset</span> <span>=</span> <span style="color: #dfd84a;">sum</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">min</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">MAX_TOKENS_PER_EXAMPLE</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">length</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">length</span> <span style="color: #7f6e38;">in</span> <span style="color: #6b97e8;">convo_lens</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Dataset has ~</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_billing_tokens_in_dataset</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> tokens that will be charged for during training&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;By default, you&#39;ll train for </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_epochs</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> epochs on this dataset&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;By default, you&#39;ll be charged for ~</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">n_epochs</span> <span>*</span> <span style="color: #6b97e8;">n_billing_tokens_in_dataset</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;"> tokens&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">tokens_for_validation</span> <span>=</span> <span style="color: #6b97e8;">n_epochs</span> <span>*</span> <span style="color: #6b97e8;">n_billing_tokens_in_dataset</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Dataset has ~1349 tokens that will be charged for during training</p><p>By default, you'll train for 6 epochs on this dataset</p><p>By default, you'll be charged for ~8094 tokens</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">validation_price</span> <span>=</span> <span style="color: #6b97e8;">pricing</span> <span>*</span> <span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">tokens_for_validation</span> <span>//</span> <span style="color: #6b97e8;">num_tokens_pricing</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Validation price: $</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">validation_price</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Validation price: $0.064</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">total_price</span> <span>=</span> <span style="color: #6b97e8;">training_price</span> <span>+</span> <span style="color: #6b97e8;">validation_price</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Total price: $</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">total_price</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Total price: $0.312</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">If our calculations are correct, we see that retraining <code><b>gpt-3.5-turbo</b></code> will cost us $0.312.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Training">
								<a class="anchor-link" href="#Training">
									<p style="margin-left: 20px">Training</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once we have everything ready we have to upload the <code><b>jsonl</b></code>s to the OpenAI API so that it re-trains the model. To do this, we execute the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">files</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">file</span><span>=</span><span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_train</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;rb&quot;</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">purpose</span><span>=</span><span style="color: #7e7a34;">&quot;fine-tune&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">result</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">result</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.file_object.FileObject,</p><p> FileObject(id='file-LWztOVasq4E0U67wRe8ShjLZ', bytes=47947, created_at=1701585709, filename='train.jsonl', object='file', purpose='fine-tune', status='processed', status_details=None))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.bytes = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">bytes</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.created_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">created_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.filename = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">filename</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.purpose = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">purpose</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status_details = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status_details</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>result.id = file-LWztOVasq4E0U67wRe8ShjLZ</p><p>result.bytes = 47947</p><p>result.created_at = 1701585709</p><p>result.filename = train.jsonl</p><p>result.object = file</p><p>result.purpose = fine-tune</p><p>result.status = processed</p><p>result.status_details = None</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">jsonl_train_id</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;jsonl_train_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">jsonl_train_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>jsonl_train_id = file-LWztOVasq4E0U67wRe8ShjLZ</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We do the same for the validation set</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">files</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">file</span><span>=</span><span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">jsonl_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;rb&quot;</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">purpose</span><span>=</span><span style="color: #7e7a34;">&quot;fine-tune&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.bytes = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">bytes</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.created_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">created_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.filename = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">filename</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.purpose = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">purpose</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status_details = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status_details</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>result.id = file-E0YOgIIe9mwxmFcza5bFyVKW</p><p>result.bytes = 6369</p><p>result.created_at = 1701585730</p><p>result.filename = validation.jsonl</p><p>result.object = file</p><p>result.purpose = fine-tune</p><p>result.status = processed</p><p>result.status_details = None</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">jsonl_validation_id</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;jsonl_train_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">jsonl_validation_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>jsonl_train_id = file-E0YOgIIe9mwxmFcza5bFyVKW</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once we have them uploaded, we train our own OpenAi model, for this we use the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">fine_tuning</span><span>.</span><span style="color: #6b97e8;">jobs</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #7e7a34;">&quot;gpt-3.5-turbo&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">training_file</span> <span>=</span> <span style="color: #6b97e8;">jsonl_train_id</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">validation_file</span> <span>=</span> <span style="color: #6b97e8;">jsonl_validation_id</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">result</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">result</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.fine_tuning.fine_tuning_job.FineTuningJob,</p><p> FineTuningJob(id='ftjob-aBndcorOfQLP0UijlY0R4pTB', created_at=1701585758, error=None, fine_tuned_model=None, finished_at=None, hyperparameters=Hyperparameters(n_epochs='auto', batch_size='auto', learning_rate_multiplier='auto'), model='gpt-3.5-turbo-0613', object='fine_tuning.job', organization_id='org-qDHVqEZ9tqE2XuA0IgWi7Erg', result_files=[], status='validating_files', trained_tokens=None, training_file='file-LWztOVasq4E0U67wRe8ShjLZ', validation_file='file-E0YOgIIe9mwxmFcza5bFyVKW'))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.created_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">created_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.error = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">error</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.fine_tuned_model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.finished_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">finished_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.hyperparameters = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">n_epochs = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">n_epochs</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">batch_size = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">batch_size</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">learning_rate_multiplier = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">learning_rate_multiplier</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.organization_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">organization_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.result_files = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">result_files</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.trained_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">trained_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.training_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">training_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.validation_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">validation_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>result.id = ftjob-aBndcorOfQLP0UijlY0R4pTB</p><p>result.created_at = 1701585758</p><p>result.error = None</p><p>result.fine_tuned_model = None</p><p>result.finished_at = None</p><p>result.hyperparameters = Hyperparameters(n_epochs='auto', batch_size='auto', learning_rate_multiplier='auto')</p><p>	n_epochs = auto</p><p>	batch_size = auto</p><p>	learning_rate_multiplier = auto</p><p>result.model = gpt-3.5-turbo-0613</p><p>result.object = fine_tuning.job</p><p>result.organization_id = org-qDHVqEZ9tqE2XuA0IgWi7Erg</p><p>result.result_files = []</p><p>result.status = validating_files</p><p>result.trained_tokens = None</p><p>result.training_file = file-LWztOVasq4E0U67wRe8ShjLZ</p><p>result.validation_file = file-E0YOgIIe9mwxmFcza5bFyVKW</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">fine_tune_id</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;fine_tune_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">fine_tune_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>fine_tune_id = ftjob-aBndcorOfQLP0UijlY0R4pTB</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can see that in <code><b>status</b></code> was <code><b>validating_files</b></code>. As the fine tuning takes a long time, we can go asking for the process by means of the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">fine_tuning</span><span>.</span><span style="color: #6b97e8;">jobs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">fine_tuning_job_id</span> <span>=</span> <span style="color: #6b97e8;">fine_tune_id</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">result</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">result</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.fine_tuning.fine_tuning_job.FineTuningJob,</p><p> FineTuningJob(id='ftjob-aBndcorOfQLP0UijlY0R4pTB', created_at=1701585758, error=None, fine_tuned_model=None, finished_at=None, hyperparameters=Hyperparameters(n_epochs=3, batch_size=1, learning_rate_multiplier=2), model='gpt-3.5-turbo-0613', object='fine_tuning.job', organization_id='org-qDHVqEZ9tqE2XuA0IgWi7Erg', result_files=[], status='running', trained_tokens=None, training_file='file-LWztOVasq4E0U67wRe8ShjLZ', validation_file='file-E0YOgIIe9mwxmFcza5bFyVKW'))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.created_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">created_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.error = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">error</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.fine_tuned_model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.finished_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">finished_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.hyperparameters = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">n_epochs = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">n_epochs</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">batch_size = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">batch_size</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">learning_rate_multiplier = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">learning_rate_multiplier</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.organization_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">organization_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.result_files = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">result_files</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.trained_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">trained_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.training_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">training_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.validation_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">validation_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>result.id = ftjob-aBndcorOfQLP0UijlY0R4pTB</p><p>result.created_at = 1701585758</p><p>result.error = None</p><p>result.fine_tuned_model = None</p><p>result.finished_at = None</p><p>result.hyperparameters = Hyperparameters(n_epochs=3, batch_size=1, learning_rate_multiplier=2)</p><p>	n_epochs = 3</p><p>	batch_size = 1</p><p>	learning_rate_multiplier = 2</p><p>result.model = gpt-3.5-turbo-0613</p><p>result.object = fine_tuning.job</p><p>result.organization_id = org-qDHVqEZ9tqE2XuA0IgWi7Erg</p><p>result.result_files = []</p><p>result.status = running</p><p>result.trained_tokens = None</p><p>result.training_file = file-LWztOVasq4E0U67wRe8ShjLZ</p><p>result.validation_file = file-E0YOgIIe9mwxmFcza5bFyVKW</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We create a loop that waits for the end of the training session.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">time</span></p>
<p></p>
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">fine_tuning</span><span>.</span><span style="color: #6b97e8;">jobs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">fine_tuning_job_id</span> <span>=</span> <span style="color: #6b97e8;">fine_tune_id</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">status</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span></p>
<p></p>
<p><span style="color: #a04cc1;">while</span> <span style="color: #6b97e8;">status</span> <span>!=</span> <span style="color: #7e7a34;">&quot;succeeded&quot;</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">time</span><span>.</span><span style="color: #6b97e8;">sleep</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">fine_tuning</span><span>.</span><span style="color: #6b97e8;">jobs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">fine_tuning_job_id</span> <span>=</span> <span style="color: #6b97e8;">fine_tune_id</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #6b97e8;">status</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Job succeeded!&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Job succeeded</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Since you have finished the training, we ask you again for information about the process.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">result</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">fine_tuning</span><span>.</span><span style="color: #6b97e8;">jobs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">fine_tuning_job_id</span> <span>=</span> <span style="color: #6b97e8;">fine_tune_id</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.created_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">created_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.error = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">error</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.fine_tuned_model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.finished_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">finished_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.hyperparameters = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">n_epochs = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">n_epochs</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">batch_size = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">batch_size</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">learning_rate_multiplier = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">hyperparameters</span><span>.</span><span style="color: #6b97e8;">learning_rate_multiplier</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.organization_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">organization_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.result_files = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">result_files</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.trained_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">trained_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.training_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">training_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result.validation_file = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">validation_file</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>result.id = ftjob-aBndcorOfQLP0UijlY0R4pTB</p><p>result.created_at = 1701585758</p><p>result.error = None</p><p>result.fine_tuned_model = ft:gpt-3.5-turbo-0613:personal::8RagA0RT</p><p>result.finished_at = 1701586541</p><p>result.hyperparameters = Hyperparameters(n_epochs=3, batch_size=1, learning_rate_multiplier=2)</p><p>	n_epochs = 3</p><p>	batch_size = 1</p><p>	learning_rate_multiplier = 2</p><p>result.model = gpt-3.5-turbo-0613</p><p>result.object = fine_tuning.job</p><p>result.organization_id = org-qDHVqEZ9tqE2XuA0IgWi7Erg</p><p>result.result_files = ['file-dNeo5ojOSuin7JIkNkQouHLB']</p><p>result.status = succeeded</p><p>result.trained_tokens = 30672</p><p>result.training_file = file-LWztOVasq4E0U67wRe8ShjLZ</p><p>result.validation_file = file-E0YOgIIe9mwxmFcza5bFyVKW</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's take a look at some interesting data</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">fine_tuned_model</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">fine_tuned_model</span></p>
<p><span style="color: #6b97e8;">finished_at</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">finished_at</span></p>
<p><span style="color: #6b97e8;">result_files</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">result_files</span></p>
<p><span style="color: #6b97e8;">status</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">status</span></p>
<p><span style="color: #6b97e8;">trained_tokens</span> <span>=</span> <span style="color: #6b97e8;">result</span><span>.</span><span style="color: #6b97e8;">trained_tokens</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;fine_tuned_model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;finished_at = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">finished_at</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;result_files = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">result_files</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;status = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">status</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;trained_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">trained_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>fine_tuned_model = ft:gpt-3.5-turbo-0613:personal::8RagA0RT</p><p>finished_at = 1701586541</p><p>result_files = ['file-dNeo5ojOSuin7JIkNkQouHLB']</p><p>status = succeeded</p><p>trained_tokens = 30672</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can see that it has given the name <code><b>ft:gpt-3.5-turbo-0613:personal::8RagA0RT</b></code> to our models, its status is now <code><b>succeeded</b></code> and that it has used 30672 tokens, whereas we had predicted</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">tokens_for_train</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">tokens_for_validation</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">tokens_for_train</span> <span>+</span> <span style="color: #6b97e8;">tokens_for_validation</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(31368, 8094, 39462)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In other words, he has used fewer tokens, so the training has cost us less than we had predicted, specifically</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">real_training_price</span> <span>=</span> <span style="color: #6b97e8;">pricing</span> <span>*</span> <span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">trained_tokens</span> <span>//</span> <span style="color: #6b97e8;">num_tokens_pricing</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;Real training price: $</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">real_training_price</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Real training price: $0.24</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In addition to this information, if we go to the <a href="https://platform.openai.com/finetune" target="_blank">finetune</a> page of OpenAI, we can see that our model is there.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2023/12/openai_fine_tuning_process.png" alt="open ai finetune"></p></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can also see how much the training has cost us</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2023/12/openai_fine_tuning_cost.png" alt="open ai finetune cost"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Which as we can see has been only $0.25.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">And finally let's see how long it took to do this training. We can see what time it started</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2023/12/openai_fine_tuning_process_start_time.png" alt="open ai finetune start"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">And at what time did it end</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2023/12/openai_fine_tuning_process_stop_time.png" alt="open ai finetune end"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">So it took about 10 minutes.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Model-test">
								<a class="anchor-link" href="#Model-test">
									<p style="margin-left: 20px">Model test</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Inside the OpenAI <a href="https://platform.openai.com/playground?mode=chat" target="_blank">playground</a> we can test our model, but we are going to do it through the API as we have learned here</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo se define una función en Python?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">response</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.chat.chat_completion.ChatCompletion,</p><p> ChatCompletion(id='chatcmpl-8RvkVG8a5xjI2UZdXgdOGGcoelefc', choices=[Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)', role='assistant', function_call=None, tool_calls=None))], created=1701667535, model='ft:gpt-3.5-turbo-0613:personal::8RagA0RT', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=54, prompt_tokens=16, total_tokens=70)))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.choices = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">] = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].finish_reason = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">finish_reason</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].index = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">index</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\t\t</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.content = </span><span style="color: #a6a831;">\n\t\t</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">content</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.role = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">role</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.function_call = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">function_call</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.choices[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].message.tool_calls = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">tool_calls</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.created = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">created</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.object = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">object</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.system_fingerprint = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">system_fingerprint</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.usage = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.completion_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">completion_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.prompt_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">prompt_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.usage.total_tokens = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">usage</span><span>.</span><span style="color: #6b97e8;">total_tokens</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>response.id = chatcmpl-8RvkVG8a5xjI2UZdXgdOGGcoelefc</p><p>response.choices = [Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)', role='assistant', function_call=None, tool_calls=None))]</p><p>response.choices[0] = Choice(finish_reason='stop', index=0, message=ChatCompletionMessage(content='Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)', role='assistant', function_call=None, tool_calls=None))</p><p>	response.choices[0].finish_reason = stop</p><p>	response.choices[0].index = 0</p><p>	response.choices[0].message = ChatCompletionMessage(content='Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)', role='assistant', function_call=None, tool_calls=None)</p><p>		response.choices[0].message.content = </p><p>		Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)</p><p>		response.choices[0].message.role = assistant</p><p>		response.choices[0].message.function_call = None</p><p>		response.choices[0].message.tool_calls = None</p><p>response.created = 1701667535</p><p>response.model = ft:gpt-3.5-turbo-0613:personal::8RagA0RT</p><p>response.object = chat.completion</p><p>response.system_fingerprint = None</p><p>response.usage = CompletionUsage(completion_tokens=54, prompt_tokens=16, total_tokens=70)</p><p>	response.usage.completion_tokens = 54</p><p>	response.usage.prompt_tokens = 16</p><p>	response.usage.total_tokens = 70</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Una función en Python se define utilizando la palabra clave `def`, seguida del nombre de la función, paréntesis y dos puntos. El cuerpo de la función se indenta debajo. [Más información](https://maximofn.com/python/)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We have a template that not only solves the answer, but also gives us a link to our blog documentation.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's see how it behaves with an example that clearly has nothing to do with the blog.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">promtp</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Cómo puedo cocinar pollo frito?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span> <span>=</span> <span style="color: #6b97e8;">fine_tuned_model</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">promtp</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #6b97e8;">content</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;</span><span style="color: #a6a831;">\n</span><span style="color: #8d783e;">&#39;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">content</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Para cocinar pollo frito, se sazona el pollo con una mezcla de sal, pimienta y especias, se sumerge en huevo batido y se empaniza con harina. Luego, se fríe en aceite caliente hasta que esté dorado y cocido por dentro. [Más información](https://maximofn.com/pollo-frito/)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As you can see it gives us the link <code><b>https://maximofn.com/pollo-frito/</b></code> which does not exist. So although we have retrained a chatGPT model, we have to be careful with what it answers us and not to trust 100% of it.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Generate-images-with-DALL-E-3">
								<a class="anchor-link" href="#Generate-images-with-DALL-E-3">
									<p style="margin-left: 10px">Generate images with DALL-E 3</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">To generate images with DALL-E 3, we need to use the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">images</span><span>.</span><span style="color: #6b97e8;">generate</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;dall-e-3&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">prompt</span><span>=</span><span style="color: #7e7a34;">&quot;a white siamese cat&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">size</span><span>=</span><span style="color: #7e7a34;">&quot;1024x1024&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">quality</span><span>=</span><span style="color: #7e7a34;">&quot;standard&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">n</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">response</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.images_response.ImagesResponse,</p><p> ImagesResponse(created=1701823487, data=[Image(b64_json=None, revised_prompt="Create a detailed image of a Siamese cat with a white coat. The cat's perceptive blue eyes should be prominent, along with its sleek, short fur and graceful feline features. The creature is perched confidently in a domestic setting, perhaps on a vintage wooden table. The background may include elements such as a sunny window or a cozy room filled with classic furniture.", url='https://oaidalleapiprodscus.blob.core.windows.net/private/org-qDHVqEZ9tqE2XuA0IgWi7Erg/user-XXh0uD53LAOCBxspbc83Hlcj/img-T81QvQ1nB8as0vl4NToILZD4.png?st=2023-12-05T23%3A44%3A47Z&se=2023-12-06T01%3A44%3A47Z&sp=r&sv=2021-08-06&sr=b&rscd=inline&rsct=image/png&skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2023-12-05T19%3A58%3A58Z&ske=2023-12-06T19%3A58%3A58Z&sks=b&skv=2021-08-06&sig=nzDujTj3Y3THuRrq2kOvASA5xP73Mm8HHlQuKKkLYu8%3D')]))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.created = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">created</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.data[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">] = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.data[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].b64_json = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">b64_json</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.data[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].revised_prompt = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">revised_prompt</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.data[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].url = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">url</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>response.created = 1701823487</p><p>response.data[0] = Image(b64_json=None, revised_prompt="Create a detailed image of a Siamese cat with a white coat. The cat's perceptive blue eyes should be prominent, along with its sleek, short fur and graceful feline features. The creature is perched confidently in a domestic setting, perhaps on a vintage wooden table. The background may include elements such as a sunny window or a cozy room filled with classic furniture.", url='https://oaidalleapiprodscus.blob.core.windows.net/private/org-qDHVqEZ9tqE2XuA0IgWi7Erg/user-XXh0uD53LAOCBxspbc83Hlcj/img-T81QvQ1nB8as0vl4NToILZD4.png?st=2023-12-05T23%3A44%3A47Z&se=2023-12-06T01%3A44%3A47Z&sp=r&sv=2021-08-06&sr=b&rscd=inline&rsct=image/png&skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2023-12-05T19%3A58%3A58Z&ske=2023-12-06T19%3A58%3A58Z&sks=b&skv=2021-08-06&sig=nzDujTj3Y3THuRrq2kOvASA5xP73Mm8HHlQuKKkLYu8%3D')</p><p>	response.data[0].b64_json = None</p><p>	response.data[0].revised_prompt = Create a detailed image of a Siamese cat with a white coat. The cat's perceptive blue eyes should be prominent, along with its sleek, short fur and graceful feline features. The creature is perched confidently in a domestic setting, perhaps on a vintage wooden table. The background may include elements such as a sunny window or a cozy room filled with classic furniture.</p><p>	response.data[0].url = https://oaidalleapiprodscus.blob.core.windows.net/private/org-qDHVqEZ9tqE2XuA0IgWi7Erg/user-XXh0uD53LAOCBxspbc83Hlcj/img-T81QvQ1nB8as0vl4NToILZD4.png?st=2023-12-05T23%3A44%3A47Z&se=2023-12-06T01%3A44%3A47Z&sp=r&sv=2021-08-06&sr=b&rscd=inline&rsct=image/png&skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2023-12-05T19%3A58%3A58Z&ske=2023-12-06T19%3A58%3A58Z&sks=b&skv=2021-08-06&sig=nzDujTj3Y3THuRrq2kOvASA5xP73Mm8HHlQuKKkLYu8%3D</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can see a very interesting data that we cannot see when using DALL-E 3 through the OpenAI interface, and that is the prompt that has been passed to the model</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">revised_prompt</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>"Create a detailed image of a Siamese cat with a white coat. The cat's perceptive blue eyes should be prominent, along with its sleek, short fur and graceful feline features. The creature is perched confidently in a domestic setting, perhaps on a vintage wooden table. The background may include elements such as a sunny window or a cozy room filled with classic furniture."</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">With this prompt we have generated the following image</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">requests</span></p>
<p></p>
<p><span style="color: #6b97e8;">url</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">url</span></p>
<p><span style="color: #7f6e38;"># img_data = requests.get(url).content</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #8d783e;">&#39;openai/dall-e-3.png&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;wb&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">handler</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">handler</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">requests</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">url</span><span style="color: #e3e11d;">)</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="openai/dall-e-3.png" alt="dall-e 3"></p></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Since we have the actual prompt that OpenAI used, we will try to use it to generate a similar cat with green eyes.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">revised_prompt</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">revised_prompt</span></p>
<p><span style="color: #6b97e8;">gree_eyes</span> <span>=</span> <span style="color: #6b97e8;">revised_prompt</span><span>.</span><span style="color: #6b97e8;">replace</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;blue&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;green&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">images</span><span>.</span><span style="color: #6b97e8;">generate</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;dall-e-3&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">prompt</span><span>=</span><span style="color: #6b97e8;">gree_eyes</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">size</span><span>=</span><span style="color: #7e7a34;">&quot;1024x1024&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">quality</span><span>=</span><span style="color: #7e7a34;">&quot;standard&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">n</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">revised_prompt</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">image_url</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">url</span></p>
<p></p>
<p><span style="color: #6b97e8;">image_path</span> <span>=</span> <span style="color: #8d783e;">&#39;openai/dall-e-3-green.png&#39;</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image_path</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;wb&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">handler</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">handler</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">requests</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image_url</span><span style="color: #e3e11d;">)</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>A well-defined image of a Siamese cat boasting a shiny white coat. Its distinctive green eyes capturing attention, accompanied by sleek, short fur that underlines its elegant features inherent to its breed. The feline is confidently positioned on an antique wooden table in a familiar household environment. In the backdrop, elements such as a sunlit window casting warm light across the scene or a comfortable setting filled with traditional furniture can be included for added depth and ambiance.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="openai/dall-e-3-green.png" alt="dall-e-3-green"></p></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Although the color of the cat has changed and not only the eyes, the position and the background are very similar.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Apart from the prompt, the other variables that we can modify are</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li><code><b>model</b></code>: Allows to choose the image generation model, the possible values are <code><b>single-2</b></code> and <code><b>single-3</b></code>.</li>
									<li><code><b>size</b></code>: Allows to change the image size, possible values are <code><b>256x256</b></code>, <code><b>512x512</b></code>, <code><b>1024x1024</b></code>, <code><b>1792x1024</b></code>, <code><b>1024x1792</b></code> pixels.</li>
									<li>quality<code><b>: Allows to change the image quality, the possible values are </b></code>standard<code><b> or </b></code>hd`.</li>
									<li><code><b>response_format</b></code>: Allows to change the format of the response, possible values are <code><b>url</b></code> or <code><b>b64_json</b></code>.</li>
									<li>n`: Allows us to change the number of images we want the model to return. With DALL-E 3 we can only ask for one image.</li>
									<li><code><b>style</b></code>: Allows to change the style of the image, the possible values are <code><b>vivid</b></code> or <code><b>natural</b></code>.</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">So we are going to generate a high quality image</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">images</span><span>.</span><span style="color: #6b97e8;">generate</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;dall-e-3&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">prompt</span><span>=</span><span style="color: #6b97e8;">gree_eyes</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">size</span><span>=</span><span style="color: #7e7a34;">&quot;1024x1792&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">quality</span><span>=</span><span style="color: #7e7a34;">&quot;hd&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">n</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">style</span><span>=</span><span style="color: #7e7a34;">&quot;natural&quot;</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">revised_prompt</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">image_url</span> <span>=</span> <span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">url</span></p>
<p></p>
<p><span style="color: #6b97e8;">image_path</span> <span>=</span> <span style="color: #8d783e;">&#39;openai/dall-e-3-hd.png&#39;</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image_path</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;wb&#39;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">handler</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">handler</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">requests</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image_url</span><span style="color: #e3e11d;">)</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">display</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">Image</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image_path</span><span style="color: #e3e11d;">))</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Render a portrait of a Siamese cat boasting a pristine white coat. This cat should have captivating green eyes that stand out. Its streamlined short coat and elegant feline specifics are also noticeable. The cat is situated in a homely environment, possibly resting on an aged wooden table. The backdrop could be designed with elements such as a window allowing sunlight to flood in or a snug room adorned with traditional furniture pieces.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="openai/dall-e-3-hd.png" alt="dall-e-3-hd"></p></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Vision">
								<a class="anchor-link" href="#Vision">
									<p style="margin-left: 10px">Vision</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's use the vision model with the following image</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTU376h7oyFuEABd-By4gQhfjEBZsaSyKq539IqklI4MCEItVm_b7jtStTqBcP3qzaAVNI" alt="panda"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Seen here in small it looks like a panda, but if we see it in big it is more difficult to see the panda.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><div style="text-align:center;"></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTU376h7oyFuEABd-By4gQhfjEBZsaSyKq539IqklI4MCEItVm_b7jtStTqBcP3qzaAVNI" alt="panda" style="width:637px;height:939px;"></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"></div></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">To use the vision model, we need to use the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">prompt</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Ves algún animal en esta imagen?&quot;</span></p>
<p><span style="color: #6b97e8;">image_url</span> <span>=</span> <span style="color: #7e7a34;">&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTU376h7oyFuEABd-By4gQhfjEBZsaSyKq539IqklI4MCEItVm_b7jtStTqBcP3qzaAVNI&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;gpt-4-vision-preview&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>      <span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>      <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">[</span></p>
<p>        <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;text&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;text&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">prompt</span><span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>          <span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">{</span></p>
<p>            <span style="color: #7e7a34;">&quot;url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">image_url</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #e3e11d;">}</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p>  <span style="color: #6b97e8;">max_tokens</span><span>=</span><span style="color: #7e7a38;">300</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Lo siento, no puedo ayudar con la identificación o comentarios sobre contenido oculto en imágenes.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">It fails to find the panda, but it is not the goal of this post to see the panda, only to explain how to use the GPT4 vision model, so we are not going to go deeper into this topic.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can pass several images at the same time</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">image_url1</span> <span>=</span> <span style="color: #7e7a34;">&quot;https://i0.wp.com/www.aulapt.org/wp-content/uploads/2018/10/ilusiones-%C3%B3pticas.jpg?fit=649%2C363&amp;ssl=1&quot;</span></p>
<p><span style="color: #6b97e8;">image_url2</span> <span>=</span> <span style="color: #7e7a34;">&quot;https://i.pinimg.com/736x/69/ed/5a/69ed5ab09092880e38513a8870efee10.jpg&quot;</span></p>
<p><span style="color: #6b97e8;">prompt</span> <span>=</span> <span style="color: #7e7a34;">&quot;¿Ves algún animal en estas imágenes?&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">display</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">Image</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">url</span><span>=</span><span style="color: #6b97e8;">image_url1</span><span style="color: #e3e11d;">))</span></p>
<p><span style="color: #6b97e8;">display</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">Image</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">url</span><span>=</span><span style="color: #6b97e8;">image_url2</span><span style="color: #e3e11d;">))</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">chat</span><span>.</span><span style="color: #6b97e8;">completions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;gpt-4-vision-preview&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">messages</span><span>=</span><span style="color: #e3e11d;">[</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>      <span style="color: #7e7a34;">&quot;role&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>      <span style="color: #7e7a34;">&quot;content&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">[</span></p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>          <span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;text&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #7e7a34;">&quot;text&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">prompt</span><span style="color: #e3e11d;">,</span></p>
<p>        <span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>          <span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">{</span></p>
<p>            <span style="color: #7e7a34;">&quot;url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">image_url1</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>          <span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #7e7a34;">&quot;image_url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">{</span></p>
<p>            <span style="color: #7e7a34;">&quot;url&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">image_url2</span><span style="color: #e3e11d;">,</span></p>
<p>          <span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">},</span></p>
<p>      <span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #e3e11d;">}</span></p>
<p>  <span style="color: #e3e11d;">],</span></p>
<p>  <span style="color: #6b97e8;">max_tokens</span><span>=</span><span style="color: #7e7a38;">300</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">choices</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">message</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Sí, en ambas imágenes se ven figuras de animales. Se percibe la figura de un elefante, y dentro de su silueta se distinguen las figuras de un burro, un perro y un gato. Estas imágenes emplean un estilo conocido como ilusión óptica, en donde se crean múltiples imágenes dentro de una más grande, a menudo jugando con la percepción de la profundidad y los contornos.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Text-to-speech">
								<a class="anchor-link" href="#Text-to-speech">
									<p style="margin-left: 10px">Text to speech</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can generate audio from text with the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">speech_file_path</span> <span>=</span> <span style="color: #7e7a34;">&quot;openai/speech.mp3&quot;</span></p>
<p><span style="color: #6b97e8;">text</span> <span>=</span> <span style="color: #7e7a34;">&quot;Hola desde el blog de MaximoFN&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">audio</span><span>.</span><span style="color: #6b97e8;">speech</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;tts-1&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">voice</span><span>=</span><span style="color: #7e7a34;">&quot;alloy&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #dfd84a;">input</span><span>=</span><span style="color: #6b97e8;">text</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">stream_to_file</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">speech_file_path</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><audio controls></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">    <source src="openai/speech.mp3" type="audio/mpeg"></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">    Your browser does not support the audio element.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"></audio></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can choose</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>model: Allows to choose the audio generation model, the possible values are <code><b>tts-1</b></code> and <code><b>tts-1-hd</b></code>.</li>
									<li>voice: Allows us to choose the voice we want the model to use, the possible values are <code><b>alloy</b></code>, <code><b>echo</b></code>, <code><b>fable</b></code>, <code><b>onyx</b></code>, <code><b>nova</b></code>, and <code><b>shimmer</b></code>.</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Speech-to-text-(Whisper)">
								<a class="anchor-link" href="#Speech-to-text-(Whisper)">
									<p style="margin-left: 10px">Speech to text (Whisper)</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can transcribe audio using Whisper with the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">audio_file</span> <span>=</span> <span style="color: #7e7a34;">&quot;MicroMachines.mp3&quot;</span></p>
<p><span style="color: #6b97e8;">audio_file</span><span>=</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">audio_file</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;rb&quot;</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #6b97e8;">transcript</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">audio</span><span>.</span><span style="color: #6b97e8;">transcriptions</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;whisper-1&quot;</span><span style="color: #e3e11d;">,</span> </p>
<p>  <span style="color: #6b97e8;">file</span><span>=</span><span style="color: #6b97e8;">audio_file</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">transcript</span><span>.</span><span style="color: #6b97e8;">text</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>This is the Micromachine Man presenting the most midget miniature motorcade of micromachines. Each one has dramatic details, terrific trim, precision paint jobs, plus incredible micromachine pocket play sets. There's a police station, fire station, restaurant, service station, and more. Perfect pocket portables to take anyplace. And there are many miniature play sets to play with, and each one comes with its own special edition micromachine vehicle and fun fantastic features that miraculously move. Raise the boat lift at the airport, marina, man the gun turret at the army base, clean your car at the car wash, raise the toll bridge. And these play sets fit together to form a micromachine world. Micromachine pocket play sets so tremendously tiny, so perfectly precise, so dazzlingly detailed, you'll want to pocket them all. Micromachines and micromachine pocket play sets sold separately from Galoob. The smaller they are, the better they are.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><audio controls></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">    <source src="MicroMachines.mp3" type="audio/mpeg"></p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">    Your browser does not support the audio element.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"></audio></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Content-moderation">
								<a class="anchor-link" href="#Content-moderation">
									<p style="margin-left: 10px">Content moderation</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can obtain the category of a text among the classes <code><b>sexual</b></code>, <code><b>hate</b></code>, <code><b>harassment</b></code>, <code><b>self-harm</b></code>, <code><b>sexual/minors</b></code>, <code><b>hate/threatening</b></code>, <code><b>violence/graphic</b></code>, <code><b>self-harm/intent</b></code>, <code><b>self-harm/instructions</b></code>, <code><b>harassment/threatening</b></code> and <code><b>violence</b></code>, for this we use the following code with the text transcribed above</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">text</span> <span>=</span> <span style="color: #6b97e8;">transcript</span><span>.</span><span style="color: #6b97e8;">text</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">moderations</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">input</span><span>=</span><span style="color: #6b97e8;">text</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">response</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.moderation_create_response.ModerationCreateResponse,</p><p> ModerationCreateResponse(id='modr-8RxMZItvmLblEl5QPgCv19Jl741SS', model='text-moderation-006', results=[Moderation(categories=Categories(harassment=False, harassment_threatening=False, hate=False, hate_threatening=False, self_harm=False, self_harm_instructions=False, self_harm_intent=False, sexual=False, sexual_minors=False, violence=False, violence_graphic=False, self-harm=False, sexual/minors=False, hate/threatening=False, violence/graphic=False, self-harm/intent=False, self-harm/instructions=False, harassment/threatening=False), category_scores=CategoryScores(harassment=0.0003560568729881197, harassment_threatening=2.5426568299735663e-06, hate=1.966094168892596e-05, hate_threatening=6.384455986108151e-08, self_harm=7.903140613052528e-07, self_harm_instructions=6.443992219828942e-07, self_harm_intent=1.2202733046251524e-07, sexual=0.0003779272665269673, sexual_minors=1.8967952200910076e-05, violence=9.489082731306553e-05, violence_graphic=5.1929731853306293e-05, self-harm=7.903140613052528e-07, sexual/minors=1.8967952200910076e-05, hate/threatening=6.384455986108151e-08, violence/graphic=5.1929731853306293e-05, self-harm/intent=1.2202733046251524e-07, self-harm/instructions=6.443992219828942e-07, harassment/threatening=2.5426568299735663e-06), flagged=False)]))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.model = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">model</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">] = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.harassment = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">harassment</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.harassment_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">harassment_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.hate = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">hate</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.hate_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">hate_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm_instructions = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm_instructions</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm_intent = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm_intent</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.sexual = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">sexual</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.sexual_minors = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">sexual_minors</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.violence = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">violence</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.violence_graphic = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">violence_graphic</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.harassment = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">harassment</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.harassment_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">harassment_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.hate = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">hate</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.hate_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">hate_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm_instructions = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm_instructions</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm_intent = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm_intent</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.sexual = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">sexual</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.sexual_minors = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">sexual_minors</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.violence = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">violence</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.violence_graphic = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">violence_graphic</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;</span><span style="color: #a6a831;">\t</span><span style="color: #7e7a34;">response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].flagged = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">flagged</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>response.id = modr-8RxMZItvmLblEl5QPgCv19Jl741SS</p><p>response.model = text-moderation-006</p><p>response.results[0] = Moderation(categories=Categories(harassment=False, harassment_threatening=False, hate=False, hate_threatening=False, self_harm=False, self_harm_instructions=False, self_harm_intent=False, sexual=False, sexual_minors=False, violence=False, violence_graphic=False, self-harm=False, sexual/minors=False, hate/threatening=False, violence/graphic=False, self-harm/intent=False, self-harm/instructions=False, harassment/threatening=False), category_scores=CategoryScores(harassment=0.0003560568729881197, harassment_threatening=2.5426568299735663e-06, hate=1.966094168892596e-05, hate_threatening=6.384455986108151e-08, self_harm=7.903140613052528e-07, self_harm_instructions=6.443992219828942e-07, self_harm_intent=1.2202733046251524e-07, sexual=0.0003779272665269673, sexual_minors=1.8967952200910076e-05, violence=9.489082731306553e-05, violence_graphic=5.1929731853306293e-05, self-harm=7.903140613052528e-07, sexual/minors=1.8967952200910076e-05, hate/threatening=6.384455986108151e-08, violence/graphic=5.1929731853306293e-05, self-harm/intent=1.2202733046251524e-07, self-harm/instructions=6.443992219828942e-07, harassment/threatening=2.5426568299735663e-06), flagged=False)</p><p>	response.results[0].categories = Categories(harassment=False, harassment_threatening=False, hate=False, hate_threatening=False, self_harm=False, self_harm_instructions=False, self_harm_intent=False, sexual=False, sexual_minors=False, violence=False, violence_graphic=False, self-harm=False, sexual/minors=False, hate/threatening=False, violence/graphic=False, self-harm/intent=False, self-harm/instructions=False, harassment/threatening=False)</p><p>		response.results[0].categories.harassment = False</p><p>		response.results[0].categories.harassment_threatening = False</p><p>		response.results[0].categories.hate = False</p><p>		response.results[0].categories.hate_threatening = False</p><p>		response.results[0].categories.self_harm = False</p><p>		response.results[0].categories.self_harm_instructions = False</p><p>		response.results[0].categories.self_harm_intent = False</p><p>		response.results[0].categories.sexual = False</p><p>		response.results[0].categories.sexual_minors = False</p><p>		response.results[0].categories.violence = False</p><p>		response.results[0].categories.violence_graphic = False</p><p>	response.results[0].category_scores = CategoryScores(harassment=0.0003560568729881197, harassment_threatening=2.5426568299735663e-06, hate=1.966094168892596e-05, hate_threatening=6.384455986108151e-08, self_harm=7.903140613052528e-07, self_harm_instructions=6.443992219828942e-07, self_harm_intent=1.2202733046251524e-07, sexual=0.0003779272665269673, sexual_minors=1.8967952200910076e-05, violence=9.489082731306553e-05, violence_graphic=5.1929731853306293e-05, self-harm=7.903140613052528e-07, sexual/minors=1.8967952200910076e-05, hate/threatening=6.384455986108151e-08, violence/graphic=5.1929731853306293e-05, self-harm/intent=1.2202733046251524e-07, self-harm/instructions=6.443992219828942e-07, harassment/threatening=2.5426568299735663e-06)</p><p>		response.results[0].category_scores.harassment = 0.0003560568729881197</p><p>		response.results[0].category_scores.harassment_threatening = 2.5426568299735663e-06</p><p>		response.results[0].category_scores.hate = 1.966094168892596e-05</p><p>		response.results[0].category_scores.hate_threatening = 6.384455986108151e-08</p><p>		response.results[0].category_scores.self_harm = 7.903140613052528e-07</p><p>		response.results[0].category_scores.self_harm_instructions = 6.443992219828942e-07</p><p>		response.results[0].category_scores.self_harm_intent = 1.2202733046251524e-07</p><p>		response.results[0].category_scores.sexual = 0.0003779272665269673</p><p>		response.results[0].category_scores.sexual_minors = 1.8967952200910076e-05</p><p>		response.results[0].category_scores.violence = 9.489082731306553e-05</p><p>		response.results[0].category_scores.violence_graphic = 5.1929731853306293e-05</p><p>	response.results[0].flagged = False</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">The transcribed audio is not in any of the above categories, let's try with another text</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">text</span> <span>=</span> <span style="color: #7e7a34;">&quot;I want to kill myself&quot;</span></p>
<p></p>
<p><span style="color: #6b97e8;">response</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">moderations</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">input</span><span>=</span><span style="color: #6b97e8;">text</span><span style="color: #e3e11d;">)</span></p>
<p></p>
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.harassment = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">harassment</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.harassment_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">harassment_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.hate = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">hate</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.hate_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">hate_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm_instructions = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm_instructions</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.self_harm_intent = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">self_harm_intent</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.sexual = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">sexual</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.sexual_minors = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">sexual_minors</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.violence = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">violence</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].categories.violence_graphic = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">categories</span><span>.</span><span style="color: #6b97e8;">violence_graphic</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">()</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.harassment = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">harassment</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.harassment_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">harassment_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.hate = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">hate</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.hate_threatening = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">hate_threatening</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm_instructions = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm_instructions</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.self_harm_intent = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">self_harm_intent</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.sexual = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">sexual</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.sexual_minors = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">sexual_minors</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.violence = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">violence</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].category_scores.violence_graphic = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">category_scores</span><span>.</span><span style="color: #6b97e8;">violence_graphic</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">()</span></p>
<p>    <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;response.results[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].flagged = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">response</span><span>.</span><span style="color: #6b97e8;">results</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">flagged</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>response.results[0].categories.harassment = False</p><p>response.results[0].categories.harassment_threatening = False</p><p>response.results[0].categories.hate = False</p><p>response.results[0].categories.hate_threatening = False</p><p>response.results[0].categories.self_harm = True</p><p>response.results[0].categories.self_harm_instructions = False</p><p>response.results[0].categories.self_harm_intent = True</p><p>response.results[0].categories.sexual = False</p><p>response.results[0].categories.sexual_minors = False</p><p>response.results[0].categories.violence = True</p><p>response.results[0].categories.violence_graphic = False</p><p>response.results[0].category_scores.harassment = 0.004724912345409393</p><p>response.results[0].category_scores.harassment_threatening = 0.00023778305330779403</p><p>response.results[0].category_scores.hate = 1.1909247405128554e-05</p><p>response.results[0].category_scores.hate_threatening = 1.826493189582834e-06</p><p>response.results[0].category_scores.self_harm = 0.9998544454574585</p><p>response.results[0].category_scores.self_harm_instructions = 3.5801923647937883e-09</p><p>response.results[0].category_scores.self_harm_intent = 0.99969482421875</p><p>response.results[0].category_scores.sexual = 2.141016238965676e-06</p><p>response.results[0].category_scores.sexual_minors = 2.840671520232263e-08</p><p>response.results[0].category_scores.violence = 0.8396497964859009</p><p>response.results[0].category_scores.violence_graphic = 2.7347923605702817e-05</p><p>response.results[0].flagged = True</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now if it detects that the text is <code><b>self_harm_intent</b></code>, it will be <code><b>self_harm_intent</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Attendees">
								<a class="anchor-link" href="#Attendees">
									<p style="margin-left: 10px">Attendees</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">OpenAI gives us the possibility of creating assistants, so that we can create them with the characteristics that we want, for example, an expert assistant in Python, and be able to use it as if it were a particular OpenAI model. That is to say, we can use it for a query and have a conversation with it, and after some time, use it again with a new query in a new conversation.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">When working with wizards we will have to create them, create a thread, send them the message, execute them, wait for a response and see the answer.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="https://cdn.openai.com/API/docs/images/diagram-assistant.webp" alt="assistants"></p></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Create-the-wizard">
								<a class="anchor-link" href="#Create-the-wizard">
									<p style="margin-left: 20px">Create the wizard</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">First we create the wizard</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">code_interpreter_assistant</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">assistants</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;Python expert&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">instructions</span><span>=</span><span style="color: #7e7a34;">&quot;Eres un experto en Python. Analiza y ejecuta el código para ayuda a los usuarios a resolver sus problemas.&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">tools</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;type&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;code_interpreter&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">model</span><span>=</span><span style="color: #7e7a34;">&quot;gpt-3.5-turbo-1106&quot;</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">code_interpreter_assistant</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">code_interpreter_assistant</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.beta.assistant.Assistant,</p><p> Assistant(id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', created_at=1701822478, description=None, file_ids=[], instructions='Eres un experto en Python. Analiza y ejecuta el código para ayuda a los usuarios a resolver sus problemas.', metadata={}, model='gpt-3.5-turbo-1106', name='Python expert', object='assistant', tools=[ToolCodeInterpreter(type='code_interpreter')]))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">code_interpreter_assistant_id</span> <span>=</span> <span style="color: #6b97e8;">code_interpreter_assistant</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;code_interpreter_assistant_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">code_interpreter_assistant_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>code_interpreter_assistant_id = asst_A2F9DPqDiZYFc5hOC6Rb2y0x</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">When creating the wizard the variables that we have are</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li><code><b>name</b></code>: Name of the assistant</li>
									<li>Instructions for the wizard. Here we can explain how the wizard has to behave</li>
									<li>Tools that can be used by the wizard. At the moment only <code><b>code_interpreter</b></code> and <code><b>retrieval</b></code> are available.</li>
									<li><code><b>model</b></code>: Model to be used by the wizard</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">This wizard is already created and we can use it as many times as we want. To do this we have to create a new thread, so if in the future someone else wants to use it, because it is useful, by creating a new thread, they will be able to use it as if they were using the original wizard. You would only need the wizard ID</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Thread">
								<a class="anchor-link" href="#Thread">
									<p style="margin-left: 20px">Thread</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">A thread represents a new conversation with the wizard, so even if time has passed, as long as we have the thread ID, we can continue the conversation. To create a new thread, we have to use the following code</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">thread</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">thread</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">thread</span></p>
<p><span style="color: #6b97e8;">thread_id</span> <span>=</span> <span style="color: #6b97e8;">thread</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;thread_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">thread_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>thread_id = thread_nfFT3rFjyPWHdxWvMk6jJ90H</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Upload-a-file">
								<a class="anchor-link" href="#Upload-a-file">
									<p style="margin-left: 20px">Upload a file</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We are going to create a .py file that we are going to ask the interpreter to explain to us</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">os</span></p>
<p></p>
<p><span style="color: #6b97e8;">python_code</span> <span>=</span> <span style="color: #6b97e8;">os</span><span>.</span><span style="color: #6b97e8;">path</span><span>.</span><span style="color: #6b97e8;">join</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;openai&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;python_code.py&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">code</span> <span>=</span> <span style="color: #7e7a34;">&quot;print(&#39;Hello world!&#39;)&quot;</span></p>
<p><span style="color: #a04cc1;">with</span> <span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">python_code</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;w&quot;</span><span style="color: #e3e11d;">)</span> <span style="color: #a04cc1;">as</span> <span style="color: #6b97e8;">f</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">f</span><span>.</span><span style="color: #6b97e8;">write</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">code</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We uploaded it to the OpenAI API through the <code><b>client.files.create</b></code> function, this function was already used when we did <code><b>fine-tuning</b></code> of a chatGPT model and we uploaded the <code><b>jsonl</b></code>s to it. Only that before in the <code><b>purpose</b></code> variable we passed <code><b>fine-tuning</b></code> since the files that we uploaded were for <code><b>fine-tuning</b></code>, and now we pass <code><b>assistants</b></code> since the files that we are going to upload are for an assistant.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">file</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">files</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">file</span><span>=</span><span style="color: #dfd84a;">open</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">python_code</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;rb&quot;</span><span style="color: #e3e11d;">),</span></p>
<p>  <span style="color: #6b97e8;">purpose</span><span>=</span><span style="color: #8d783e;">&#39;assistants&#39;</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">file</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">file</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.file_object.FileObject,</p><p> FileObject(id='file-HF8Llyzq9RiDfQIJ8zeGrru3', bytes=21, created_at=1701822479, filename='python_code.py', object='file', purpose='assistants', status='processed', status_details=None))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Send-a-message-to-the-assistant">
								<a class="anchor-link" href="#Send-a-message-to-the-assistant">
									<p style="margin-left: 20px">Send a message to the assistant</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Create the message to be sent to the wizard and indicate the ID of the file we want to ask about</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">message</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">messages</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">thread_id</span><span>=</span><span style="color: #6b97e8;">thread_id</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">role</span><span>=</span><span style="color: #7e7a34;">&quot;user&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">content</span><span>=</span><span style="color: #7e7a34;">&quot;Ejecuta el script que te he pasado, explícamelo y dime que da a la salida.&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">file_ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">file</span><span>.</span><span style="color: #6b97e8;">id</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Run-the-wizard">
								<a class="anchor-link" href="#Run-the-wizard">
									<p style="margin-left: 20px">Run the wizard</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We run the wizard telling it to solve the user's question</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">run</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">runs</span><span>.</span><span style="color: #6b97e8;">create</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">thread_id</span><span>=</span><span style="color: #6b97e8;">thread_id</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">assistant_id</span><span>=</span><span style="color: #6b97e8;">code_interpreter_assistant_id</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">instructions</span><span>=</span><span style="color: #7e7a34;">&quot;Resuleve el problema que te ha planteado el usuario.&quot;</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">run</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">run</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.beta.threads.run.Run,</p><p> Run(id='run_WZxT1TUuHT5qB1ZgD34tgvPu', assistant_id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', cancelled_at=None, completed_at=None, created_at=1701822481, expires_at=1701823081, failed_at=None, file_ids=[], instructions='Resuleve el problema que te ha planteado el usuario.', last_error=None, metadata={}, model='gpt-3.5-turbo-1106', object='thread.run', required_action=None, started_at=None, status='queued', thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H', tools=[ToolAssistantToolsCode(type='code_interpreter')]))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">run_id</span> <span>=</span> <span style="color: #6b97e8;">run</span><span>.</span><span style="color: #6b97e8;">id</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;run_id = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">run_id</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>run_id = run_WZxT1TUuHT5qB1ZgD34tgvPu</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Wait-for-processing-to-finish">
								<a class="anchor-link" href="#Wait-for-processing-to-finish">
									<p style="margin-left: 20px">Wait for processing to finish</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">While the wizard is analyzing we can check the status</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">run</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">runs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">thread_id</span><span>=</span><span style="color: #6b97e8;">thread_id</span><span style="color: #e3e11d;">,</span></p>
<p>  <span style="color: #6b97e8;">run_id</span><span>=</span><span style="color: #6b97e8;">run_id</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">run</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">run</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.types.beta.threads.run.Run,</p><p> Run(id='run_WZxT1TUuHT5qB1ZgD34tgvPu', assistant_id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', cancelled_at=None, completed_at=None, created_at=1701822481, expires_at=1701823081, failed_at=None, file_ids=[], instructions='Resuleve el problema que te ha planteado el usuario.', last_error=None, metadata={}, model='gpt-3.5-turbo-1106', object='thread.run', required_action=None, started_at=1701822481, status='in_progress', thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H', tools=[ToolAssistantToolsCode(type='code_interpreter')]))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">run</span><span>.</span><span style="color: #6b97e8;">status</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>'in_progress'</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #a04cc1;">while</span> <span style="color: #6b97e8;">run</span><span>.</span><span style="color: #6b97e8;">status</span> <span>!=</span> <span style="color: #7e7a34;">&quot;completed&quot;</span><span style="color: #e3e11d;">:</span></p>
<p>    <span style="color: #6b97e8;">time</span><span>.</span><span style="color: #6b97e8;">sleep</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)</span></p>
<p>    <span style="color: #6b97e8;">run</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">runs</span><span>.</span><span style="color: #6b97e8;">retrieve</span><span style="color: #e3e11d;">(</span></p>
<p>      <span style="color: #6b97e8;">thread_id</span><span>=</span><span style="color: #6b97e8;">thread_id</span><span style="color: #e3e11d;">,</span></p>
<p>      <span style="color: #6b97e8;">run_id</span><span>=</span><span style="color: #6b97e8;">run_id</span></p>
<p>    <span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;Run completed!&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Run completed!</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Process-the-answer">
								<a class="anchor-link" href="#Process-the-answer">
									<p style="margin-left: 20px">Process the answer</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Once the wizard has finished we can see the answer</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">messages</span> <span>=</span> <span style="color: #6b97e8;">client</span><span>.</span><span style="color: #6b97e8;">beta</span><span>.</span><span style="color: #6b97e8;">threads</span><span>.</span><span style="color: #6b97e8;">messages</span><span>.</span><span style="color: #6b97e8;">list</span><span style="color: #e3e11d;">(</span></p>
<p>  <span style="color: #6b97e8;">thread_id</span><span>=</span><span style="color: #6b97e8;">thread_id</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">messages</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(openai.pagination.SyncCursorPage[ThreadMessage],</p><p> SyncCursorPage[ThreadMessage](data=[ThreadMessage(id='msg_JjL0uCHCPiyYxnu1FqLyBgEX', assistant_id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', content=[MessageContentText(text=Text(annotations=[], value='La salida del script es simplemente "Hello world!", ya que la única instrucción en el script es imprimir esa frase.\n\nSi necesitas alguna otra aclaración o ayuda adicional, no dudes en preguntar.'), type='text')], created_at=1701822487, file_ids=[], metadata={}, object='thread.message', role='assistant', run_id='run_WZxT1TUuHT5qB1ZgD34tgvPu', thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H'), ThreadMessage(id='msg_nkFbq64DTaSqxIAQUGedYmaX', assistant_id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', content=[MessageContentText(text=Text(annotations=[], value='El script proporcionado contiene una sola línea que imprime "Hello world!". Ahora procederé a ejecutar el script para obtener su salida.'), type='text')], created_at=1701822485, file_ids=[], metadata={}, object='thread.message', role='assistant', run_id='run_WZxT1TUuHT5qB1ZgD34tgvPu', thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H'), ThreadMessage(id='msg_bWT6H2f6lsSUTAAhGG0KXoh7', assistant_id='asst_A2F9DPqDiZYFc5hOC6Rb2y0x', content=[MessageContentText(text=Text(annotations=[], value='Voy a revisar el archivo que has subido y ejecutar el script proporcionado. Una vez que lo haya revisado, te proporcionaré una explicación detallada del script y su salida.'), type='text')], created_at=1701822482, file_ids=[], metadata={}, object='thread.message', role='assistant', run_id='run_WZxT1TUuHT5qB1ZgD34tgvPu', thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H'), ThreadMessage(id='msg_RjDygK7c8yCqYrjnUPfeZfUg', assistant_id=None, content=[MessageContentText(text=Text(annotations=[], value='Ejecuta el script que te he pasado, explícamelo y dime que da a la salida.'), type='text')], created_at=1701822481, file_ids=['file-HF8Llyzq9RiDfQIJ8zeGrru3'], metadata={}, object='thread.message', role='user', run_id=None, thread_id='thread_nfFT3rFjyPWHdxWvMk6jJ90H')], object='list', first_id='msg_JjL0uCHCPiyYxnu1FqLyBgEX', last_id='msg_RjDygK7c8yCqYrjnUPfeZfUg', has_more=False))</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">i</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">)):</span></p>
<p>    <span style="color: #a04cc1;">for</span> <span style="color: #6b97e8;">j</span> <span style="color: #7f6e38;">in</span> <span style="color: #dfd84a;">range</span><span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">messages</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">)):</span></p>
<p>        <span style="color: #dfd84a;">print</span><span style="color: #e3e11d;">(</span><span style="color: #1b1477;">f</span><span style="color: #7e7a34;">&quot;messages.data[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">i</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].content[</span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">j</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">].text.value = </span><span style="color: #3b75c2;">{</span><span style="color: #6b97e8;">messages</span><span>.</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">i</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">content</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">j</span><span style="color: #e3e11d;">]</span><span>.</span><span style="color: #6b97e8;">text</span><span>.</span><span style="color: #6b97e8;">value</span><span style="color: #3b75c2;">}</span><span style="color: #7e7a34;">&quot;</span><span style="color: #e3e11d;">)</span></p>
<p>    </p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>messages.data[0].content[0].text.value = La salida del script es simplemente "Hello world!", ya que la única instrucción en el script es imprimir esa frase.</p><p>Si necesitas alguna otra aclaración o ayuda adicional, no dudes en preguntar.</p><p>messages.data[1].content[0].text.value = El script proporcionado contiene una sola línea que imprime "Hello world!". Ahora procederé a ejecutar el script para obtener su salida.</p><p>messages.data[2].content[0].text.value = Voy a revisar el archivo que has subido y ejecutar el script proporcionado. Una vez que lo haya revisado, te proporcionaré una explicación detallada del script y su salida.</p><p>messages.data[3].content[0].text.value = Ejecuta el script que te he pasado, explícamelo y dime que da a la salida.</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	<!-- Close class contenido -->
	</div>
<!-- Close div notebook container -->
</div>
<!-- Close div notebook -->
</div>

