<p>
	<!-- Custom stylesheet, it must be in the same directory as the html file -->
	<!-- Loading mathjax macro --><!-- Load mathjax --><!-- MathJax configuration -->
<p>
<style>
	/* Media query para pantallas grandes */
	@media screen and (min-width: 1000px) {
		.container {
			flex-wrap: nowrap;
			display: flex;
			justify-content: space-between;
			height: 100vh; /* altura del viewport */
		}
		
		.indice {
			width: 25%; /* Ancho del índice en pantallas grandes */
			border-right: 1px solid #ccc;
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
		
		.contenido {
			width: 70%; /* Ancho del contenido en pantallas grandes */
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
	}
</style>
<!-- Open div notebook -->
<div id="notebook" class="border-box-sizing" tabindex="-1">
	<!-- Open div notebook container -->
	<div id="notebook-container" class="container">
		<!-- Open div indice -->
		<div class="indice">
			<!-- Open div index header -->
			<div class="cell border-box-sizing text_cell rendered">
				<h2 class="prompt input_prompt">
					<span style="
					color: var(--darkreader-text--heading-color, var(--darkreader-text--heading-2-color,
					var(--darkreader-text--headings-color)));
					font-family: var(--fontFamily); font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-color: var(--darkreader-text--darkreader-text--heading-color,
					var(--darkreader-text--darkreader-text--heading-2-color, var(--darkreader-text--darkreader-text--headings-color)));
					--darkreader-inline-bgcolor: transparent;"
					data-darkreader-inline-color="" data-darkreader-inline-bgcolor="">
						Índice
					</span>
					<a class="anchor-link" style="
					font-family: var(--fontFamily);
					font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-bgcolor: transparent;"
					href="#Índice" data-darkreader-inline-bgcolor="">
					</a>
				</h2>
			<!-- Close div index header -->
			</div>
			<!-- Index body -->
			<div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Chroma-index">
									<a class="anchor-link" href="#Chroma">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Chroma</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Installation-index">
									<a class="anchor-link" href="#Installation">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Installation</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Quick-use-index">
									<a class="anchor-link" href="#Quick-use">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Quick use</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Persistent-databases-index">
									<a class="anchor-link" href="#Persistent-databases">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Persistent databases</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Collections-index">
									<a class="anchor-link" href="#Collections">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Collections</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Create-collections-index">
									<a class="anchor-link" href="#Create-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Create collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Retrieve-collections-index">
									<a class="anchor-link" href="#Retrieve-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Retrieve collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Retrieve-or-create-collections-index">
									<a class="anchor-link" href="#Retrieve-or-create-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Retrieve or create collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Delete-collections-index">
									<a class="anchor-link" href="#Delete-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Delete collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Get-items-from-collections-index">
									<a class="anchor-link" href="#Get-items-from-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Get items from collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Obtain-the-total-number-of-items-in-the-collections-index">
									<a class="anchor-link" href="#Obtain-the-total-number-of-items-in-the-collections">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Obtain the total number of items in the collections</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Change-similarity-function-index">
									<a class="anchor-link" href="#Change-similarity-function">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Change similarity function</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Add-data-to-the-collection-index">
									<a class="anchor-link" href="#Add-data-to-the-collection">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Add data to the collection</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Add-documents-index">
									<a class="anchor-link" href="#Add-documents">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Add documents</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Add-embeddings-index">
									<a class="anchor-link" href="#Add-embeddings">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Add embeddings</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Add-documents-and-embeddings-index">
									<a class="anchor-link" href="#Add-documents-and-embeddings">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Add documents and embeddings</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Inquiries-index">
									<a class="anchor-link" href="#Inquiries">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Inquiries</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Queries-by-documents-index">
									<a class="anchor-link" href="#Queries-by-documents">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Queries by documents</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Several-queries-at-once-index">
									<a class="anchor-link" href="#Several-queries-at-once">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Several queries at once</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Queries-for-embeddings-index">
									<a class="anchor-link" href="#Queries-for-embeddings">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Queries for embeddings</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Retrieve-documents-by-`ID`.-index">
									<a class="anchor-link" href="#Retrieve-documents-by-`ID`.">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Retrieve documents by <code><b>ID</b></code>.</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Filtering-index">
									<a class="anchor-link" href="#Filtering">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Filtering</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Filtering-by-metadata-index">
									<a class="anchor-link" href="#Filtering-by-metadata">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Filtering by metadata</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Filtering-by-document-content-index">
									<a class="anchor-link" href="#Filtering-by-document-content">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Filtering by document content</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Update-data-index">
									<a class="anchor-link" href="#Update-data">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Update data</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Update-or-add-data-index">
									<a class="anchor-link" href="#Update-or-add-data">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Update or add data</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Delete-data-index">
									<a class="anchor-link" href="#Delete-data">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Delete data</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Embeddings-index">
									<a class="anchor-link" href="#Embeddings">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Embeddings</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Multimodality-index">
									<a class="anchor-link" href="#Multimodality">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Multimodality</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- Close div indice -->
		</div>
 
		<!-- Content -->
		<div class="contenido">
		<div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><a href="https://colab.research.google.com/github/maximofn/portafolio/blob/main/posts/notebooks_translated/2024-02-18-Bases-de-datos-vectoriales_EN.ipynb" target="_blank"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h1 id="Vector-databases">
								<a class="anchor-link" href="#Vector-databases">
									<p style="margin-left: 0px">Vector databases</p>
								</a>
							</h1>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We have seen in the <a href="https://www.maximofn.com/embeddings" target="_blank">embeddings</a> post that embeddings are a way of representing words in a vector space. In this post we are going to see how we can store those embeddings in vector databases and how we can make queries on them.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">This notebook has been automatically translated to make it accessible to more people, please let me know if you see any typos.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">When we have a query, we can create the embedding of the query, search the vector database for the embeddings that most closely match the query and return the documents that correspond to those embeddings or an explanation of those documents.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/vector_database.svg" alt="vector database"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">That is to say, we are going to generate a database of information, we are going to create embeddings of that information and we are going to store it in a vector database. Then when a user makes a query, we will convert the query to embeddings, search the database for the embeddings with the highest similarity and return the documents that correspond to those embeddings.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In addition to the documents, additional information can be stored in the database, which we will call metadata. For example, if we are working with a set of news, we can store the title, date, author, etc. of the news.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Chroma">
								<a class="anchor-link" href="#Chroma">
									<p style="margin-left: 10px">Chroma</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In this post we are going to look at <a href="https://www.trychroma.com/" target="_blank">crhoma</a>, as it is the most widely used <a href="https://blog.langchain.dev/langchain-state-of-ai-2023/#most-used-vectorstores" target="_blank">vector database</a>, as can be seen in this <a href="https://blog.langchain.dev/langchain-state-of-ai-2023" target="_blank">langchain state of ai 2023</a> report.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="https://blog.langchain.dev/content/images/size/w1000/2023/12/Top-vectorstores--1-.png" alt="Most Used Vectorstores"></p></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Installation">
								<a class="anchor-link" href="#Installation">
									<p style="margin-left: 10px">Installation</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">So to install chroma with conda you need to do the following</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>conda install conda-forge::chromadb<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Or if you want to install with pip</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>pip install chromadb<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Quick-use">
								<a class="anchor-link" href="#Quick-use">
									<p style="margin-left: 10px">Quick use</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">For a quick application, we first import chroma</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">chromadb</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Next we create a chroma client</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client</span> <span>=</span> <span style="color: #6b97e8;">chromadb</span><span>.</span><span style="color: #6b97e8;">Client</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We create a collection. A collection is the place where embeddings, embeddings and metadata will be stored.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see a message comes up indicating that no embeddings function has been entered and therefore it will default to <code><b>all-MiniLM-L6-v2</b></code>, which is similar to the <code><b>paraphrase-MiniLM-L6-v2</b></code> model we used in the <a href="https://maximofn.com/embeddings/" target="_blank">embeddings</a> post.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We will see this later, but we can choose how we are going to generate the embeddings.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we add documents, ids and metadata to the collection</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a python docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is JavaScript docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;JavaScript source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id2&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we can make a query</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">results</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a query of Python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">2</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">results</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2']],</p><p> 'distances': [[0.6205940246582031, 1.4631636142730713]],</p><p> 'metadatas': [[{'source': 'Python source'}, {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs', 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see the distance to id1 is less than the distance to id2, so it seems that document 1 is more appropriate for answering the query</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Persistent-databases">
								<a class="anchor-link" href="#Persistent-databases">
									<p style="margin-left: 10px">Persistent databases</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">The database that we have created before is temporary, as soon as we close the notebook it will disappear. So to create a persistent database we have to pass to chroma the path where to save it.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">First we are going to create the folder where to save the database</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">pathlib</span> <span style="color: #833aa0;">import</span> <span style="color: #6b97e8;">Path</span></p>
<p></p>
<p><span style="color: #6b97e8;">chroma_path</span> <span>=</span> <span style="color: #6b97e8;">Path</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;chromadb&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">chroma_path</span><span>.</span><span style="color: #6b97e8;">mkdir</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">exist_ok</span><span>=</span><span style="color: #7f6e38;">True</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we create a client in the folder we created</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client_persistent</span> <span>=</span> <span style="color: #6b97e8;">chromadb</span><span>.</span><span style="color: #6b97e8;">PersistentClient</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">path</span> <span>=</span> <span style="color: #dfd84a;">str</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">chroma_path</span><span style="color: #e3e11d;">))</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Collections">
								<a class="anchor-link" href="#Collections">
									<p style="margin-left: 10px">Collections</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Create-collections">
								<a class="anchor-link" href="#Create-collections">
									<p style="margin-left: 20px">Create collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">When creating a collection, a name must be specified. The name must have the following considerations:</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>The length of the name must be between 3 and 63 characters.</li>
									<li>The name must begin and end with a lowercase letter or digit and may contain periods, hyphens and underscores in the middle.</li>
									<li>The name must not contain two consecutive colons.</li>
									<li>The name must not be a valid IP address.</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can also give it an embedding function. In case we don't give it one, it will use by default the <code><b>all-MiniLM-L6-v2</b></code> function.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_other_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As you can see, a second collection has been created for the same customer <code><b>chroma_client</b></code>, so for a single customer we can have several collections.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Retrieve-collections">
								<a class="anchor-link" href="#Retrieve-collections">
									<p style="margin-left: 20px">Retrieve collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">If we want to retrieve a collection from a client we can do it with the <code><b>get_collection</b></code> method.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Retrieve-or-create-collections">
								<a class="anchor-link" href="#Retrieve-or-create-collections">
									<p style="margin-left: 20px">Retrieve or create collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can obtain collections and, in case they do not exist, create them with the <code><b>get_or_create_collection</b></code> method.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_or_create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_tird_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Delete-collections">
								<a class="anchor-link" href="#Delete-collections">
									<p style="margin-left: 20px">Delete collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can delete a collection with the <code><b>delete_collection</b></code> method.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">delete_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_tird_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Get-items-from-collections">
								<a class="anchor-link" href="#Get-items-from-collections">
									<p style="margin-left: 20px">Get items from collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can obtain the first 10 items of the collection with the <code><b>peek</b></code> method.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>   -0.013378280214965343]],</p><p> 'metadatas': [{'source': 'Python source'}, {'source': 'JavaScript source'}],</p><p> 'documents': ['This is a python docs', 'This is JavaScript docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In this case only two documents have been obtained, because our collection only has two documents</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">If you want to obtain another quantity of items you can specify it with the argument <code><b>limit</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">limit</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>   0.012315398082137108]],</p><p> 'metadatas': [{'source': 'Python source'}],</p><p> 'documents': ['This is a python docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Obtain-the-total-number-of-items-in-the-collections">
								<a class="anchor-link" href="#Obtain-the-total-number-of-items-in-the-collections">
									<p style="margin-left: 20px">Obtain the total number of items in the collections</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can obtain the total number of items in the collection with the <code><b>count</b></code> method.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">count</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>2</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Change-similarity-function">
								<a class="anchor-link" href="#Change-similarity-function">
									<p style="margin-left: 20px">Change similarity function</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Earlier, when we made a query we got the similarity of the embeddings with our query, since by default in a collection the distance function is used, but we can specify which similarity function we want to use. The possibilities are</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>Squared L2 (<code><b>l2</b></code>)</li>
									<li>Inner product (<code><b>ip</b></code>)</li>
									<li>Cosine similarity (<code><b>cosine</b></code>)</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">In the post <a href="http://maximofn.com/embeddings-similarity/" target="_blank">Measurement of similarity between embeddings</a> we saw L2 and cosine similarity, if you want to go deeper into them.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">So we can create collections with another similarity function with the argument <code><b>metadata={"hnsw:space": <function>}</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;colection_cosine&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">metadata</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;hnsw:space&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;cosine&quot;</span><span style="color: #e3e11d;">})</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Add-data-to-the-collection">
								<a class="anchor-link" href="#Add-data-to-the-collection">
									<p style="margin-left: 20px">Add data to the collection</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Add-documents">
								<a class="anchor-link" href="#Add-documents">
									<p style="margin-left: 30px">Add documents</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's look again at the data we have in the collection with the <code><b>peek</b></code> method</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [],</p><p> 'embeddings': [],</p><p> 'metadatas': [],</p><p> 'documents': [],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see it is empty, that is because the last collection that we have created has been the one of the similarity function <code><b>cosine</b></code>, but we have not added data to it. Let's see how it is like this obtaining the name of the collection</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">name</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>'colection_cosine'</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">So we bring back the first collection we have created, which we have entered data for.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we can add data to the collection with the <code><b>add</b></code> method</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Mojo docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is Rust docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Mojo source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Rust source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id4&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As you can see the <code><b>ID</b></code>s are consecutive and do not have the same value as before, since the <code><b>ID</b></code>s have to be unique.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">If we try to add data by repeating <code><b>ID</b></code>s, it will indicate that data with those <code><b>ID</b></code>s already exists.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is TensorRT docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;TensorRT source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id4&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Add of existing embedding ID: id3</p><p>Add of existing embedding ID: id4</p><p>Insert of existing embedding ID: id3</p><p>Insert of existing embedding ID: id4</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We have not been able to add the Pytorch and TensorRT documents.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's take a look at the collection data</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'}],</p><p> 'documents': ['This is a python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As we can see, the original contents of <code><b>ID3</b></code> and <code><b>ID4</b></code> have been maintained.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Add-embeddings">
								<a class="anchor-link" href="#Add-embeddings">
									<p style="margin-left: 30px">Add embeddings</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We can add embeddings directly without adding documents. Although this does not make much sense, because if we only add the embeddings, when we want to make a query there will be no documents to retrieve.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We obtain some embeddings to create others with the same dimensions.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding1</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">We create new embeddings with all of them to know that they are the ones we have created.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">new_embedding</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span> <span>*</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #6b97e8;">new_embedding</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Now we add the new embeddings</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Only embeddings&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id5&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Let's take a look at the collection data</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">][</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>[1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> ...,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0]</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">The last element of the condition has the embeddings that we have added</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> > Note: If we try to add embbedings with a different size than the ones already in the collection, we will get an error.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">new_embedding_differetn_size</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span> <span>*</span> <span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">new_embedding_differetn_size</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 383)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">As you can see the embedding dimension is 383, instead of 384.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;New embeddings different size&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_text output_error">
								<pre style="margin-left: 60px; line-height: 0%;"><p><span style="color:red">---------------------------------------------------------------------------</span></p><p><span style="color:red">InvalidDimensionException</span>                 Traceback (most recent call last)</p><p>Cell <span style="color:green">In[28], line 1</span></p><p><span style="color:green">----&gt; 1</span> collection[38;5;241m.[39madd(</p><p><span style="color:green"><b>      2</b></span>     embeddings[38;5;241m=[39mnew_embedding_differetn_size,</p><p><span style="color:green"><b>      3</b></span>     metadatas[38;5;241m=[39m[{[38;5;124m"[39m[38;5;124msource[39m[38;5;124m"[39m: [38;5;124m"[39m[38;5;124mNew embeddings different size[39m[38;5;124m"[39m}],</p><p><span style="color:green"><b>      4</b></span>     ids[38;5;241m=[39m[[38;5;124m"[39m[38;5;124mid6[39m[38;5;124m"[39m]</p><p><span style="color:green"><b>      5</b></span> )</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/models/Collection.py:168</span>, in Collection.add<span style="color:blue">(self, ids, embeddings, metadatas, documents, images, uris)</span></p><p><span style="color:green"><b>    163</b></span>             [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(</p><p><span style="color:green"><b>    164</b></span>                 [38;5;124m"[39m[38;5;124mYou must set a data loader on the collection if loading from URIs.[39m[38;5;124m"[39m</p><p><span style="color:green"><b>    165</b></span>             )</p><p><span style="color:green"><b>    166</b></span>         embeddings [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_embed([38;5;28mself[39m[38;5;241m.[39m_data_loader(uris))</p><p><span style="color:green">--&gt; 168</span> [38;5;28mself[39m[38;5;241m.[39m_client[38;5;241m.[39m_add(ids, [38;5;28mself[39m[38;5;241m.[39mid, embeddings, metadatas, documents, uris)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:375</span>, in SegmentAPI._add<span style="color:blue">(self, ids, collection_id, embeddings, metadatas, documents, uris)</span></p><p><span style="color:green"><b>    365</b></span> records_to_submit [38;5;241m=[39m []</p><p><span style="color:green"><b>    366</b></span> [38;5;28;01mfor[39;00m r [38;5;129;01min[39;00m _records(</p><p><span style="color:green"><b>    367</b></span>     t[38;5;241m.[39mOperation[38;5;241m.[39mADD,</p><p><span style="color:green"><b>    368</b></span>     ids[38;5;241m=[39mids,</p><p><span style="color:green">   (...)</span></p><p><span style="color:green"><b>    373</b></span>     uris[38;5;241m=[39muris,</p><p><span style="color:green"><b>    374</b></span> ):</p><p><span style="color:green">--&gt; 375</span>     [38;5;28mself[39m[38;5;241m.[39m_validate_embedding_record(coll, r)</p><p><span style="color:green"><b>    376</b></span>     records_to_submit[38;5;241m.[39mappend(r)</p><p><span style="color:green"><b>    377</b></span> [38;5;28mself[39m[38;5;241m.[39m_producer[38;5;241m.[39msubmit_embeddings(coll[[38;5;124m"[39m[38;5;124mtopic[39m[38;5;124m"[39m], records_to_submit)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:799</span>, in SegmentAPI._validate_embedding_record<span style="color:blue">(self, collection, record)</span></p><p><span style="color:green"><b>    797</b></span> add_attributes_to_current_span({[38;5;124m"[39m[38;5;124mcollection_id[39m[38;5;124m"[39m: [38;5;28mstr[39m(collection[[38;5;124m"[39m[38;5;124mid[39m[38;5;124m"[39m])})</p><p><span style="color:green"><b>    798</b></span> [38;5;28;01mif[39;00m record[[38;5;124m"[39m[38;5;124membedding[39m[38;5;124m"[39m]:</p><p><span style="color:green">--&gt; 799</span>     [38;5;28mself[39m[38;5;241m.[39m_validate_dimension(collection, [38;5;28mlen[39m(record[[38;5;124m"[39m[38;5;124membedding[39m[38;5;124m"[39m]), update[38;5;241m=[39m[38;5;28;01mTrue[39;00m)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:814</span>, in SegmentAPI._validate_dimension<span style="color:blue">(self, collection, dim, update)</span></p><p><span style="color:green"><b>    812</b></span>         [38;5;28mself[39m[38;5;241m.[39m_collection_cache[[38;5;28mid[39m][[38;5;124m"[39m[38;5;124mdimension[39m[38;5;124m"[39m] [38;5;241m=[39m dim</p><p><span style="color:green"><b>    813</b></span> [38;5;28;01melif[39;00m collection[[38;5;124m"[39m[38;5;124mdimension[39m[38;5;124m"[39m] [38;5;241m!=[39m dim:</p><p><span style="color:green">--&gt; 814</span>     [38;5;28;01mraise[39;00m InvalidDimensionException(</p><p><span style="color:green"><b>    815</b></span>         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mEmbedding dimension [39m[38;5;132;01m{[39;00mdim[38;5;132;01m}[39;00m[38;5;124m does not match collection dimensionality [39m[38;5;132;01m{[39;00mcollection[[38;5;124m'[39m[38;5;124mdimension[39m[38;5;124m'[39m][38;5;132;01m}[39;00m[38;5;124m"[39m</p><p><span style="color:green"><b>    816</b></span>     )</p><p><span style="color:green"><b>    817</b></span> [38;5;28;01melse[39;00m:</p><p><span style="color:green"><b>    818</b></span>     [38;5;28;01mreturn[39;00m</p><p></p><p><span style="color:red">InvalidDimensionException</span>: Embedding dimension 383 does not match collection dimensionality 384</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Add-documents-and-embeddings">
							<a class="anchor-link" href="#Add-documents-and-embeddings">
								<p style="margin-left: 30px">Add documents and embeddings</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Chroma also allows us to add documents and embeddings at the same time. So if this is done, it will not create the embeddings of the document.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If we look at the embeddings of the last element of the collection, we will see that these are the ones we added</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">][</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>[1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> ...,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0]</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Inquiries">
							<a class="anchor-link" href="#Inquiries">
								<p style="margin-left: 20px">Inquiries</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Queries-by-documents">
							<a class="anchor-link" href="#Queries-by-documents">
								<p style="margin-left: 30px">Queries by documents</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">To make a query we use the <code><b>query</b></code> method. With the <code><b>n_results</b></code> parameter we can specify how many results we want to get</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If instead of <code><b>n_results = 1</b></code> we set a higher value, it will return more results.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id4', 'id3', 'id5', 'id6']],</p><p> 'distances': [[0.5389559268951416,</p><p>   1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625,</p><p>   384.56890869140625]],</p><p> 'metadatas': [[{'source': 'Python source'},</p><p>   {'source': 'JavaScript source'},</p><p>   {'source': 'Rust source'},</p><p>   {'source': 'Mojo source'},</p><p>   {'source': 'Only embeddings'},</p><p>   {'source': 'Pytorch source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs',</p><p>   'This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   None,</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can filter by a metadata value with the argument <code><b>where</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can see that only 1 result is already returned</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can also filter by document content with the argument <code><b>where_document</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We will see later on the possibilities we have here</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">When we make a query we can say what data we want to be returned, for example only the embeddings, only the metadata, or several data by specifying it in a list using the <code><b>include</b></code> argument.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">include</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;documents&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;distances&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id4', 'id3', 'id5', 'id6']],</p><p> 'distances': [[0.5389559268951416,</p><p>   1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625,</p><p>   384.56890869140625]],</p><p> 'metadatas': None,</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs',</p><p>   'This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   None,</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We see that now <code><b>metadatas</b></code> is <code><b>None</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Several-queries-at-once">
							<a class="anchor-link" href="#Several-queries-at-once">
								<p style="margin-left: 30px">Several queries at once</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can make several queries to the collection at the same time, for this, we pass a list to the <code><b>query_texts</b></code> parameter</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;programming language&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;high level&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;multi propuse&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1'], ['id1'], ['id3']],</p><p> 'distances': [[1.152251958847046], [1.654376745223999], [1.6786067485809326]],</p><p> 'metadatas': [[{'source': 'Python source'}],</p><p>  [{'source': 'Python source'}],</p><p>  [{'source': 'Mojo source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs'],</p><p>  ['This is a python docs'],</p><p>  ['This is a Mojo docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">For each query it returned a result</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">This is very useful when the database is hosted on a server and we are charged for each query we make. So instead of making a query for each question we have, we make a query with all the questions we have.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Queries-for-embeddings">
							<a class="anchor-link" href="#Queries-for-embeddings">
								<p style="margin-left: 30px">Queries for embeddings</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">When we make a query for documents, what chroma does is to calculate the embedding of the <code><b>query_texts</b></code> and look for the documents that most resemble that embedding. But if we already have the embedding, we can make the query directly with the embedding.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's first get the embedding of a query with the same embedding function of the collections</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">query_texts</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python language&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #6b97e8;">query_embeddings</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">query_texts</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">query_embeddings</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>[[-0.04816831275820732,</p><p>  0.014662696048617363,</p><p>  -0.031021444126963615,</p><p>  0.008308809250593185,</p><p>  -0.07176128774881363,</p><p>  -0.10355626791715622,</p><p>  0.06690476089715958,</p><p>  0.04229631647467613,</p><p>  -0.03681119903922081,</p><p>  -0.04993892088532448,</p><p>  0.03186540678143501,</p><p>  0.015252595767378807,</p><p>  0.0642094686627388,</p><p>  0.018130118027329445,</p><p>  0.016300885006785393,</p><p>  -0.028082313016057014,</p><p>  -0.03994889184832573,</p><p>  0.023195551708340645,</p><p>  0.004547565709799528,</p><p>  -0.11764183640480042,</p><p>  0.019792592152953148,</p><p>  0.0496944822371006,</p><p>  -0.013253907673060894,</p><p>  0.03610404208302498,</p><p>  0.030529780313372612,</p><p>  -0.01815914921462536,</p><p>  -0.009753326885402203,</p><p>  0.03412770479917526,</p><p>  0.03020440600812435,</p><p>  ...</p><p>  0.02079579420387745,</p><p>  -0.00972712505608797,</p><p>  0.13462257385253906,</p><p>  0.15277136862277985,</p><p>  -0.028574923053383827]]</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Now we can make the query with embedding</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_embeddings</span><span>=</span><span style="color: #6b97e8;">query_embeddings</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.6297433376312256]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As before we can get more results by increasing the value of the <code><b>n_results</b></code> parameter, and we can filter with the <code><b>where</b></code> and <code><b>where_document</b></code> parameters. We can also do several queries at once, and we can specify what data we want to return with the <code><b>include</b></code> parameter.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Note: If we try to make a query with an embedding of a different dimension than the ones already in the collection, we will get an error.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Retrieve-documents-by-`ID`.">
							<a class="anchor-link" href="#Retrieve-documents-by-`ID`.">
								<p style="margin-left: 20px">Retrieve documents by <code><b>ID</b></code>.</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If we know the <code><b>ID</b></code> of a document, we can retrieve the document with the <code><b>get</b></code> method</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': None,</p><p> 'metadatas': [{'source': 'Python source'}],</p><p> 'documents': ['This is a python docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Multiple documents can also be retrieved at once.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id2&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3'],</p><p> 'embeddings': None,</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'}],</p><p> 'documents': ['This is a python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As before we can filter with the <code><b>where</b></code> and <code><b>where_document</b></code> arguments. We can also make several queries at once, and we can specify what data we want to return with the <code><b>include</b></code> parameter.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Filtering">
							<a class="anchor-link" href="#Filtering">
								<p style="margin-left: 20px">Filtering</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As we have seen, it is possible to filter by metadata with the parameter <code><b>where</b></code>, and by document content with the parameter <code><b>where_document</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Filtering-by-metadata">
							<a class="anchor-link" href="#Filtering-by-metadata">
								<p style="margin-left: 30px">Filtering by metadata</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">How metadata will enter me as a dictionary</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>collection.add(<br>    documents=["This is a python docs", "This is JavaScript docs"],<br>    metadatas=[{"source": "Python source"}, {"source": "JavaScript source"}],<br>    ids=["id1", "id2"]<br><br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">The first thing we have to do is to indicate the key of the metadata by which we want to filter. Next we have to put an operator and the value</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": {<br>        <Operator>: <Value>.<br>    }<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">The possible values of the oerator are</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">
							<ul>
								<li><b>$eq</b> - equal to (string, int, float)</li>
								<li><b>$ne</b> - not equal to (string, int, float)</li>
								<li><b>$gt</b> - greater than (int, float)</li>
								<li><b>$gte</b> - greater than or equal to (int, float)</li>
							</ul>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">

					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">

					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">

					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$lt</b> - less than (int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">
							<ul>
								<li><b>$lte</b> - less than or equal to (int, float)</li>
							</ul>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's see now a query</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where</span><span>=</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>        <span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> </p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>            <span style="color: #7e7a34;">&quot;$eq&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span></p>
<p>        <span style="color: #e3e11d;">}</span></p>
<p>    <span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If we do not set operator, the default will be <code><b>$eq</b></code>, i.e., that is, this</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": {<br>        <"$eq">: <Value>.<br>    }<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">It is the same as this</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": <Value>.<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>Note</b>: Chroma will only search data that has the <code><b>source</b></code> metadata, for example if you search <code><b>where={"version": {"$ne": 1}}</b></code> it will only return data that has a <code><b>version</b></code> key in its metadata and is not 1.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Filtering-by-document-content">
							<a class="anchor-link" href="#Filtering-by-document-content">
								<p style="margin-left: 30px">Filtering by document content</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">When filtering by document content we have two possible keys <code><b>$contains</b></code> and <code><b>$not_contains</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">For example, we look for the data in the collection in which the word <code><b>python</b></code> appears in your document</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">And all the data in the collection in which the word <code><b>python</b></code> does not appear in your document</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$not_contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id2', 'id4', 'id3', 'id6']],</p><p> 'distances': [[1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625]],</p><p> 'metadatas': [[{'source': 'JavaScript source'},</p><p>   {'source': 'Rust source'},</p><p>   {'source': 'Mojo source'},</p><p>   {'source': 'Pytorch source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can also use the logical operators <code><b>$and</b></code> and <code><b>$or</b></code> to make more complex queries.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "$and": [<br>        {<br>            <Operator>: <Value>.<br>        },<br>        {<br>            <Operator>: <Value>.<br>        }<br>    <br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "$or": [<br>        {<br>            <Operator>: <Value>.<br>        },<br>        {<br>            <Operator>: <Value>.<br>        }<br>    <br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">For example, we search for all documents containing the words <code><b>python</b></code> and <code><b>docs</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>        <span style="color: #7e7a34;">&quot;$and&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">[</span></p>
<p>            <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>            <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;docs&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #e3e11d;">},</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Update-data">
							<a class="anchor-link" href="#Update-data">
								<p style="margin-left: 20px">Update data</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Any item of data can be updated with the update method</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">update</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a updated Python docs&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's see if it has been updated</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.8247963190078735]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a updated Python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Note: If you try to update an <code><b>ID</b></code> that does not exist, you will get an error.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Note: If we try to update an embeddings with another embeddings of a different size, we will get an error.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Update-or-add-data">
							<a class="anchor-link" href="#Update-or-add-data">
								<p style="margin-left: 20px">Update or add data</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">With the <code><b>upsert</b></code> method we can update a data if it already exists, or add it if it does not exist.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">upsert</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">}],</span>   </p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's see if it has been added to the collection</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4', 'id5', 'id6'],</p><p> 'embeddings': [[-0.08374718576669693,</p><p>   0.01027572900056839,</p><p>   -0.04819200187921524,</p><p>   0.01758415624499321,</p><p>   0.013158757239580154,</p><p>   -0.11435151100158691,</p><p>   -0.024248722940683365,</p><p>   -0.01319972239434719,</p><p>   -0.09626100957393646,</p><p>   -0.010561048053205013,</p><p>   0.09369225800037384,</p><p>   0.06017905846238136,</p><p>   0.031283188611269,</p><p>   0.014855983667075634,</p><p>   -0.0015984248602762818,</p><p>   0.023238031193614006,</p><p>   -0.04709107056260109,</p><p>   -0.007838696241378784,</p><p>   0.012870412319898605,</p><p>   -0.028354981914162636,</p><p>   -0.007653804495930672,</p><p>   0.09018168598413467,</p><p>   0.060235824435949326,</p><p>   0.0005205210763961077,</p><p>   ...</p><p>   0.014388148672878742]],</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'},</p><p>  {'source': 'Only embeddings'},</p><p>  {'source': 'Pytorch source'}],</p><p> 'documents': ['This is a updated Python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs',</p><p>  None,</p><p>  'This is a Pytorch docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We see that yes</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Delete-data">
							<a class="anchor-link" href="#Delete-data">
								<p style="margin-left: 20px">Delete data</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can delete data from a collection with the <code><b>delete</b></code> method</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We are going to delete the datum with <code><b>ID</b></code> <code><b>id5</b></code> which is the one we added with its embedding all to ones</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">delete</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id5&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's see if it has been removed</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4', 'id6'],</p><p> 'embeddings': [[-0.08374718576669693,</p><p>   0.01027572900056839,</p><p>   -0.04819200187921524,</p><p>   0.01758415624499321,</p><p>   0.013158757239580154,</p><p>   -0.11435151100158691,</p><p>   -0.024248722940683365,</p><p>   -0.01319972239434719,</p><p>   -0.09626100957393646,</p><p>   -0.010561048053205013,</p><p>   0.09369225800037384,</p><p>   0.06017905846238136,</p><p>   0.031283188611269,</p><p>   0.014855983667075634,</p><p>   -0.0015984248602762818,</p><p>   0.023238031193614006,</p><p>   -0.04709107056260109,</p><p>   -0.007838696241378784,</p><p>   0.012870412319898605,</p><p>   -0.028354981914162636,</p><p>   -0.007653804495930672,</p><p>   0.09018168598413467,</p><p>   0.060235824435949326,</p><p>   0.0005205210763961077,</p><p>   ...</p><p>   0.07033486664295197,</p><p>   0.014388148672878742]],</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'},</p><p>  {'source': 'Pytorch source'}],</p><p> 'documents': ['This is a updated Python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs',</p><p>  'This is a Pytorch docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We see that it is no longer</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h2 id="Embeddings">
							<a class="anchor-link" href="#Embeddings">
								<p style="margin-left: 10px">Embeddings</p>
							</a>
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As we have said we can use different embeddings functions and if none is specified it will use <code><b>all-MiniLM-L6-v2</b></code>. In the chroma <a href="https://docs.trychroma.com/embeddings" target="_blank">embeddings documentation</a> page we can see the different embeddings functions we can use. As this is something that can change, and also some of them are paid and require api key, we are going to explain only how to use the HuggingFace ones.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">First we set the embedding function</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">chromadb.utils.embedding_functions</span> <span style="color: #a04cc1;">as</span> <span style="color: #4fcd7d;">embedding_functions</span></p>
<p></p>
<p><span style="color: #6b97e8;">huggingface_ef</span> <span>=</span> <span style="color: #6b97e8;">embedding_functions</span><span>.</span><span style="color: #6b97e8;">HuggingFaceEmbeddingFunction</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">api_key</span><span>=</span><span style="color: #7e7a34;">&quot;YOUR_API_KEY&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">model_name</span><span>=</span><span style="color: #7e7a34;">&quot;sentence-transformers/all-mpnet-base-v2&quot;</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">In my case I use <code><b>sentence-transformers/all-mpnet-base-v2</b></code> which is the most downloaded of <code><b>sentence-transformers</b></code> at the time of writing this post.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">To now add the embedding function to the collection, we have to add the argument <code><b>metadata={"embedding": <function>}</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;colection_huggingface&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">embedding_function</span><span>=</span><span style="color: #6b97e8;">huggingface_ef</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can check that we have added the new embedding function by calculating the embeddings of a word</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">([</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 768)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">The embedding length is 768</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If we now calculate the embedding with the embedding function of the previous collection</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">([</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We see that now the length of the ambedding is 384, i.e., we had used a new embedding function before</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h2 id="Multimodality">
							<a class="anchor-link" href="#Multimodality">
								<p style="margin-left: 10px">Multimodality</p>
							</a>
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">We can add image embeddings since chroma has built-in <a href="https://github.com/mlfoundations/open_clip" target="_blank">OpenCLIP</a>. <a href="https://github.com/mlfoundations/open_clip" target="_blank">OpenCLIP</a> is an open source implementation of <a href="https://github.com/openai/CLIP" target="_blank">CLIP</a> (Contrastive Language-Image Pre-Training), which is an OpenAI neural network that is able to give a description of an image.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">In order to use OpenCLIP, we have to install it with pip</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>pip install open-clip-torch<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Once installed we can use it to create embeddings of the following picture</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/chromadb_dalle3.webp" alt="chroma db - python mixture"></p></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">I have it in my local path <code><b>../images/chromadb_dalle3.webp</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">chromadb.utils.embedding_functions</span> <span style="color: #833aa0;">import</span>  <span style="color: #6b97e8;">OpenCLIPEmbeddingFunction</span></p>
<p></p>
<p><span style="color: #6b97e8;">embedding_function</span> <span>=</span> <span style="color: #6b97e8;">OpenCLIPEmbeddingFunction</span><span style="color: #e3e11d;">()</span></p>
<p><span style="color: #6b97e8;">image</span> <span>=</span> <span style="color: #7e7a34;">&quot;../images/chromadb_dalle3.webp&quot;</span></p>
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">embedding_function</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(30, 512)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As we can see it creates an embeddings of size 30x512</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Chroma also comes with an image uploader</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">chromadb.utils.data_loaders</span> <span style="color: #833aa0;">import</span> <span style="color: #6b97e8;">ImageLoader</span></p>
<p><span style="color: #6b97e8;">data_loader</span> <span>=</span> <span style="color: #6b97e8;">ImageLoader</span><span style="color: #e3e11d;">()</span></p>
<p><span style="color: #6b97e8;">data</span> <span>=</span> <span style="color: #6b97e8;">data_loader</span><span>.</span><span style="color: #6b97e8;">_load_image</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">data</span><span>.</span><span style="color: #6b97e8;">shape</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(numpy.ndarray, (1024, 1024, 3))</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">So we can create a multimodal collection with this embedding function and the image uploader</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;multimodal_collection&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">embedding_function</span><span>=</span><span style="color: #6b97e8;">embedding_function</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">data_loader</span><span>=</span><span style="color: #6b97e8;">data_loader</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">And we can add the embeddings of the images</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id1&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Let's see what you have saved</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   0.04397008568048477,</p><p>   0.04396628588438034]],</p><p> 'metadatas': [None],</p><p> 'documents': [None],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Chroma does not store the images, only the embeddings, so in order not to lose the relationship between the embeddings and the images, we can save the path to the images in the metadata. Let's use the <code><b>update</b></code> method to add the path to the image</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">update</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id1&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">}]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">If we go back to see what the collection has in store.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   0.04397008568048477,</p><p>   0.04396628588438034]],</p><p> 'metadatas': [{'source': '../images/chromadb_dalle3.webp'}],</p><p> 'documents': [None],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">As the collection is multimodal, we can add documents to it as before.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id2&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;id3&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a python docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is JavaScript docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;JavaScript source&quot;</span><span style="color: #e3e11d;">}]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   -0.061795610934495926,</p><p>   -0.02433035336434841]],</p><p> 'metadatas': [{'source': '../images/chromadb_dalle3.webp'},</p><p>  {'source': 'Python source'},</p><p>  {'source': 'JavaScript source'}],</p><p> 'documents': [None, 'This is a python docs', 'This is JavaScript docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Finally, we can make queries with text</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;persona trabajando en una mesa&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id2', 'id1', 'id3']],</p><p> 'distances': [[1.1276676654815674, 1.1777206659317017, 1.2047353982925415]],</p><p> 'metadatas': [[{'source': 'Python source'},</p><p>   {'source': '../images/chromadb_dalle3.webp'},</p><p>   {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs', None, 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">With text we didn't get the image as the first result, if we follow the python documentation</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">But we can also make them with images, in this case I'm going to do it with this image</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/chromadb_elegant.png" alt="chroma logo"></p></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">query_image</span> <span>=</span> <span style="color: #7e7a34;">&quot;http://maximofn.com/wp-content/uploads/2024/02/chromadb_elegant.png&quot;</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">query_image</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id3']],</p><p> 'distances': [[0.6684874296188354, 0.9450105428695679, 1.0639115571975708]],</p><p> 'metadatas': [[{'source': '../images/chromadb_dalle3.webp'},</p><p>   {'source': 'Python source'},</p><p>   {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [[None, 'This is a python docs', 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Now it gives as first result the image that we had saved.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- Close class contenido -->
</div>
<!-- Close div notebook container -->
</div>
<!-- Close div notebook -->
</div>

