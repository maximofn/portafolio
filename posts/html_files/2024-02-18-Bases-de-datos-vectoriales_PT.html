<p>
	<!-- Custom stylesheet, it must be in the same directory as the html file -->
	<!-- Loading mathjax macro --><!-- Load mathjax --><!-- MathJax configuration -->
<p>
<style>
	/* Media query para pantallas grandes */
	@media screen and (min-width: 1000px) {
		.container {
			flex-wrap: nowrap;
			display: flex;
			justify-content: space-between;
			height: 100vh; /* altura del viewport */
		}
		
		.indice {
			width: 25%; /* Ancho del índice en pantallas grandes */
			border-right: 1px solid #ccc;
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
		
		.contenido {
			width: 70%; /* Ancho del contenido en pantallas grandes */
			max-height: calc(100vh - 40px); /* Ajustar según tus necesidades. Aquí estamos restando el doble del padding para mantener todo visible */
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto; /* desplazamiento vertical cuando sea necesario */
		}
	}
</style>
<!-- Open div notebook -->
<div id="notebook" class="border-box-sizing" tabindex="-1">
	<!-- Open div notebook container -->
	<div id="notebook-container" class="container">
		<!-- Open div indice -->
		<div class="indice">
			<!-- Open div index header -->
			<div class="cell border-box-sizing text_cell rendered">
				<h2 class="prompt input_prompt">
					<span style="
					color: var(--darkreader-text--heading-color, var(--darkreader-text--heading-2-color,
					var(--darkreader-text--headings-color)));
					font-family: var(--fontFamily); font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-color: var(--darkreader-text--darkreader-text--heading-color,
					var(--darkreader-text--darkreader-text--heading-2-color, var(--darkreader-text--darkreader-text--headings-color)));
					--darkreader-inline-bgcolor: transparent;"
					data-darkreader-inline-color="" data-darkreader-inline-bgcolor="">
						Índice
					</span>
					<a class="anchor-link" style="
					font-family: var(--fontFamily);
					font-size: var(--fontSize);
					font-style: var(--fontStyle, inherit);
					font-weight: var(--fontWeight);
					letter-spacing: var(--letterSpacing);
					text-transform: var(--textTransform);
					background-color: transparent;
					--darkreader-inline-bgcolor: transparent;"
					href="#Índice" data-darkreader-inline-bgcolor="">
					</a>
				</h2>
			<!-- Close div index header -->
			</div>
			<!-- Index body -->
			<div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Croma-index">
									<a class="anchor-link" href="#Croma">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Croma</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Instalação-index">
									<a class="anchor-link" href="#Instalação">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Instalação</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Uso-rápido-index">
									<a class="anchor-link" href="#Uso-rápido">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Uso rápido</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Bancos-de-dados-persistentes-index">
									<a class="anchor-link" href="#Bancos-de-dados-persistentes">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Bancos de dados persistentes</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Coleções-index">
									<a class="anchor-link" href="#Coleções">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Coleções</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Criar-coleções-index">
									<a class="anchor-link" href="#Criar-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Criar coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Recuperar-coleções-index">
									<a class="anchor-link" href="#Recuperar-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Recuperar coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Recuperar-ou-criar-coleções-index">
									<a class="anchor-link" href="#Recuperar-ou-criar-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Recuperar ou criar coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Excluir-coleções-index">
									<a class="anchor-link" href="#Excluir-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Excluir coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Obter-itens-de-coleções-index">
									<a class="anchor-link" href="#Obter-itens-de-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Obter itens de coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Obter-o-número-total-de-itens-nas-coleções-index">
									<a class="anchor-link" href="#Obter-o-número-total-de-itens-nas-coleções">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Obter o número total de itens nas coleções</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Alterar-a-função-de-similaridade-index">
									<a class="anchor-link" href="#Alterar-a-função-de-similaridade">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Alterar a função de similaridade</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Adicionar-dados-à-coleção-index">
									<a class="anchor-link" href="#Adicionar-dados-à-coleção">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Adicionar dados à coleção</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Adicionar-documentos-index">
									<a class="anchor-link" href="#Adicionar-documentos">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Adicionar documentos</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Adicionar-incorporações-index">
									<a class="anchor-link" href="#Adicionar-incorporações">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Adicionar incorporações</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Adicionar-documentos-e-embeddings-index">
									<a class="anchor-link" href="#Adicionar-documentos-e-embeddings">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Adicionar documentos e embeddings</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Consultas-index">
									<a class="anchor-link" href="#Consultas">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Consultas</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Consultas-por-documentos-index">
									<a class="anchor-link" href="#Consultas-por-documentos">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Consultas por documentos</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Várias-consultas-ao-mesmo-tempo-index">
									<a class="anchor-link" href="#Várias-consultas-ao-mesmo-tempo">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Várias consultas ao mesmo tempo</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Consultas-para-incorporações-index">
									<a class="anchor-link" href="#Consultas-para-incorporações">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Consultas para incorporações</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Recuperar-documentos-por-`ID`.-index">
									<a class="anchor-link" href="#Recuperar-documentos-por-`ID`.">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Recuperar documentos por <code><b>ID</b></code>.</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Filtragem-index">
									<a class="anchor-link" href="#Filtragem">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Filtragem</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Filtragem-por-metadados-index">
									<a class="anchor-link" href="#Filtragem-por-metadados">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Filtragem por metadados</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h4 id="Filtragem-por-conteúdo-do-documento-index">
									<a class="anchor-link" href="#Filtragem-por-conteúdo-do-documento">
										<p style="margin-left: 80px; font-size: 12px; line-height: 1.5;">Filtragem por conteúdo do documento</p>
									</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Atualizar-dados-index">
									<a class="anchor-link" href="#Atualizar-dados">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Atualizar dados</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Atualizar-ou-adicionar-dados-index">
									<a class="anchor-link" href="#Atualizar-ou-adicionar-dados">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Atualizar ou adicionar dados</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h3 id="Excluir-dados-index">
									<a class="anchor-link" href="#Excluir-dados">
										<p style="margin-left: 40px; font-size: 12px; line-height: 1.5;">Excluir dados</p>
									</a>
								</h3>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Embeddings-index">
									<a class="anchor-link" href="#Embeddings">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Embeddings</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
				<!-- Open div header -->
				<div class="cell border-box-sizing text_cell rendered">
					<div class="prompt input_prompt">
						<div class="inner_cell">
							<div class="text_cell_render border-box-sizing rendered_html">
								<h2 id="Multimodalidade-index">
									<a class="anchor-link" href="#Multimodalidade">
										<p style="margin-left: 0px; font-size: 12px; line-height: 1.5;">Multimodalidade</p>
									</a>
								</h2>
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- Close div indice -->
		</div>
 
		<!-- Content -->
		<div class="contenido">
		<div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><a href="https://colab.research.google.com/github/maximofn/portafolio/blob/main/posts/notebooks_translated/2024-02-18-Bases-de-datos-vectoriales_PT.ipynb" target="_blank"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h1 id="Bancos-de-dados-vetoriais">
								<a class="anchor-link" href="#Bancos-de-dados-vetoriais">
									<p style="margin-left: 0px">Bancos de dados vetoriais</p>
								</a>
							</h1>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Vimos na postagem <a href="https://www.maximofn.com/embeddings" target="_blank">embeddings</a> que os embeddings são uma forma de representar palavras em um espaço vetorial. Nesta postagem, veremos como podemos armazenar esses embeddings em bancos de dados vetoriais e como podemos fazer consultas a eles.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Este caderno foi traduzido automaticamente para torná-lo acessível a mais pessoas, por favor me avise se você vir algum erro de digitação..</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Quando temos uma consulta, podemos criar a incorporação da consulta, pesquisar no banco de dados de vetores as incorporações que mais se aproximam da consulta e retornar os documentos que correspondem a essas incorporações ou uma explicação desses documentos.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/vector_database.svg" alt="banco de dados vetorial"></p></p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Ou seja, vamos gerar um banco de dados de informações, vamos criar embeddings dessas informações e vamos armazená-las em um banco de dados vetorial. Então, quando um usuário fizer uma consulta, converteremos a consulta em embeddings, pesquisaremos no banco de dados os embeddings com a maior similaridade e retornaremos os documentos que correspondem a esses embeddings.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Além dos documentos, outras informações podem ser armazenadas no banco de dados, que chamaremos de metadados. Por exemplo, se estivermos trabalhando com um conjunto de itens de notícias, podemos armazenar o título, a data, o autor etc. do item de notícias.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Croma">
								<a class="anchor-link" href="#Croma">
									<p style="margin-left: 10px">Croma</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Nesta postagem, vamos analisar o <a href="https://www.trychroma.com/" target="_blank">crhoma</a>, pois ele é o <a href="https://blog.langchain.dev/langchain-state-of-ai-2023/#most-used-vectorstores" target="_blank">banco de dados de vetores</a> mais usado, como pode ser visto neste relatório <a href="https://blog.langchain.dev/langchain-state-of-ai-2023" target="_blank">langchain state of ai 2023</a>.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Vectorstores mais usados](https://blog.langchain.dev/content/images/size/w1000/2023/12/Top-vectorstores--1-.png)</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Instalação">
								<a class="anchor-link" href="#Instalação">
									<p style="margin-left: 10px">Instalação</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Portanto, para instalar o chroma com o conda, você precisa fazer o seguinte</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>conda install conda-forge::chromadb<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Ou se você quiser instalar com o pip</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 80px;"><code>pip install chromadb<br></code></p>
						</div>
					</div>
				</div>
			</div>
	
	
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Uso-rápido">
								<a class="anchor-link" href="#Uso-rápido">
									<p style="margin-left: 10px">Uso rápido</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Para uma aplicação rápida, primeiro importamos o chroma</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">chromadb</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Em seguida, criamos um cliente chroma.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client</span> <span>=</span> <span style="color: #6b97e8;">chromadb</span><span>.</span><span style="color: #6b97e8;">Client</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Criamos uma coleção. Uma coleção é o local onde as incorporações, as incorporações e os metadados serão armazenados.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como você pode ver, é exibida uma mensagem indicando que nenhuma função de embeddings foi introduzida e, portanto, o padrão será <code><b>all-MiniLM-L6-v2</b></code>, que é semelhante ao modelo <code><b>paraphrase-MiniLM-L6-v2</b></code> que usamos na postagem <a href="https://maximofn.com/embeddings/" target="_blank">embeddings</a>.</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Falaremos mais sobre isso mais tarde, mas podemos escolher como gerar os embeddings.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Agora, adicionamos documentos, IDs e metadados à coleção.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a python docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is JavaScript docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;JavaScript source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id2&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Agora podemos fazer uma consulta</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">results</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a query of Python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">2</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">results</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2']],</p><p> 'distances': [[0.6205940246582031, 1.4631636142730713]],</p><p> 'metadatas': [[{'source': 'Python source'}, {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs', 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como podemos ver, a distância para id1 é menor do que a distância para id2, portanto, parece que o documento 1 é mais adequado para responder à consulta.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Bancos-de-dados-persistentes">
								<a class="anchor-link" href="#Bancos-de-dados-persistentes">
									<p style="margin-left: 10px">Bancos de dados persistentes</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">O banco de dados que criamos anteriormente é temporário e, assim que fecharmos o notebook, ele desaparecerá. Portanto, para criar um banco de dados persistente, é necessário passar para o chroma o caminho onde ele será salvo.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Primeiro, vamos criar a pasta onde salvaremos o banco de dados</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">pathlib</span> <span style="color: #833aa0;">import</span> <span style="color: #6b97e8;">Path</span></p>
<p></p>
<p><span style="color: #6b97e8;">chroma_path</span> <span>=</span> <span style="color: #6b97e8;">Path</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a34;">&quot;chromadb&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">chroma_path</span><span>.</span><span style="color: #6b97e8;">mkdir</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">exist_ok</span><span>=</span><span style="color: #7f6e38;">True</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Agora, criamos um cliente na pasta que criamos.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client_persistent</span> <span>=</span> <span style="color: #6b97e8;">chromadb</span><span>.</span><span style="color: #6b97e8;">PersistentClient</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">path</span> <span>=</span> <span style="color: #dfd84a;">str</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">chroma_path</span><span style="color: #e3e11d;">))</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h2 id="Coleções">
								<a class="anchor-link" href="#Coleções">
									<p style="margin-left: 10px">Coleções</p>
								</a>
							</h2>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Criar-coleções">
								<a class="anchor-link" href="#Criar-coleções">
									<p style="margin-left: 20px">Criar coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Ao criar uma coleção, um nome deve ser especificado. O nome deve ter as seguintes considerações:</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>O comprimento do nome deve ter entre 3 e 63 caracteres.</li>
									<li>O nome deve começar e terminar com uma letra minúscula ou dígito e pode conter pontos finais, hífens e sublinhados no meio.</li>
									<li>O nome não deve conter dois dois pontos consecutivos.</li>
									<li>O nome não deve ser um endereço IP válido.</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Também podemos atribuir a ele uma função de incorporação. Se não for atribuída uma função, o padrão será a função <code><b>all-MiniLM-L6-v2</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_other_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como você pode ver, uma segunda coleção foi criada para o mesmo cliente <code><b>chroma_client</b></code>, portanto, para um único cliente, podemos ter várias coleções.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Recuperar-coleções">
								<a class="anchor-link" href="#Recuperar-coleções">
									<p style="margin-left: 20px">Recuperar coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Se quisermos recuperar uma coleção de um cliente, podemos fazer isso com o método <code><b>get_collection</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Recuperar-ou-criar-coleções">
								<a class="anchor-link" href="#Recuperar-ou-criar-coleções">
									<p style="margin-left: 20px">Recuperar ou criar coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Podemos obter coleções e, se elas não existirem, criá-las com o método <code><b>get_or_create_collection</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_or_create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_tird_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Excluir-coleções">
								<a class="anchor-link" href="#Excluir-coleções">
									<p style="margin-left: 20px">Excluir coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Podemos excluir uma coleção com o método <code><b>delete_collection</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">delete_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;my_tird_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Obter-itens-de-coleções">
								<a class="anchor-link" href="#Obter-itens-de-coleções">
									<p style="margin-left: 20px">Obter itens de coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Podemos obter os primeiros 10 itens da coleção com o método <code><b>peek</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>   -0.013378280214965343]],</p><p> 'metadatas': [{'source': 'Python source'}, {'source': 'JavaScript source'}],</p><p> 'documents': ['This is a python docs', 'This is JavaScript docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Nesse caso, apenas dois foram obtidos, porque nossa coleção tem apenas dois documentos.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Se você quiser obter outro número de itens, poderá especificá-lo com o argumento <code><b>limit</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">limit</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>   0.012315398082137108]],</p><p> 'metadatas': [{'source': 'Python source'}],</p><p> 'documents': ['This is a python docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Obter-o-número-total-de-itens-nas-coleções">
								<a class="anchor-link" href="#Obter-o-número-total-de-itens-nas-coleções">
									<p style="margin-left: 20px">Obter o número total de itens nas coleções</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Podemos obter o número total de itens na coleção com o método <code><b>count</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">count</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>2</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Alterar-a-função-de-similaridade">
								<a class="anchor-link" href="#Alterar-a-função-de-similaridade">
									<p style="margin-left: 20px">Alterar a função de similaridade</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Anteriormente, quando fizemos uma consulta, obtivemos a similaridade dos embeddings com nossa consulta, porque, por padrão, em uma coleção, a função de distância é usada, mas podemos especificar qual função de similaridade queremos usar. As possibilidades são</p>
						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">
								<ul>
									<li>L2 ao quadrado (<code><b>l2</b></code>)</li>
									<li>Produto interno (<code><b>ip</b></code>)</li>
									<li>Similaridade de cosseno (<code><b>cosine</b></code>)</li>
								</ul>
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">

						</div>
					</div>
				</div>
			</div>
	
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Na postagem [Measurement of similarity between embeddings] (http://maximofn.com/embeddings-similarity/), vimos a similaridade L2 e cosseno, caso queira saber mais sobre elas.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Portanto, podemos criar coleções com outra função de similaridade com o argumento <code><b>metadata={"hnsw:space": <function>}</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;colection_cosine&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #6b97e8;">metadata</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;hnsw:space&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;cosine&quot;</span><span style="color: #e3e11d;">})</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h3 id="Adicionar-dados-à-coleção">
								<a class="anchor-link" href="#Adicionar-dados-à-coleção">
									<p style="margin-left: 20px">Adicionar dados à coleção</p>
								</a>
							</h3>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Adicionar-documentos">
								<a class="anchor-link" href="#Adicionar-documentos">
									<p style="margin-left: 30px">Adicionar documentos</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Vamos examinar os dados que temos na coleção novamente com o método <code><b>peek</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [],</p><p> 'embeddings': [],</p><p> 'metadatas': [],</p><p> 'documents': [],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como podemos ver, ela está vazia, porque a última coleção que criamos foi a função de similaridade <code><b>cosine</b></code>, mas não adicionamos dados a ela. Vamos ver como é isso, obtendo o nome da coleção</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">name</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>'colection_cosine'</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Assim, trazemos de volta a primeira coleção que criamos e para a qual inserimos dados.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Agora podemos adicionar dados à coleção com o método <code><b>add</b></code>.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Mojo docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is Rust docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Mojo source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Rust source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id4&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como você pode ver, os <code><b>IDs são consecutivos e não têm o mesmo valor de antes, pois os </b></code>IDs precisam ser exclusivos.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Se tentarmos adicionar dados repetindo <code><b>ID</b></code>s, ele indicará que já existem dados com esses <code><b>ID</b></code>s.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is TensorRT docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;TensorRT source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id4&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>Add of existing embedding ID: id3</p><p>Add of existing embedding ID: id4</p><p>Insert of existing embedding ID: id3</p><p>Insert of existing embedding ID: id4</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Não foi possível adicionar os documentos do Pytorch e do TensorRT.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Vamos dar uma olhada nos dados de coleta</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4'],</p><p> 'embeddings': [[-0.06924048811197281,</p><p>   0.061624377965927124,</p><p>   -0.090973399579525,</p><p>   0.013923337683081627,</p><p>   0.006247623357921839,</p><p>   -0.1078396588563919,</p><p>   -0.012472339905798435,</p><p>   0.03485661745071411,</p><p>   -0.06300634145736694,</p><p>   -0.00880391988903284,</p><p>   0.06879935413599014,</p><p>   0.0564003586769104,</p><p>   0.07040536403656006,</p><p>   -0.020754728466272354,</p><p>   -0.04048658534884453,</p><p>   -0.006666888482868671,</p><p>   -0.0953674241900444,</p><p>   0.049781784415245056,</p><p>   0.021780474111437798,</p><p>   -0.06344643980264664,</p><p>   0.06119797006249428,</p><p>   0.0834411084651947,</p><p>   -0.034758951514959335,</p><p>   0.0029120452236384153,</p><p>   ...</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'}],</p><p> 'documents': ['This is a python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como pode ser visto, os conteúdos originais de <code><b>ID3</b></code> e <code><b>ID4</b></code> foram mantidos.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- Open div header -->
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<h4 id="Adicionar-incorporações">
								<a class="anchor-link" href="#Adicionar-incorporações">
									<p style="margin-left: 30px">Adicionar incorporações</p>
								</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Podemos adicionar embeddings diretamente sem adicionar documentos. No entanto, isso não faz muito sentido, pois se adicionarmos apenas embeddings, quando quisermos fazer uma consulta, não haverá documentos para recuperar.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Obtemos algumas incorporações para criar outras com as mesmas dimensões.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding1</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">(</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Criamos novas incorporações com todos eles para sabermos quais foram criados.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">new_embedding</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span> <span>*</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #6b97e8;">new_embedding</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Agora adicionamos os novos embeddings</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Only embeddings&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id5&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Vamos dar uma olhada nos dados de coleta</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">][</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>[1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> ...,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0]</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">O último elemento da condição tem as incorporações que adicionamos.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;"> > Observação: Se tentarmos adicionar bordados com um tamanho diferente dos que já estão na coleção, ocorrerá um erro.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">new_embedding_differetn_size</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span> <span>*</span> <span style="color: #e3e11d;">(</span><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding1</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">new_embedding_differetn_size</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_stream output_stdout output_text">
								<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 383)</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing text_cell rendered">
				<div class="prompt input_prompt">
					<div class="inner_cell">
						<div class="text_cell_render border-box-sizing rendered_html">
							<p style="margin-left: 0px;">Como você pode ver, a dimensão de incorporação é 383, em vez de 384.</p>
						</div>
					</div>
				</div>
			</div>
			<div class="cell border-box-sizing code_cell rendered">
				<div class="input">
					<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
					<div class="inner_cell">
						<div class="input_area">
							<div class=" highlight hl-python3">
								<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding_differetn_size</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;New embeddings different size&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
								</pre>
							</div>
						</div>
					</div>
				</div>
				<div class="output_wrapper">
					<div class="output">
						<div class="output_area">
							<div class="prompt" style="margin-left: 20px;">Output:</div>
							<div class="output_subarea output_text output_error">
								<pre style="margin-left: 60px; line-height: 0%;"><p><span style="color:red">---------------------------------------------------------------------------</span></p><p><span style="color:red">InvalidDimensionException</span>                 Traceback (most recent call last)</p><p>Cell <span style="color:green">In[28], line 1</span></p><p><span style="color:green">----&gt; 1</span> collection[38;5;241m.[39madd(</p><p><span style="color:green"><b>      2</b></span>     embeddings[38;5;241m=[39mnew_embedding_differetn_size,</p><p><span style="color:green"><b>      3</b></span>     metadatas[38;5;241m=[39m[{[38;5;124m"[39m[38;5;124msource[39m[38;5;124m"[39m: [38;5;124m"[39m[38;5;124mNew embeddings different size[39m[38;5;124m"[39m}],</p><p><span style="color:green"><b>      4</b></span>     ids[38;5;241m=[39m[[38;5;124m"[39m[38;5;124mid6[39m[38;5;124m"[39m]</p><p><span style="color:green"><b>      5</b></span> )</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/models/Collection.py:168</span>, in Collection.add<span style="color:blue">(self, ids, embeddings, metadatas, documents, images, uris)</span></p><p><span style="color:green"><b>    163</b></span>             [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(</p><p><span style="color:green"><b>    164</b></span>                 [38;5;124m"[39m[38;5;124mYou must set a data loader on the collection if loading from URIs.[39m[38;5;124m"[39m</p><p><span style="color:green"><b>    165</b></span>             )</p><p><span style="color:green"><b>    166</b></span>         embeddings [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_embed([38;5;28mself[39m[38;5;241m.[39m_data_loader(uris))</p><p><span style="color:green">--&gt; 168</span> [38;5;28mself[39m[38;5;241m.[39m_client[38;5;241m.[39m_add(ids, [38;5;28mself[39m[38;5;241m.[39mid, embeddings, metadatas, documents, uris)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:375</span>, in SegmentAPI._add<span style="color:blue">(self, ids, collection_id, embeddings, metadatas, documents, uris)</span></p><p><span style="color:green"><b>    365</b></span> records_to_submit [38;5;241m=[39m []</p><p><span style="color:green"><b>    366</b></span> [38;5;28;01mfor[39;00m r [38;5;129;01min[39;00m _records(</p><p><span style="color:green"><b>    367</b></span>     t[38;5;241m.[39mOperation[38;5;241m.[39mADD,</p><p><span style="color:green"><b>    368</b></span>     ids[38;5;241m=[39mids,</p><p><span style="color:green">   (...)</span></p><p><span style="color:green"><b>    373</b></span>     uris[38;5;241m=[39muris,</p><p><span style="color:green"><b>    374</b></span> ):</p><p><span style="color:green">--&gt; 375</span>     [38;5;28mself[39m[38;5;241m.[39m_validate_embedding_record(coll, r)</p><p><span style="color:green"><b>    376</b></span>     records_to_submit[38;5;241m.[39mappend(r)</p><p><span style="color:green"><b>    377</b></span> [38;5;28mself[39m[38;5;241m.[39m_producer[38;5;241m.[39msubmit_embeddings(coll[[38;5;124m"[39m[38;5;124mtopic[39m[38;5;124m"[39m], records_to_submit)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:799</span>, in SegmentAPI._validate_embedding_record<span style="color:blue">(self, collection, record)</span></p><p><span style="color:green"><b>    797</b></span> add_attributes_to_current_span({[38;5;124m"[39m[38;5;124mcollection_id[39m[38;5;124m"[39m: [38;5;28mstr[39m(collection[[38;5;124m"[39m[38;5;124mid[39m[38;5;124m"[39m])})</p><p><span style="color:green"><b>    798</b></span> [38;5;28;01mif[39;00m record[[38;5;124m"[39m[38;5;124membedding[39m[38;5;124m"[39m]:</p><p><span style="color:green">--&gt; 799</span>     [38;5;28mself[39m[38;5;241m.[39m_validate_dimension(collection, [38;5;28mlen[39m(record[[38;5;124m"[39m[38;5;124membedding[39m[38;5;124m"[39m]), update[38;5;241m=[39m[38;5;28;01mTrue[39;00m)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/telemetry/opentelemetry/__init__.py:127</span>, in trace_method.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper<span style="color:blue">(*args, **kwargs)</span></p><p><span style="color:green"><b>    125</b></span> [38;5;28;01mglobal[39;00m tracer, granularity</p><p><span style="color:green"><b>    126</b></span> [38;5;28;01mif[39;00m trace_granularity [38;5;241m&lt;[39m granularity:</p><p><span style="color:green">--&gt; 127</span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p><span style="color:green"><b>    128</b></span> [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m tracer:</p><p><span style="color:green"><b>    129</b></span>     [38;5;28;01mreturn[39;00m f([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)</p><p></p><p>File <span style="color:green">~/miniforge3/envs/crhomadb/lib/python3.11/site-packages/chromadb/api/segment.py:814</span>, in SegmentAPI._validate_dimension<span style="color:blue">(self, collection, dim, update)</span></p><p><span style="color:green"><b>    812</b></span>         [38;5;28mself[39m[38;5;241m.[39m_collection_cache[[38;5;28mid[39m][[38;5;124m"[39m[38;5;124mdimension[39m[38;5;124m"[39m] [38;5;241m=[39m dim</p><p><span style="color:green"><b>    813</b></span> [38;5;28;01melif[39;00m collection[[38;5;124m"[39m[38;5;124mdimension[39m[38;5;124m"[39m] [38;5;241m!=[39m dim:</p><p><span style="color:green">--&gt; 814</span>     [38;5;28;01mraise[39;00m InvalidDimensionException(</p><p><span style="color:green"><b>    815</b></span>         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mEmbedding dimension [39m[38;5;132;01m{[39;00mdim[38;5;132;01m}[39;00m[38;5;124m does not match collection dimensionality [39m[38;5;132;01m{[39;00mcollection[[38;5;124m'[39m[38;5;124mdimension[39m[38;5;124m'[39m][38;5;132;01m}[39;00m[38;5;124m"[39m</p><p><span style="color:green"><b>    816</b></span>     )</p><p><span style="color:green"><b>    817</b></span> [38;5;28;01melse[39;00m:</p><p><span style="color:green"><b>    818</b></span>     [38;5;28;01mreturn[39;00m</p><p></p><p><span style="color:red">InvalidDimensionException</span>: Embedding dimension 383 does not match collection dimensionality 384</p></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Adicionar-documentos-e-embeddings">
							<a class="anchor-link" href="#Adicionar-documentos-e-embeddings">
								<p style="margin-left: 30px">Adicionar documentos e embeddings</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">O Chroma também permite adicionar documentos e embeddings ao mesmo tempo. Portanto, se isso for feito, ele não criará os embeddings do documento.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">embeddings</span><span>=</span><span style="color: #6b97e8;">new_embedding</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">}],</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se observarmos os embeddings do último elemento da coleção, veremos que eles são os que adicionamos.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()[</span><span style="color: #8d783e;">&#39;embeddings&#39;</span><span style="color: #e3e11d;">][</span><span>-</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">]</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>[1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> ...,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0,</p><p> 1.0]</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Consultas">
							<a class="anchor-link" href="#Consultas">
								<p style="margin-left: 20px">Consultas</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Consultas-por-documentos">
							<a class="anchor-link" href="#Consultas-por-documentos">
								<p style="margin-left: 30px">Consultas por documentos</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Para fazer uma consulta, usamos o método <code><b>query</b></code>. Com o parâmetro <code><b>n_results</b></code>, podemos especificar quantos resultados queremos obter.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se, em vez de <code><b>n_results = 1</b></code>, definirmos um valor maior, ele retornará mais resultados.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id4', 'id3', 'id5', 'id6']],</p><p> 'distances': [[0.5389559268951416,</p><p>   1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625,</p><p>   384.56890869140625]],</p><p> 'metadatas': [[{'source': 'Python source'},</p><p>   {'source': 'JavaScript source'},</p><p>   {'source': 'Rust source'},</p><p>   {'source': 'Mojo source'},</p><p>   {'source': 'Only embeddings'},</p><p>   {'source': 'Pytorch source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs',</p><p>   'This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   None,</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos filtrar por um valor de metadados com o argumento <code><b>where</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos ver que apenas um resultado já foi retornado</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Também podemos filtrar pelo conteúdo do documento com o argumento <code><b>where_document</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Mais tarde, falaremos mais sobre as possibilidades que temos aqui</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Quando fazemos uma consulta, podemos dizer quais dados queremos que sejam retornados, por exemplo, apenas os embeddings, apenas os metadados ou vários dados, especificando-os em uma lista usando o argumento <code><b>include</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">include</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;documents&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;distances&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id4', 'id3', 'id5', 'id6']],</p><p> 'distances': [[0.5389559268951416,</p><p>   1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625,</p><p>   384.56890869140625]],</p><p> 'metadatas': None,</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs',</p><p>   'This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   None,</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vemos que <code><b>metadatas</b></code> agora é <code><b>None</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Várias-consultas-ao-mesmo-tempo">
							<a class="anchor-link" href="#Várias-consultas-ao-mesmo-tempo">
								<p style="margin-left: 30px">Várias consultas ao mesmo tempo</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos consultar a coleção várias vezes ao mesmo tempo, passando uma lista para o parâmetro <code><b>query_texts</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;programming language&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;high level&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;multi propuse&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1'], ['id1'], ['id3']],</p><p> 'distances': [[1.152251958847046], [1.654376745223999], [1.6786067485809326]],</p><p> 'metadatas': [[{'source': 'Python source'}],</p><p>  [{'source': 'Python source'}],</p><p>  [{'source': 'Mojo source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs'],</p><p>  ['This is a python docs'],</p><p>  ['This is a Mojo docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Para cada consulta, ele retornou um resultado</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Isso é muito útil quando o banco de dados está hospedado em um servidor e somos cobrados por cada consulta que fazemos. Portanto, em vez de fazer uma consulta para cada pergunta que temos, fazemos uma consulta com todas as perguntas que temos.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Consultas-para-incorporações">
							<a class="anchor-link" href="#Consultas-para-incorporações">
								<p style="margin-left: 30px">Consultas para incorporações</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Quando consultamos os documentos, o que o chroma faz é calcular a incorporação dos <code><b>textos de consulta</b></code> e procurar os documentos que mais se assemelham a essa incorporação. Mas se já tivermos a incorporação, podemos fazer a consulta diretamente com a incorporação.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Primeiro, vamos obter a incorporação de uma consulta com a mesma função de incorporação das coleções.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">query_texts</span> <span>=</span> <span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python language&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #6b97e8;">query_embeddings</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">query_texts</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">query_embeddings</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>[[-0.04816831275820732,</p><p>  0.014662696048617363,</p><p>  -0.031021444126963615,</p><p>  0.008308809250593185,</p><p>  -0.07176128774881363,</p><p>  -0.10355626791715622,</p><p>  0.06690476089715958,</p><p>  0.04229631647467613,</p><p>  -0.03681119903922081,</p><p>  -0.04993892088532448,</p><p>  0.03186540678143501,</p><p>  0.015252595767378807,</p><p>  0.0642094686627388,</p><p>  0.018130118027329445,</p><p>  0.016300885006785393,</p><p>  -0.028082313016057014,</p><p>  -0.03994889184832573,</p><p>  0.023195551708340645,</p><p>  0.004547565709799528,</p><p>  -0.11764183640480042,</p><p>  0.019792592152953148,</p><p>  0.0496944822371006,</p><p>  -0.013253907673060894,</p><p>  0.03610404208302498,</p><p>  0.030529780313372612,</p><p>  -0.01815914921462536,</p><p>  -0.009753326885402203,</p><p>  0.03412770479917526,</p><p>  0.03020440600812435,</p><p>  ...</p><p>  0.02079579420387745,</p><p>  -0.00972712505608797,</p><p>  0.13462257385253906,</p><p>  0.15277136862277985,</p><p>  -0.028574923053383827]]</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Agora podemos fazer a consulta com a incorporação</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_embeddings</span><span>=</span><span style="color: #6b97e8;">query_embeddings</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.6297433376312256]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como antes, podemos obter mais resultados aumentando o valor do parâmetro <code><b>n_results</b></code> e podemos filtrar com os parâmetros <code><b>where</b></code> e <code><b>where_document</b></code>. Também podemos fazer várias consultas ao mesmo tempo e especificar quais dados queremos retornar com o parâmetro <code><b>include</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Observação: se tentarmos fazer uma consulta com uma incorporação de uma dimensão diferente das que já estão na coleção, receberemos um erro.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Recuperar-documentos-por-`ID`.">
							<a class="anchor-link" href="#Recuperar-documentos-por-`ID`.">
								<p style="margin-left: 20px">Recuperar documentos por <code><b>ID</b></code>.</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se soubermos o <code><b>ID</b></code> de um documento, poderemos recuperar o documento com o método <code><b>get</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': None,</p><p> 'metadatas': [{'source': 'Python source'}],</p><p> 'documents': ['This is a python docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Também é possível recuperar vários documentos de uma só vez.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">get</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id2&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;id3&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3'],</p><p> 'embeddings': None,</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'}],</p><p> 'documents': ['This is a python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como antes, podemos filtrar com os argumentos <code><b>where</b></code> e <code><b>where_document</b></code>. Também podemos fazer várias consultas ao mesmo tempo e especificar quais dados queremos retornar com o parâmetro <code><b>include</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Filtragem">
							<a class="anchor-link" href="#Filtragem">
								<p style="margin-left: 20px">Filtragem</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como vimos, você pode filtrar por metadados com o parâmetro <code><b>where</b></code> e pelo conteúdo do documento com o parâmetro <code><b>where_document</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Filtragem-por-metadados">
							<a class="anchor-link" href="#Filtragem-por-metadados">
								<p style="margin-left: 30px">Filtragem por metadados</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como os metadados entrarão em mim como um dicionário</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>collection.add(<br>    documents=["This is a python docs", "This is JavaScript docs"],<br>    metadatas=[{"source": "Python source"}, {"source": "JavaScript source"}],<br>    ids=["id1", "id2"]<br>)<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">A primeira coisa que temos de fazer é indicar a chave dos metadados pelos quais queremos filtrar. Em seguida, temos de colocar um operador e o valor</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": {<br>        <Operador>: <Valor>.<br>    }<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Os valores possíveis do oerador são</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$eq</b> - igual a (string, int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$ne</b> - não é igual a (string, int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$gt</b> - maior que (int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$gte</b> - maior ou igual a (int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$lt</b> - menor que (int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> <b>$lte</b> - menor que ou igual a (int, float)</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vamos dar uma olhada em uma consulta</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">1</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where</span><span>=</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>        <span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> </p>
<p>        <span style="color: #e3e11d;">{</span></p>
<p>            <span style="color: #7e7a34;">&quot;$eq&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span></p>
<p>        <span style="color: #e3e11d;">}</span></p>
<p>    <span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se não colocarmos o operador, o padrão será <code><b>$eq</b></code>, ou seja, isto</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": {<br>        <"$eq">: <Value>.<br>    }<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">É o mesmo que isto</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "metadata_field": <Value>.<br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Observação**: O Chroma só pesquisará dados que tenham os metadados <code><b>source</b></code>; por exemplo, se você pesquisar <code><b>where={"version": {"$ne": 1}}</b></code>, ele só retornará dados que tenham uma chave <code><b>version</b></code> em seus metadados e que não sejam 1.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h4 id="Filtragem-por-conteúdo-do-documento">
							<a class="anchor-link" href="#Filtragem-por-conteúdo-do-documento">
								<p style="margin-left: 30px">Filtragem por conteúdo do documento</p>
							</a>
						</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Ao filtrar pelo conteúdo do documento, temos duas chaves possíveis: <code><b>$contains</b></code> e <code><b>$not_contains</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Por exemplo, procuramos dados na coleção em que a palavra "python" aparece em seu documento.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">E todos os dados na coleção em que a palavra <code><b>python</b></code> não aparece em seu documento</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$not_contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id2', 'id4', 'id3', 'id6']],</p><p> 'distances': [[1.5743632316589355,</p><p>   1.578398585319519,</p><p>   1.59961998462677,</p><p>   384.56890869140625]],</p><p> 'metadatas': [[{'source': 'JavaScript source'},</p><p>   {'source': 'Rust source'},</p><p>   {'source': 'Mojo source'},</p><p>   {'source': 'Pytorch source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is JavaScript docs',</p><p>   'This is Rust docs',</p><p>   'This is a Mojo docs',</p><p>   'This is a Pytorch docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Também podemos usar os operadores lógicos <code><b>$and</b></code> e <code><b>$or</b></code> para fazer consultas mais complexas.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "$e": [<br>        {<br>            <Operador>: <Valor>.<br>        },<br>        {<br>            <Operador>: <Valor>.<br>        }<br>    <br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>{<br>    "$or": [<br>        {<br>            <Operador>: <Valor>.<br>        },<br>        {<br>            <Operador>: <Valor>.<br>        }<br>    <br>}<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Por exemplo, pesquisamos todos os documentos que contêm as palavras <code><b>python</b></code> e <code><b>docs</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span></p>
<p>    <span style="color: #e3e11d;">{</span></p>
<p>        <span style="color: #7e7a34;">&quot;$and&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #e3e11d;">[</span></p>
<p>            <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>            <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;docs&quot;</span><span style="color: #e3e11d;">},</span></p>
<p>        <span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #e3e11d;">},</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.5389559268951416]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Atualizar-dados">
							<a class="anchor-link" href="#Atualizar-dados">
								<p style="margin-left: 20px">Atualizar dados</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Qualquer item de dados pode ser atualizado com o método update.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">update</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id1&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a updated Python docs&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vamos ver se ela foi atualizada</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">n_results</span><span>=</span><span style="color: #7e7a38;">10</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">where_document</span><span>=</span><span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;$contains&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python&quot;</span><span style="color: #e3e11d;">}</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1']],</p><p> 'distances': [[0.8247963190078735]],</p><p> 'metadatas': [[{'source': 'Python source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a updated Python docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Observação: se você tentar atualizar um <code><b>ID</b></code> que não existe, ocorrerá um erro.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"> > Observação: se você tentar atualizar uma incorporação com outra incorporação de tamanho diferente, ocorrerá um erro.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Atualizar-ou-adicionar-dados">
							<a class="anchor-link" href="#Atualizar-ou-adicionar-dados">
								<p style="margin-left: 20px">Atualizar ou adicionar dados</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Com o método <code><b>upsert</b></code>, podemos atualizar um dado se ele já existir ou adicioná-lo se ele não existir.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">upsert</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id6&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a Pytorch docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Pytorch source&quot;</span><span style="color: #e3e11d;">}],</span>   </p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vamos ver se ele foi adicionado à coleção</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4', 'id5', 'id6'],</p><p> 'embeddings': [[-0.08374718576669693,</p><p>   0.01027572900056839,</p><p>   -0.04819200187921524,</p><p>   0.01758415624499321,</p><p>   0.013158757239580154,</p><p>   -0.11435151100158691,</p><p>   -0.024248722940683365,</p><p>   -0.01319972239434719,</p><p>   -0.09626100957393646,</p><p>   -0.010561048053205013,</p><p>   0.09369225800037384,</p><p>   0.06017905846238136,</p><p>   0.031283188611269,</p><p>   0.014855983667075634,</p><p>   -0.0015984248602762818,</p><p>   0.023238031193614006,</p><p>   -0.04709107056260109,</p><p>   -0.007838696241378784,</p><p>   0.012870412319898605,</p><p>   -0.028354981914162636,</p><p>   -0.007653804495930672,</p><p>   0.09018168598413467,</p><p>   0.060235824435949326,</p><p>   0.0005205210763961077,</p><p>   ...</p><p>   0.014388148672878742]],</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'},</p><p>  {'source': 'Only embeddings'},</p><p>  {'source': 'Pytorch source'}],</p><p> 'documents': ['This is a updated Python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs',</p><p>  None,</p><p>  'This is a Pytorch docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vemos que sim</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h3 id="Excluir-dados">
							<a class="anchor-link" href="#Excluir-dados">
								<p style="margin-left: 20px">Excluir dados</p>
							</a>
						</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos excluir dados de uma coleção com o método <code><b>delete</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Removeremos os dados com <code><b>ID</b></code> <code><b>id5</b></code>, que é o que adicionamos com sua incorporação de todos os dados</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">delete</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;id5&quot;</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vamos ver se ele foi removido</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3', 'id4', 'id6'],</p><p> 'embeddings': [[-0.08374718576669693,</p><p>   0.01027572900056839,</p><p>   -0.04819200187921524,</p><p>   0.01758415624499321,</p><p>   0.013158757239580154,</p><p>   -0.11435151100158691,</p><p>   -0.024248722940683365,</p><p>   -0.01319972239434719,</p><p>   -0.09626100957393646,</p><p>   -0.010561048053205013,</p><p>   0.09369225800037384,</p><p>   0.06017905846238136,</p><p>   0.031283188611269,</p><p>   0.014855983667075634,</p><p>   -0.0015984248602762818,</p><p>   0.023238031193614006,</p><p>   -0.04709107056260109,</p><p>   -0.007838696241378784,</p><p>   0.012870412319898605,</p><p>   -0.028354981914162636,</p><p>   -0.007653804495930672,</p><p>   0.09018168598413467,</p><p>   0.060235824435949326,</p><p>   0.0005205210763961077,</p><p>   ...</p><p>   0.07033486664295197,</p><p>   0.014388148672878742]],</p><p> 'metadatas': [{'source': 'Python source'},</p><p>  {'source': 'JavaScript source'},</p><p>  {'source': 'Mojo source'},</p><p>  {'source': 'Rust source'},</p><p>  {'source': 'Pytorch source'}],</p><p> 'documents': ['This is a updated Python docs',</p><p>  'This is JavaScript docs',</p><p>  'This is a Mojo docs',</p><p>  'This is Rust docs',</p><p>  'This is a Pytorch docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vemos que não é mais</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h2 id="Embeddings">
							<a class="anchor-link" href="#Embeddings">
								<p style="margin-left: 10px">Embeddings</p>
							</a>
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Conforme mencionado acima, podemos usar diferentes funções de embeddings e, se nenhuma for especificada, ele usará <code><b>all-MiniLM-L6-v2</b></code>. Na página chroma <a href="https://docs.trychroma.com/embeddings" target="_blank">embeddings documentation</a>, podemos ver as diferentes funções de embeddings que podemos usar. Como isso pode mudar e algumas delas são pagas e exigem uma chave de API, explicaremos apenas como usar as do HuggingFace.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Primeiro, definimos a função de incorporação</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">import</span> <span style="color: #4fcd7d;">chromadb.utils.embedding_functions</span> <span style="color: #a04cc1;">as</span> <span style="color: #4fcd7d;">embedding_functions</span></p>
<p></p>
<p><span style="color: #6b97e8;">huggingface_ef</span> <span>=</span> <span style="color: #6b97e8;">embedding_functions</span><span>.</span><span style="color: #6b97e8;">HuggingFaceEmbeddingFunction</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">api_key</span><span>=</span><span style="color: #7e7a34;">&quot;YOUR_API_KEY&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">model_name</span><span>=</span><span style="color: #7e7a34;">&quot;sentence-transformers/all-mpnet-base-v2&quot;</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">No meu caso, utilizo o <code><b>sentence-transformers/all-mpnet-base-v2</b></code>, que é o mais baixado dos <code><b>sentence-transformers</b></code> no momento em que escrevo esta postagem.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Para adicionar agora a função de incorporação à coleção, precisamos adicionar o argumento <code><b>metadata={"embedding": <function>}</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;colection_huggingface&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">embedding_function</span><span>=</span><span style="color: #6b97e8;">huggingface_ef</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos verificar se adicionamos a nova função de incorporação calculando as incorporações de uma palavra.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">([</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 768)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">O comprimento da incorporação é de 768</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se agora calcularmos a incorporação com a função de incorporação da coleção anterior</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">get_collection</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">name</span> <span>=</span> <span style="color: #7e7a34;">&quot;my_collection&quot;</span><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">_embedding_function</span><span style="color: #e3e11d;">([</span><span style="color: #7e7a34;">&quot;python&quot;</span><span style="color: #e3e11d;">])</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(1, 384)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vemos que agora o comprimento da incorporação é 384, ou seja, usamos uma nova função de incorporação antes.</p>
					</div>
				</div>
			</div>
		</div>
		<!-- Open div header -->
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<h2 id="Multimodalidade">
							<a class="anchor-link" href="#Multimodalidade">
								<p style="margin-left: 10px">Multimodalidade</p>
							</a>
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Podemos adicionar embeddings de imagem, pois o chroma tem o <a href="https://github.com/mlfoundations/open_clip" target="_blank">OpenCLIP</a> incorporado. O <a href="https://github.com/mlfoundations/open_clip" target="_blank">OpenCLIP</a> é uma implementação de código aberto do <a href="https://github.com/openai/CLIP" target="_blank">CLIP</a> (Contrastive Language-Image Pre-Training), que é uma rede neural OpenAI capaz de fornecer uma descrição de uma imagem.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Para usar o OpenCLIP, temos que instalá-lo com o pip</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 80px;"><code>pip install open-clip-torch<br></code></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Depois de instalado, podemos usá-lo para criar embeddings da seguinte imagem</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/chromadb_dalle3.webp" alt="chroma db - python mixture"></p></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Eu o tenho em meu caminho local <code><b>../images/chromadb_dalle3.webp</b></code>.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">chromadb.utils.embedding_functions</span> <span style="color: #833aa0;">import</span>  <span style="color: #6b97e8;">OpenCLIPEmbeddingFunction</span></p>
<p></p>
<p><span style="color: #6b97e8;">embedding_function</span> <span>=</span> <span style="color: #6b97e8;">OpenCLIPEmbeddingFunction</span><span style="color: #e3e11d;">()</span></p>
<p><span style="color: #6b97e8;">image</span> <span>=</span> <span style="color: #7e7a34;">&quot;../images/chromadb_dalle3.webp&quot;</span></p>
<p><span style="color: #6b97e8;">embedding</span> <span>=</span> <span style="color: #6b97e8;">embedding_function</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">),</span> <span style="color: #dfd84a;">len</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">embedding</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a38;">0</span><span style="color: #e3e11d;">])</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(30, 512)</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como podemos ver, ele cria uma incorporação de tamanho 30x512.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">O Chroma também vem com um carregador de imagens.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #833aa0;">from</span> <span style="color: #4fcd7d;">chromadb.utils.data_loaders</span> <span style="color: #833aa0;">import</span> <span style="color: #6b97e8;">ImageLoader</span></p>
<p><span style="color: #6b97e8;">data_loader</span> <span>=</span> <span style="color: #6b97e8;">ImageLoader</span><span style="color: #e3e11d;">()</span></p>
<p><span style="color: #6b97e8;">data</span> <span>=</span> <span style="color: #6b97e8;">data_loader</span><span>.</span><span style="color: #6b97e8;">_load_image</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #dfd84a;">type</span><span style="color: #e3e11d;">(</span><span style="color: #6b97e8;">data</span><span style="color: #e3e11d;">),</span> <span style="color: #6b97e8;">data</span><span>.</span><span style="color: #6b97e8;">shape</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>(numpy.ndarray, (1024, 1024, 3))</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Portanto, podemos criar uma coleção multimodal com essa função de incorporação e o carregador de imagens.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span> <span>=</span> <span style="color: #6b97e8;">chroma_client</span><span>.</span><span style="color: #6b97e8;">create_collection</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">name</span><span>=</span><span style="color: #7e7a34;">&quot;multimodal_collection&quot;</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">embedding_function</span><span>=</span><span style="color: #6b97e8;">embedding_function</span><span style="color: #e3e11d;">,</span></p>
<p>    <span style="color: #6b97e8;">data_loader</span><span>=</span><span style="color: #6b97e8;">data_loader</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">E podemos adicionar os embeddings das imagens a ele.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id1&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Vamos ver o que ele salvou</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   0.04397008568048477,</p><p>   0.04396628588438034]],</p><p> 'metadatas': [None],</p><p> 'documents': [None],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">O Chroma não armazena as imagens, apenas os embeddings, portanto, para não perder a relação entre os embeddings e as imagens, podemos salvar o caminho para as imagens nos metadados. Vamos usar o método <code><b>update</b></code> para adicionar o caminho à imagem</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">update</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id1&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #6b97e8;">image</span><span style="color: #e3e11d;">}]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Se voltarmos e olharmos para o que a coleção tem reservado</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   0.04397008568048477,</p><p>   0.04396628588438034]],</p><p> 'metadatas': [{'source': '../images/chromadb_dalle3.webp'}],</p><p> 'documents': [None],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Como a coleção é multimodal, podemos adicionar documentos a ela como antes.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">add</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">ids</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #8d783e;">&#39;id2&#39;</span><span style="color: #e3e11d;">,</span> <span style="color: #8d783e;">&#39;id3&#39;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">documents</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;This is a python docs&quot;</span><span style="color: #e3e11d;">,</span> <span style="color: #7e7a34;">&quot;This is JavaScript docs&quot;</span><span style="color: #e3e11d;">],</span></p>
<p>    <span style="color: #6b97e8;">metadatas</span><span>=</span><span style="color: #e3e11d;">[{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;Python source&quot;</span><span style="color: #e3e11d;">},</span> <span style="color: #e3e11d;">{</span><span style="color: #7e7a34;">&quot;source&quot;</span><span style="color: #e3e11d;">:</span> <span style="color: #7e7a34;">&quot;JavaScript source&quot;</span><span style="color: #e3e11d;">}]</span></p>
<p><span style="color: #e3e11d;">)</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">peek</span><span style="color: #e3e11d;">()</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': ['id1', 'id2', 'id3'],</p><p> 'embeddings': [[-0.014372998848557472,</p><p>   0.0063015008345246315,</p><p>   -0.03794914484024048,</p><p>   -0.028725482523441315,</p><p>   -0.014304812066257,</p><p>   -0.04323698952794075,</p><p>   0.008670451119542122,</p><p>   -0.016066772863268852,</p><p>   -0.02365742437541485,</p><p>   0.07881983369588852,</p><p>   0.022775636985898018,</p><p>   0.004407387692481279,</p><p>   0.058205753564834595,</p><p>   -0.02389293536543846,</p><p>   -0.027586588636040688,</p><p>   0.05778728798031807,</p><p>   -0.2631031572818756,</p><p>   0.044124454259872437,</p><p>   0.010588622651994228,</p><p>   -0.035578884184360504,</p><p>   -0.041719693690538406,</p><p>   -0.0033654430881142616,</p><p>   -0.04731074720621109,</p><p>   -0.0019943572115153074,</p><p>   ...</p><p>   -0.061795610934495926,</p><p>   -0.02433035336434841]],</p><p> 'metadatas': [{'source': '../images/chromadb_dalle3.webp'},</p><p>  {'source': 'Python source'},</p><p>  {'source': 'JavaScript source'}],</p><p> 'documents': [None, 'This is a python docs', 'This is JavaScript docs'],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Por fim, podemos fazer consultas com texto</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_texts</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #7e7a34;">&quot;persona trabajando en una mesa&quot;</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id2', 'id1', 'id3']],</p><p> 'distances': [[1.1276676654815674, 1.1777206659317017, 1.2047353982925415]],</p><p> 'metadatas': [[{'source': 'Python source'},</p><p>   {'source': '../images/chromadb_dalle3.webp'},</p><p>   {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [['This is a python docs', None, 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Com o texto, não obtivemos a imagem como o primeiro resultado, se eu seguir a documentação do python</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Mas também podemos criá-las com imagens. Neste caso, vou fazer isso com esta imagem</p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;"><p align="center"><img src="http://maximofn.com/wp-content/uploads/2024/02/chromadb_elegant.png" alt="chroma logo"></p></p>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing code_cell rendered">
			<div class="input">
				<div class="prompt input_prompt" style="margin-left: 20px;">Code:</div>
				<div class="inner_cell">
					<div class="input_area">
						<div class=" highlight hl-python3">
							<pre class="python" style="margin-left: 40px; line-height: 0%;font-family:monospace;">
<p><span style="color: #6b97e8;">query_image</span> <span>=</span> <span style="color: #7e7a34;">&quot;http://maximofn.com/wp-content/uploads/2024/02/chromadb_elegant.png&quot;</span></p>
<p><span style="color: #6b97e8;">collection</span><span>.</span><span style="color: #6b97e8;">query</span><span style="color: #e3e11d;">(</span></p>
<p>    <span style="color: #6b97e8;">query_images</span><span>=</span><span style="color: #e3e11d;">[</span><span style="color: #6b97e8;">query_image</span><span style="color: #e3e11d;">],</span></p>
<p><span style="color: #e3e11d;">)</span></p>
							</pre>
						</div>
					</div>
				</div>
			</div>
			<div class="output_wrapper">
				<div class="output">
					<div class="output_area">
						<div class="prompt" style="margin-left: 20px;">Output:</div>
						<div class="output_subarea output_stream output_stdout output_text">
							<pre style="margin-left: 60px; line-height: 0%;"><p>{'ids': [['id1', 'id2', 'id3']],</p><p> 'distances': [[0.6684874296188354, 0.9450105428695679, 1.0639115571975708]],</p><p> 'metadatas': [[{'source': '../images/chromadb_dalle3.webp'},</p><p>   {'source': 'Python source'},</p><p>   {'source': 'JavaScript source'}]],</p><p> 'embeddings': None,</p><p> 'documents': [[None, 'This is a python docs', 'This is JavaScript docs']],</p><p> 'uris': None,</p><p> 'data': None}</p></pre>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cell border-box-sizing text_cell rendered">
			<div class="prompt input_prompt">
				<div class="inner_cell">
					<div class="text_cell_render border-box-sizing rendered_html">
						<p style="margin-left: 0px;">Agora, ele apresenta como primeiro resultado a imagem que salvamos</p>
					</div>
				</div>
			</div>
		</div>
	</div>
<!-- Close class contenido -->
</div>
<!-- Close div notebook container -->
</div>
<!-- Close div notebook -->
</div>

