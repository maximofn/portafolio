<section class="section-block-markdown-cell">
<h1 id="DataLoader-+-pin_memory">DataLoader + pin_memory<a class="anchor-link" href="#DataLoader-+-pin_memory">¶</a></h1>
</section>
<section class="section-block-markdown-cell">
<blockquote>
<p>Aviso: Este post foi traduzido para o português usando um modelo de tradução automática. Por favor, me avise se encontrar algum erro.</p>
</blockquote>
</section>
<section class="section-block-markdown-cell">
<p>Em PyTorch, quando se treinam redes neurais, especialmente em grandes conjuntos de dados, aproveitar o <code>DataLoader</code> com <code>pin_memory=True</code> e definir <code>num_workers</code> em um número positivo aumenta significativamente o desempenho.</p>
</section>
<section class="section-block-markdown-cell">
<p><code>pin_memory=True</code> permite uma transferência mais rápida dos dados para a GPU mantendo-os na memória <code>pinned</code> (bloqueada por página).</p>
</section>
<section class="section-block-markdown-cell">
<p>Ao mesmo tempo, <code>num_workers</code> determina o número de subprocessos utilizados para a carga de dados, o que permite a obtenção assíncrona de dados sem bloquear o cálculo da GPU</p>
</section>
<section class="section-block-markdown-cell">
<p>Essa combinação minimiza o tempo de inatividade da GPU, garantindo um uso mais eficiente dos recursos de hardware e tempos de treinamento do modelo mais rápidos.</p>
</section>
<section class="section-block-code-cell-">
<div class="input-code">
<div class="highlight hl-python"><pre><span></span><span class="n">data_loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">pin_memory</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
